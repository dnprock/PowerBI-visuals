{"version":3,"sources":["visuals/asterPlot/visual/asterPlot.ts","visuals/tornadoChart/visual/tornadoChart.ts","visuals/mekkoChart/visual/mekkoChart.ts","visuals/sankeyDiagram/visual/sankeyDiagram.ts","visuals/bulletChart/visual/bulletChart.ts","visuals/wordCloud/visual/wordCloud.ts","visuals/chicletSlicer/visual/chicletSlicer.ts","visuals/chordChart/visual/chordChart.ts","visuals/enhancedScatterChart/visual/enhancedScatterChart.ts","visuals/globeMap/visual/globeMap.ts","visuals/radarChart/visual/radarChart.ts","visuals/histogram/visual/histogram.ts","visuals/colorBarChart/visual/colorBarChart.ts","visuals/dotPlot/visual/dotPlot.ts","visuals/forceGraph/visual/forceGraph.ts","visuals/gantt/visual/gantt.ts","visuals/timeline/visual/timeline.ts","visuals/streamGraph/visual/streamGraph.ts","visuals/sunburst/visual/sunburst.ts","visuals/lineDotChart/visual/lineDotChart.ts","plugins.ts","services/customVisualPluginService.ts"],"names":[],"mappings":"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","file":"CustomVisuals.js","sourcesContent":["/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import ArcDescriptor = D3.Layout.ArcDescriptor;\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import createClassAndSelector = jsCommon.CssConstants.createClassAndSelector;\n    import PixelConverter = jsCommon.PixelConverter;\n    import ValueFormatter = powerbi.visuals.valueFormatter;\n\n    const AsterPlotVisualClassName: string = 'asterPlot';\n    const AsterPlotLegendObjectName: string = 'legend';\n    const AsterDefaultOuterLineThickness: number = 1;\n    const AsterDefaultLabelFill: Fill = { solid: { color: '#333' } };\n    const AsterDefaultLegendFontSize: number = 8;\n    const AsterRadiusRatio: number = 0.9;\n    const AsterConflictRatio = 0.9;\n    const MaxPrecision: number = 17;\n\n    export interface AsterData {\n        dataPoints: AsterDataPoint[];\n        highlightedDataPoints?: AsterDataPoint[];\n        legendData: LegendData;\n        valueFormatter: IValueFormatter;\n        legendSettings: AsterPlotLegendSettings;\n        labelSettings: VisualDataLabelsSettings;\n        showOuterLine: boolean;\n        outerLineThickness: number;\n    }\n\n    export interface AsterPlotLegendSettings {\n        show: boolean;\n        position: string;\n        showTitle: boolean;\n        labelColor: string;\n        titleText: string;\n        fontSize: number;\n    }\n\n    export interface AsterArcDescriptor extends ArcDescriptor {\n        isLabelHasConflict?: boolean;\n    }\n\n    export interface AsterDataPoint extends SelectableDataPoint {\n        color: string;\n        sliceHeight: number;\n        sliceWidth: number;\n        label: string;\n        highlight?: boolean;\n        tooltipInfo: TooltipDataItem[];\n        labelFontSize: string;\n    }\n\n    export interface AsterPlotBehaviorOptions {\n        selection: D3.Selection;\n        highlightedSelection: D3.Selection;\n        clearCatcher: D3.Selection;\n        interactivityService: IInteractivityService;\n    }\n\n    class AsterPlotWebBehavior implements IInteractiveBehavior {\n        private selection: D3.Selection;\n        private highlightedSelection: D3.Selection;\n        private clearCatcher: D3.Selection;\n        private interactivityService: IInteractivityService;\n\n        public bindEvents(options: AsterPlotBehaviorOptions, selectionHandler: ISelectionHandler) {\n            this.selection = options.selection;\n            this.highlightedSelection = options.highlightedSelection;\n            this.clearCatcher = options.clearCatcher;\n            this.interactivityService = options.interactivityService;\n\n            this.selection.on('click', (d, i: number) => {\n                selectionHandler.handleSelection(d.data, d3.event.ctrlKey);\n            });\n\n            if (this.highlightedSelection)\n                this.highlightedSelection.on('click', (d, i: number) => {\n                    selectionHandler.handleSelection(d.data, d3.event.ctrlKey);\n                });\n\n            this.clearCatcher.on('click', () => {\n                selectionHandler.handleClearSelection();\n            });\n        }\n\n        public renderSelection(hasSelection: boolean) {\n            let hasHighlights = this.interactivityService.hasSelection();\n            this.selection.style(\"fill-opacity\", (d) => {\n                return ColumnUtil.getFillOpacity(d.data.selected, d.data.highlight, !d.data.highlight && hasSelection, !d.data.selected && hasHighlights);\n            });\n        }\n    }\n\n    export class AsterPlotWarning implements IVisualWarning {\n        private message: string;\n        constructor(message: string) {\n            this.message = message;\n        }\n\n        public get code(): string {\n            return \"AsterPlotWarning\";\n        }\n\n        public getMessages(resourceProvider: jsCommon.IStringResourceProvider): IVisualErrorMessage {\n            return {\n                message: this.message,\n                title: resourceProvider.get(\"\"),\n                detail: resourceProvider.get(\"\")\n            };\n        }\n    }\n\n    export class AsterPlot implements IVisual {\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    displayName: 'Category',\n                    name: 'Category',\n                    kind: powerbi.VisualDataRoleKind.Grouping,\n                },\n                {\n                    displayName: 'Y Axis',\n                    name: 'Y',\n                    kind: powerbi.VisualDataRoleKind.Measure,\n                },\n            ],\n            dataViewMappings: [{\n                conditions: [\n                    { 'Category': { max: 1 }, 'Y': { max: 2 } }\n                ],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        select: [{ bind: { to: 'Y' } }]\n                    },\n                }\n            }],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter('Visual_General'),\n                    properties: {\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        },\n                    },\n                },\n                legend: {\n                    displayName: 'Legend',\n                    description: 'Display legend options',\n                    properties: {\n                        show: {\n                            displayName: 'Show',\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: 'Position',\n                            description: 'Select the location for the legend',\n                            type: { enumeration: legendPosition.type }\n                        },\n                        showTitle: {\n                            displayName: 'Title',\n                            description: 'Display a title for legend symbols',\n                            type: { bool: true }\n                        },\n                        titleText: {\n                            displayName: 'Legend Name',\n                            description: 'Title text',\n                            type: { text: true },\n                            suppressFormatPainterCopy: true\n                        },\n                        labelColor: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: 'Text Size',\n                            type: { formatting: { fontSize: true } }\n                        }\n                    }\n                },\n                label: {\n                    displayName: 'Center Label',\n                    properties: {\n                        fill: {\n                            displayName: 'Fill',\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                labels: {\n                    displayName: 'Detail Labels',\n                    properties: {\n                        show: {\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        labelDisplayUnits: {\n                            displayName: 'Display Units',\n                            type: { formatting: { labelDisplayUnits: true } },\n                        },\n                        labelPrecision: {\n                            displayName: 'Decimal Places',\n                            placeHolderText: 'Auto',\n                            type: { numeric: true },\n                        },\n                        fontSize: {\n                            displayName: 'Text Size',\n                            type: { formatting: { fontSize: true } },\n                        },\n                    },\n                },\n                outerLine: {\n                    displayName: 'Outer line',\n                    properties: {\n                        show: {\n                            displayName: 'Show',\n                            type: { bool: true }\n                        },\n                        thickness: {\n                            displayName: 'Thickness',\n                            type: { numeric: true }\n                        }\n                    }\n                }\n            },\n            supportsHighlight: true,\n        };\n\n        private static Properties: any = {\n            general: {\n                formatString: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'formatString' },\n            },\n            dataPoint: {\n                fill: <DataViewObjectPropertyIdentifier>{ objectName: 'dataPoint', propertyName: 'fill' },\n            },\n            legend: {\n                show: <DataViewObjectPropertyIdentifier>{ objectName: AsterPlotLegendObjectName, propertyName: 'show' },\n                position: <DataViewObjectPropertyIdentifier>{ objectName: AsterPlotLegendObjectName, propertyName: 'position' },\n                showTitle: <DataViewObjectPropertyIdentifier>{ objectName: AsterPlotLegendObjectName, propertyName: 'showTitle' },\n                titleText: <DataViewObjectPropertyIdentifier>{ objectName: AsterPlotLegendObjectName, propertyName: 'titleText' },\n                labelColor: <DataViewObjectPropertyIdentifier>{ objectName: AsterPlotLegendObjectName, propertyName: 'labelColor' },\n                fontSize: <DataViewObjectPropertyIdentifier>{ objectName: AsterPlotLegendObjectName, propertyName: 'fontSize' },\n            },\n            label: {\n                fill: <DataViewObjectPropertyIdentifier>{ objectName: 'label', propertyName: 'fill' },\n            },\n            labels: {\n                show: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'show' },\n                color: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'color' },\n                labelDisplayUnits: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'labelDisplayUnits' },\n                labelPrecision: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'labelPrecision' },\n                fontSize: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'fontSize' },\n            },\n            outerLine: {\n                show: <DataViewObjectPropertyIdentifier>{ objectName: 'outerLine', propertyName: 'show' },\n                thickness: <DataViewObjectPropertyIdentifier>{ objectName: 'outerLine', propertyName: 'thickness' },\n            }\n        };\n\n        private static AsterSlice: ClassAndSelector = createClassAndSelector('asterSlice');\n        private static AsterHighlightedSlice: ClassAndSelector = createClassAndSelector('asterHighlightedSlice');\n        private static OuterLine: ClassAndSelector = createClassAndSelector('outerLine');\n        private static labelGraphicsContextClass: ClassAndSelector = createClassAndSelector('labels');\n        private static linesGraphicsContextClass: ClassAndSelector = createClassAndSelector('lines');\n        private static CenterLabelClass: ClassAndSelector = createClassAndSelector('centerLabel');\n        private static CenterTextFontHeightCoefficient = 0.4;\n        private static CenterTextFontWidthCoefficient = 1.9;\n\n        private margin: IMargin = {\n            top: 10,\n            right: 10,\n            bottom: 15,\n            left: 10\n        };\n\n        private svg: D3.Selection;\n        private mainGroupElement: D3.Selection;\n        private mainLabelsElement: D3.Selection;\n        private centerText: D3.Selection;\n        private clearCatcher: D3.Selection;\n        private colors: IDataColorPalette;\n        private dataView: DataView;\n        private hostService: IVisualHostServices;\n        private interactivityService: IInteractivityService;\n        private legend: ILegend;\n        private data: AsterData;\n        private currentViewport: IViewport;\n        private behavior: IInteractiveBehavior;\n        private hasHighlights: boolean;\n\n        private getDefaultAsterData(): AsterData {\n            return <AsterData>{\n                dataPoints: [],\n                highlightedDataPoints: [],\n                legendData: <LegendData>{\n                    dataPoints: [],\n                    title: null,\n                    fontSize: AsterDefaultLegendFontSize,\n                    labelColor: LegendData.DefaultLegendLabelFillColor\n                },\n                legendSettings: {\n                    show: false,\n                    position: 'Top',\n                    showTitle: true,\n                    labelColor: LegendData.DefaultLegendLabelFillColor,\n                    titleText: '',\n                    fontSize: AsterDefaultLegendFontSize,\n                },\n                valueFormatter: null,\n                labelSettings: {\n                    show: false,\n                    displayUnits: 0,\n                    precision: dataLabelUtils.defaultLabelPrecision,\n                    labelColor: dataLabelUtils.defaultLabelColor,\n                    fontSize: dataLabelUtils.DefaultFontSizeInPt,\n                },\n                showOuterLine: false,\n                outerLineThickness: AsterDefaultOuterLineThickness,\n            };\n        }\n\n        public converter(dataView: DataView, colors: IDataColorPalette): AsterData {\n            let asterDataResult: AsterData = this.getDefaultAsterData();\n            if (!this.dataViewContainsCategory(dataView) || dataView.categorical.categories.length !== 1)\n                return asterDataResult;\n\n            let catDv: DataViewCategorical = dataView.categorical;\n            let cat = catDv.categories[0];\n            let catSource = cat.source;\n            let catValues = cat.values;\n            let values = catDv.values;\n            let catObjects: DataViewObjects[] = cat.objects;\n            let colorHelper: ColorHelper = new ColorHelper(colors, AsterPlot.Properties.dataPoint.fill);\n\n            let hasHighlights: boolean = this.hasHighlights = !!(values && values.length > 0 && values[0].highlights);\n\n            if (dataView.metadata || dataView.metadata.objects) {\n                let objects: DataViewObjects = dataView.metadata.objects;\n                asterDataResult.labelSettings = this.getLabelSettings(objects, asterDataResult.labelSettings);\n                this.updateLegendSettings(objects, catSource, asterDataResult.legendSettings);\n                asterDataResult.showOuterLine = DataViewObjects.getValue<boolean>(objects, AsterPlot.Properties.outerLine.show, asterDataResult.showOuterLine);\n                asterDataResult.outerLineThickness = DataViewObjects.getValue<number>(objects, AsterPlot.Properties.outerLine.thickness, AsterDefaultOuterLineThickness);\n            }\n\n            let labelSettings: VisualDataLabelsSettings = asterDataResult.labelSettings;\n            if (!catValues || catValues.length < 1 || !values || values.length < 1)\n                return asterDataResult;\n\n            let formatStringProp = AsterPlot.Properties.general.formatString;\n            let maxValue: number = Math.max(d3.min(values[0].values));\n            let minValue: number = Math.min(0, d3.min(values[0].values));\n            let labelFormatter: IValueFormatter = ValueFormatter.create({\n                format: ValueFormatter.getFormatString(values[0].source, formatStringProp),\n                precision: labelSettings.precision,\n                value: (labelSettings.displayUnits === 0) && (maxValue != null) ? maxValue : labelSettings.displayUnits,\n            });\n            let categorySourceFormatString = valueFormatter.getFormatString(catSource, formatStringProp);\n            let fontSizeInPx: string = PixelConverter.fromPoint(labelSettings.fontSize);\n\n            for (let i = 0; i < catValues.length; i++) {\n                let formattedCategoryValue = valueFormatter.format(catValues[i], categorySourceFormatString);\n                let currentValue = values[0].values[i];\n\n                let tooltipInfo: TooltipDataItem[] = TooltipBuilder.createTooltipInfo(\n                    formatStringProp,\n                    catDv,\n                    formattedCategoryValue,\n                    currentValue,\n                    null,\n                    null,\n                    0);\n\n                if (values.length > 1) {\n                    let toolTip: TooltipDataItem = TooltipBuilder.createTooltipInfo(\n                        formatStringProp,\n                        catDv,\n                        formattedCategoryValue,\n                        values[1].values[i],\n                        null,\n                        null,\n                        1)[1];\n                    if (toolTip)\n                        tooltipInfo.push(toolTip);\n\n                    currentValue += values[1].values[i];\n                }\n\n                let identity: DataViewScopeIdentity = cat.identity[i];\n                let color: string = colorHelper.getColorForMeasure(catObjects && catObjects[i], identity.key);\n                let selector: SelectionId = SelectionId.createWithId(identity);\n                let sliceWidth: number = Math.max(0, values.length > 1 ? values[1].values[i] : 1);\n\n                asterDataResult.dataPoints.push({\n                    sliceHeight: values[0].values[i] - minValue,\n                    sliceWidth: sliceWidth,\n                    label: labelFormatter.format(currentValue),\n                    color: color,\n                    identity: selector,\n                    selected: false,\n                    tooltipInfo: tooltipInfo,\n                    labelFontSize: fontSizeInPx,\n                    highlight: false,\n                });\n                \n                // Handle legend data\n                if (asterDataResult.legendSettings.show)\n                    asterDataResult.legendData.dataPoints.push({\n                        label: catValues[i],\n                        color: color,\n                        icon: LegendIcon.Box,\n                        selected: false,\n                        identity: selector\n                    });\n                \n                // Handle highlights\n                if (hasHighlights) {\n                    let highlightIdentity: SelectionId = SelectionId.createWithHighlight(selector);\n                    let notNull: boolean = values[0].highlights[i] != null;\n                    currentValue = notNull ? values[0].highlights[i] : 0;\n\n                    tooltipInfo = TooltipBuilder.createTooltipInfo(\n                        formatStringProp,\n                        catDv,\n                        formattedCategoryValue,\n                        currentValue,\n                        null,\n                        null,\n                        0);\n\n                    if (values.length > 1) {\n                        let toolTip: TooltipDataItem = TooltipBuilder.createTooltipInfo(\n                            formatStringProp,\n                            catDv,\n                            formattedCategoryValue,\n                            values[1].highlights[i],\n                            null,\n                            null,\n                            1)[1];\n                        if (toolTip)\n                            tooltipInfo.push(toolTip);\n\n                        currentValue += values[1].highlights[i] !== null ? values[1].highlights[i] : 0;\n                    }\n\n                    asterDataResult.highlightedDataPoints.push({\n                        sliceHeight: notNull ? values[0].highlights[i] - minValue : null,\n                        sliceWidth: Math.max(0, (values.length > 1 && values[1].highlights[i] !== null) ? values[1].highlights[i] : sliceWidth),\n                        label: labelFormatter.format(currentValue),\n                        color: color,\n                        identity: highlightIdentity,\n                        selected: false,\n                        tooltipInfo: tooltipInfo,\n                        labelFontSize: fontSizeInPx,\n                        highlight: true,\n                    });\n                }\n            }\n\n            return asterDataResult;\n        }\n\n        private dataViewContainsCategory(dataView: DataView) {\n            return dataView &&\n                dataView.categorical &&\n                dataView.categorical.values &&\n                dataView.categorical.categories &&\n                dataView.categorical.categories[0];\n        }\n\n        private getLabelSettings(objects: DataViewObjects, labelSettings: VisualDataLabelsSettings): VisualDataLabelsSettings {\n            let asterPlotLabelsProperties = AsterPlot.Properties;\n            let precision = DataViewObjects.getValue<number>(objects, asterPlotLabelsProperties.labels.labelPrecision, labelSettings.precision);\n            labelSettings.precision = precision === undefined ? precision : Math.min(precision, MaxPrecision);\n            labelSettings.show = DataViewObjects.getValue<boolean>(objects, asterPlotLabelsProperties.labels.show, labelSettings.show);\n            labelSettings.fontSize = DataViewObjects.getValue<number>(objects, asterPlotLabelsProperties.labels.fontSize, labelSettings.fontSize);\n            labelSettings.displayUnits = DataViewObjects.getValue<number>(objects, asterPlotLabelsProperties.labels.labelDisplayUnits, labelSettings.displayUnits);\n            let colorHelper: ColorHelper = new ColorHelper(this.colors, asterPlotLabelsProperties.labels.color, labelSettings.labelColor);\n            labelSettings.labelColor = colorHelper.getColorForMeasure(objects, \"\");\n\n            return labelSettings;\n        }\n\n        private updateLegendSettings(objects: DataViewObjects, catSource: DataViewMetadataColumn, legendSettings: AsterPlotLegendSettings): void {\n            let legendProperties = AsterPlot.Properties.legend;\n\n            legendSettings.show = DataViewObjects.getValue<boolean>(objects, legendProperties.show, legendSettings.show);\n            legendSettings.position = DataViewObjects.getValue<string>(objects, legendProperties.position, legendSettings.position);\n            legendSettings.showTitle = DataViewObjects.getValue<boolean>(objects, legendProperties.showTitle, legendSettings.showTitle);\n            let titleText = DataViewObjects.getValue<string>(objects, legendProperties.titleText, '');\n            legendSettings.titleText = _.isEmpty(titleText) && catSource ? catSource.displayName : titleText;\n            legendSettings.labelColor = <string>DataViewObjects.getFillColor(objects, legendProperties.labelColor, legendSettings.labelColor);\n            legendSettings.fontSize = DataViewObjects.getValue<number>(objects, legendProperties.fontSize, legendSettings.fontSize);\n        }\n\n        public init(options: VisualInitOptions): void {\n            this.hostService = options.host;\n            let element: JQuery = options.element;\n            let svg: D3.Selection = this.svg = d3.select(element.get(0))\n                .append('svg')\n                .classed(AsterPlotVisualClassName, true)\n                .style('position', 'absolute');\n\n            this.colors = options.style.colorPalette.dataColors;\n            this.mainGroupElement = svg.append('g');\n            this.mainLabelsElement = svg.append('g');\n            this.behavior = new AsterPlotWebBehavior();\n            this.clearCatcher = appendClearCatcher(this.mainGroupElement);\n            let interactivity = options.interactivity;\n            this.interactivityService = createInteractivityService(this.hostService);\n            this.legend = createLegend(element, interactivity && interactivity.isInteractiveLegend, this.interactivityService, true);\n        }\n\n        public update(options: VisualUpdateOptions) {\n            if (!options.dataViews || !options.dataViews[0]) return; // or clear the view, display an error, etc.\n\n            let duration = options.suppressAnimations ? 0 : AnimatorCommon.MinervaAnimationDuration;\n\n            this.currentViewport = {\n                height: Math.max(0, options.viewport.height),\n                width: Math.max(0, options.viewport.width)\n            };\n\n            let dataView: DataView = this.dataView = options.dataViews[0];\n            let convertedData: AsterData = this.data = this.converter(dataView, this.colors);\n\n            if (!convertedData || !convertedData.dataPoints || convertedData.dataPoints.length === 0) {\n                this.clearData();\n                return;\n            }\n\n            if (this.interactivityService) {\n                this.interactivityService.applySelectionStateToData(convertedData.dataPoints);\n                this.interactivityService.applySelectionStateToData(convertedData.highlightedDataPoints);\n            }\n\n            this.renderLegend(convertedData);\n            this.updateViewPortAccordingToLegend();\n\n            this.svg\n                .attr({\n                    height: Math.max(0, this.currentViewport.height),\n                    width: Math.max(0, this.currentViewport.width)\n                });\n\n            let margin: IMargin = this.margin;\n            let transformX: number = (this.currentViewport.width - margin.left) / 2;\n            let transformY: number = (this.currentViewport.height - margin.top) / 2;\n            this.mainGroupElement.attr('transform', SVGUtil.translate(transformX, transformY));\n            this.mainLabelsElement.attr('transform', SVGUtil.translate(transformX, transformY));\n            \n            // Move back the clearCatcher\n            this.clearCatcher.attr('transform', SVGUtil.translate(-transformX, -transformY));\n            \n            // Clear previous data\n            this.mainGroupElement.selectAll(AsterPlot.AsterSlice.selector).remove();\n            this.mainGroupElement.selectAll(AsterPlot.AsterHighlightedSlice.selector).remove();\n            dataLabelUtils.cleanDataLabels(this.mainLabelsElement, true);\n\n            let dataPoints = convertedData.dataPoints;\n            if (!dataPoints || dataPoints.length === 0)\n                return;\n\n            let selection: D3.UpdateSelection = this.renderArcsAndLabels(dataPoints, duration, convertedData.labelSettings);\n            let highlightedSelection: D3.UpdateSelection;\n\n            if (this.hasHighlights)\n                highlightedSelection = this.renderArcsAndLabels(convertedData.highlightedDataPoints, duration, convertedData.labelSettings, true);\n\n            let interactivityService = this.interactivityService;\n\n            if (interactivityService) {\n                let behaviorOptions: AsterPlotBehaviorOptions = {\n                    selection: selection,\n                    highlightedSelection: highlightedSelection,\n                    clearCatcher: this.clearCatcher,\n                    interactivityService: this.interactivityService,\n                };\n                interactivityService.bind(convertedData.dataPoints.concat(convertedData.highlightedDataPoints), this.behavior, behaviorOptions);\n            }\n        }\n\n        private renderArcsAndLabels(dataPoints: AsterDataPoint[], duration: number, labelSettings: VisualDataLabelsSettings, isHighlight: boolean = false): D3.UpdateSelection {\n            let margin: IMargin = this.margin;\n            let width: number = this.currentViewport.width - margin.left - margin.right;\n            let height: number = this.currentViewport.height - margin.top - margin.bottom;\n            let radius: number = Math.min(width, height) / 2;\n            let innerRadius: number = 0.3 * (labelSettings.show ? radius * AsterRadiusRatio : radius);\n            let maxScore: number = d3.max(dataPoints, d => d.sliceHeight);\n            let totalWeight: number = d3.sum(dataPoints, d => d.sliceWidth);\n            let hasSelection: boolean = this.interactivityService && this.interactivityService.hasSelection();\n            let hasHighlights: boolean = this.hasHighlights;\n\n            let pie: D3.Layout.PieLayout = d3.layout.pie()\n                .sort(null)\n                .value(d => (d && !isNaN(d.sliceWidth) ? d.sliceWidth : 0) / totalWeight);\n\n            let arc: D3.Svg.Arc = d3.svg.arc()\n                .innerRadius(innerRadius)\n                .outerRadius(d => {\n                    let height: number = (radius - innerRadius) * (d && d.data && !isNaN(d.data.sliceHeight) ? d.data.sliceHeight : 1) / maxScore;\n                    //The chart should shrink if data labels are on\n                    let heightIsLabelsOn = innerRadius + (labelSettings.show ? height * AsterRadiusRatio : height);\n                    // Prevent from data to be inside the inner radius\n                    return Math.max(heightIsLabelsOn, innerRadius);\n                });\n\n            let arcDescriptorDataPoints: ArcDescriptor[] = pie(dataPoints);\n            let classSelector: ClassAndSelector = isHighlight ? AsterPlot.AsterHighlightedSlice : AsterPlot.AsterSlice;\n\n            let selection = this.mainGroupElement.selectAll(classSelector.selector)\n                .data(arcDescriptorDataPoints, (d, idx) => d.data ? d.data.identity.getKey() : idx);\n\n            selection.enter()\n                .append('path')\n                .attr('stroke', '#333')\n                .classed(classSelector.class, true);\n\n            selection\n                .attr('fill', d => d.data.color)\n                .style(\"fill-opacity\", (d) => ColumnUtil.getFillOpacity(d.data.selected, d.data.highlight, hasSelection, hasHighlights))\n                .transition().duration(duration)\n                .attrTween('d', function (data) {\n                    if (!this.oldData) {\n                        this.oldData = data;\n                        return () => arc(data);\n                    }\n\n                    let interpolation = d3.interpolate(this.oldData, data);\n                    this.oldData = interpolation(0);\n                    return (x) => arc(interpolation(x));\n                });\n\n            selection\n                .exit()\n                .remove();\n\n            TooltipManager.addTooltip(selection, (tooltipEvent: TooltipEvent) => tooltipEvent.data.data.tooltipInfo);\n            \n            // Draw data labels only if they are on and there are no highlights or there are highlights and this is the highlighted data labels\n            if (labelSettings.show && (!hasHighlights || (hasHighlights && isHighlight))) {\n                let labelRadCalc = (d: AsterDataPoint) => {\n                    let height: number = radius * (d && !isNaN(d.sliceHeight) ? d.sliceHeight : 1) / maxScore + innerRadius;\n                    return Math.max(height, innerRadius);\n                };\n                let labelArc = d3.svg.arc()\n                    .innerRadius(d => labelRadCalc(d.data))\n                    .outerRadius(d => labelRadCalc(d.data));\n\n                let lineRadCalc = (d: AsterDataPoint) => {\n                    let height: number = (radius - innerRadius) * (d && !isNaN(d.sliceHeight) ? d.sliceHeight : 1) / maxScore;\n                    height = innerRadius + height * AsterRadiusRatio;\n                    return Math.max(height, innerRadius);\n                };\n                let outlineArc = d3.svg.arc()\n                    .innerRadius(d => lineRadCalc(d.data))\n                    .outerRadius(d => lineRadCalc(d.data));\n\n                let layout = this.getLabelLayout(labelSettings, labelArc, this.currentViewport);\n                this.drawLabels(arcDescriptorDataPoints, this.mainLabelsElement, layout, this.currentViewport, outlineArc, labelArc);\n            }\n            else\n                dataLabelUtils.cleanDataLabels(this.mainLabelsElement, true);\n            \n            // Draw center text and outline once for original data points\n            if (!isHighlight) {\n                this.drawCenterText(innerRadius);\n                this.drawOuterLine(innerRadius, radius, arcDescriptorDataPoints);\n            }\n\n            return selection;\n        }\n\n        private getLabelLayout(labelSettings: VisualDataLabelsSettings, arc: D3.Svg.Arc, viewport: IViewport): ILabelLayout {\n            let midAngle = function (d: ArcDescriptor) { return d.startAngle + (d.endAngle - d.startAngle) / 2; };\n            let textProperties: TextProperties = {\n                fontFamily: dataLabelUtils.StandardFontFamily,\n                fontSize: PixelConverter.fromPoint(labelSettings.fontSize),\n                text: '',\n            };\n            let isLabelsHasConflict = function (d: AsterArcDescriptor) {\n                let pos = arc.centroid(d);\n                textProperties.text = d.data.label;\n                let textWidth = TextMeasurementService.measureSvgTextWidth(textProperties);\n                let horizontalSpaceAvaliableForLabels = viewport.width / 2 - Math.abs(pos[0]);\n                let textHeight = TextMeasurementService.estimateSvgTextHeight(textProperties);\n                let verticalSpaceAvaliableForLabels = viewport.height / 2 - Math.abs(pos[1]);\n                d.isLabelHasConflict = textWidth > horizontalSpaceAvaliableForLabels || textHeight > verticalSpaceAvaliableForLabels;\n                return d.isLabelHasConflict;\n            };\n\n            return {\n                labelText: (d: AsterArcDescriptor) => {\n                    textProperties.text = d.data.label;\n                    let pos = arc.centroid(d);\n                    let xPos = isLabelsHasConflict(d) ? pos[0] * AsterConflictRatio : pos[0];\n                    let spaceAvaliableForLabels = viewport.width / 2 - Math.abs(xPos);\n                    return TextMeasurementService.getTailoredTextOrDefault(textProperties, spaceAvaliableForLabels);\n                },\n                labelLayout: {\n                    x: (d: AsterArcDescriptor) => {\n                        let pos = arc.centroid(d);\n                        textProperties.text = d.data.label;\n                        let xPos = d.isLabelHasConflict ? pos[0] * AsterConflictRatio : pos[0];\n                        return xPos;\n                    },\n                    y: (d: AsterArcDescriptor) => {\n                        let pos = arc.centroid(d);\n                        let yPos = d.isLabelHasConflict ? pos[1] * AsterConflictRatio : pos[1];\n                        return yPos;\n                    },\n                },\n                filter: (d: AsterArcDescriptor) => (d != null && !_.isEmpty(d.data.label)),\n                style: {\n                    'fill': labelSettings.labelColor,\n                    'font-size': textProperties.fontSize,\n                    'text-anchor': (d: AsterArcDescriptor) => midAngle(d) < Math.PI ? 'start' : 'end',\n                },\n            };\n        }\n\n        private drawLabels(data: ArcDescriptor[],\n            context: D3.Selection,\n            layout: ILabelLayout,\n            viewport: IViewport,\n            outlineArc: D3.Svg.Arc,\n            labelArc: D3.Svg.Arc): void {\n            \n            // Hide and reposition labels that overlap\n            let dataLabelManager = new DataLabelManager();\n            let filteredData = dataLabelManager.hideCollidedLabels(viewport, data, layout, true /* addTransform */);\n\n            if (filteredData.length === 0) {\n                dataLabelUtils.cleanDataLabels(context, true);\n                return;\n            }\n            \n            // Draw labels\n            if (context.select(AsterPlot.labelGraphicsContextClass.selector).empty())\n                context.append('g').classed(AsterPlot.labelGraphicsContextClass.class, true);\n\n            let labels = context\n                .select(AsterPlot.labelGraphicsContextClass.selector)\n                .selectAll('.data-labels').data(filteredData, (d: ArcDescriptor) => d.data.identity.getKey());\n\n            labels.enter().append('text').classed('data-labels', true);\n\n            if (!labels)\n                return;\n\n            labels\n                .attr({ x: (d: LabelEnabledDataPoint) => d.labelX, y: (d: LabelEnabledDataPoint) => d.labelY, dy: '.35em' })\n                .text((d: LabelEnabledDataPoint) => d.labeltext)\n                .style(layout.style);\n\n            labels\n                .exit()\n                .remove();\n                \n            // Draw lines\n            if (context.select(AsterPlot.linesGraphicsContextClass.selector).empty())\n                context.append('g').classed(AsterPlot.linesGraphicsContextClass.class, true);\n\t\t\t\t\n            // Remove lines for null and zero values\n            filteredData = _.filter(filteredData, (d: ArcDescriptor) => d.data.sliceHeight !== null && d.data.sliceHeight !== 0);\n\n            let lines = context.select(AsterPlot.linesGraphicsContextClass.selector).selectAll('polyline')\n                .data(filteredData, (d: ArcDescriptor) => d.data.identity.getKey());\n\n            let labelLinePadding = 4;\n            let chartLinePadding = 1.02;\n\n            let midAngle = function (d: ArcDescriptor) { return d.startAngle + (d.endAngle - d.startAngle) / 2; };\n\n            lines.enter()\n                .append('polyline')\n                .classed('line-label', true);\n\n            lines\n                .attr('points', function (d) {\n                    let textPoint = [d.labelX, d.labelY];\n                    textPoint[0] = textPoint[0] + ((midAngle(d) < Math.PI ? -1 : 1) * labelLinePadding);\n                    let chartPoint = outlineArc.centroid(d);\n                    chartPoint[0] *= chartLinePadding;\n                    chartPoint[1] *= chartLinePadding;\n                    return [chartPoint, textPoint];\n                }).\n                style({\n                    'opacity': 0.5,\n                    'fill-opacity': 0,\n                    'stroke': (d: ArcDescriptor) => this.data.labelSettings.labelColor,\n                });\n\n            lines\n                .exit()\n                .remove();\n\n        }\n\n        private renderLegend(asterPlotData: AsterData): void {\n            if (!asterPlotData || !asterPlotData.legendData)\n                return;\n\n            let legendData: LegendData = asterPlotData.legendData;\n            let objects: DataViewObjects = this.dataView && this.dataView.metadata ? this.dataView.metadata.objects : null;\n            let legendObjectProperties: DataViewObject = DataViewObjects.getObject(objects, AsterPlotLegendObjectName, {});\n            if (legendObjectProperties) {\n                let legendSettings = asterPlotData.legendSettings;\n                \n                // Force update for title text\n                legendObjectProperties['titleText'] = legendSettings.titleText;\n                LegendData.update(legendData, legendObjectProperties);\n                this.legend.changeOrientation(LegendPosition[legendSettings.position]);\n            }\n\n            this.legend.drawLegend(legendData, _.clone(this.currentViewport));\n            Legend.positionChartArea(this.svg, this.legend);\n        }\n\n        private updateViewPortAccordingToLegend(): void {\n            let legendSettings = this.data.legendSettings;\n            if (!legendSettings || !legendSettings.show)\n                return;\n\n            let legendMargins: IViewport = this.legend.getMargins();\n            let legendPosition: LegendPosition = LegendPosition[legendSettings.position];\n\n            switch (legendPosition) {\n                case LegendPosition.Top:\n                case LegendPosition.TopCenter:\n                case LegendPosition.Bottom:\n                case LegendPosition.BottomCenter: {\n                    this.currentViewport.height -= legendMargins.height;\n                    break;\n                }\n                case LegendPosition.Left:\n                case LegendPosition.LeftCenter:\n                case LegendPosition.Right:\n                case LegendPosition.RightCenter: {\n                    this.currentViewport.width -= legendMargins.width;\n                    break;\n                }\n                default:\n                    break;\n            }\n        }\n\n        private drawOuterLine(innerRadius: number, radius: number, data: ArcDescriptor[]): void {\n            let mainGroup = this.mainGroupElement;\n            let outlineArc = d3.svg.arc()\n                .innerRadius(innerRadius)\n                .outerRadius(radius);\n            if (this.data.showOuterLine) {\n                let OuterThickness: string = this.data.outerLineThickness + 'px';\n                let outerLine = mainGroup.selectAll(AsterPlot.OuterLine.selector).data(data);\n                outerLine.enter().append('path');\n                outerLine.attr(\"fill\", \"none\")\n                    .attr({\n                        'stroke': '#333',\n                        'stroke-width': OuterThickness,\n                        'd': outlineArc\n                    })\n                    .style('opacity', 1)\n                    .classed(AsterPlot.OuterLine.class, true);\n                outerLine.exit().remove();\n            }\n            else\n                mainGroup.selectAll(AsterPlot.OuterLine.selector).remove();\n        }\n\n        private getCenterText(dataView: DataView): string {\n            if (dataView && dataView.metadata && dataView.metadata.columns && dataView.categorical && dataView.categorical.values)\n                for (let column of dataView.metadata.columns)\n                    if (!column.isMeasure)\n                        return column.displayName;\n            return '';\n        }\n\n        private drawCenterText(innerRadius: number): void {\n            let text: string = this.getCenterText(this.dataView);\n\n            if (_.isEmpty(text)) {\n                this.mainGroupElement.select(AsterPlot.CenterLabelClass.selector).remove();\n                return;\n            }\n\n            let centerTextProperties: TextProperties = {\n                fontFamily: dataLabelUtils.StandardFontFamily,\n                fontWeight: 'bold',\n                fontSize: PixelConverter.toString(innerRadius * AsterPlot.CenterTextFontHeightCoefficient),\n                text: text\n            };\n\n            if (this.mainGroupElement.select(AsterPlot.CenterLabelClass.selector).empty())\n                this.centerText = this.mainGroupElement.append('text').classed(AsterPlot.CenterLabelClass.class, true);\n\n            this.centerText\n                .style({\n                    'line-height': 1,\n                    'font-weight': centerTextProperties.fontWeight,\n                    'font-size': centerTextProperties.fontSize,\n                    'fill': this.getLabelFill(this.dataView).solid.color\n                })\n                .attr({\n                    'dy': '0.35em',\n                    'text-anchor': 'middle'\n                })\n                .text(TextMeasurementService.getTailoredTextOrDefault(centerTextProperties, innerRadius * AsterPlot.CenterTextFontWidthCoefficient));\n        }\n\n        // This extracts fill color of the label from the DataView\n        private getLabelFill(dataView: DataView): Fill {\n            if (this.dataViewContainsObjects(dataView))\n                return DataViewObjects.getValue(dataView.metadata.objects, AsterPlot.Properties.label.fill, AsterDefaultLabelFill);\n\n            return AsterDefaultLabelFill;\n        }\n\n        private dataViewContainsObjects(dataView: DataView) {\n            return dataView && dataView.metadata && dataView.metadata.objects;\n        }\n\n        private enumerateLegend(instances: VisualObjectInstance[]) {\n            let legendSettings: AsterPlotLegendSettings = this.data.legendSettings;\n            let instance: VisualObjectInstance = {\n                selector: null,\n                objectName: AsterPlotLegendObjectName,\n                displayName: 'Legend',\n                properties: {\n                    show: legendSettings.show,\n                    position: legendSettings.position,\n                    showTitle: legendSettings.showTitle,\n                    titleText: legendSettings.titleText,\n                    labelColor: legendSettings.labelColor,\n                    fontSize: legendSettings.fontSize,\n                }\n            };\n\n            instances.push(instance);\n        }\n\n        private clearData(): void {\n            this.mainGroupElement.selectAll(\"path\").remove();\n            dataLabelUtils.cleanDataLabels(this.mainLabelsElement, true);\n            this.legend.drawLegend({ dataPoints: [] }, this.currentViewport);\n        }\n\n        public onClearSelection(): void {\n            if (this.interactivityService)\n                this.interactivityService.clearSelection();\n        }\n\n        private enumerateLabels(instances: VisualObjectInstance[]): void {\n            let labelSettings = this.data.labelSettings;\n            let labels: VisualObjectInstance = {\n                objectName: 'labels',\n                displayName: 'Labels',\n                selector: null,\n                properties: {\n                    show: labelSettings.show,\n                    fontSize: labelSettings.fontSize,\n                    labelPrecision: labelSettings.precision,\n                    labelDisplayUnits: labelSettings.displayUnits,\n                    color: labelSettings.labelColor,\n                }\n            };\n            instances.push(labels);\n        }\n        \n        // This function retruns the values to be displayed in the property pane for each object.\n        // Usually it is a bind pass of what the property pane gave you, but sometimes you may want to do\n        // validation and return other values/defaults\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstance[] {\n            let instances: VisualObjectInstance[] = [];\n            if (!this.dataViewContainsCategory(this.dataView))\n                return instances;\n            switch (options.objectName) {\n                case AsterPlotLegendObjectName:\n                    if (this.data)\n                        this.enumerateLegend(instances);\n                    break;\n                case 'label':\n                    let label: VisualObjectInstance = {\n                        objectName: 'label',\n                        displayName: 'Label',\n                        selector: null,\n                        properties: {\n                            fill: this.getLabelFill(this.dataView)\n                        }\n                    };\n                    instances.push(label);\n                    break;\n                case 'labels':\n                    this.enumerateLabels(instances);\n                    break;\n                case 'outerLine':\n                    let outerLine: VisualObjectInstance = {\n                        objectName: 'outerLine',\n                        displayName: 'Outer Line',\n                        selector: null,\n                        properties: {\n                            show: this.data.showOuterLine,\n                            thickness: this.data.outerLineThickness,\n                        }\n                    };\n                    instances.push(outerLine);\n                    break;\n            }\n\n            return instances;\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import IStringResourceProvider = jsCommon.IStringResourceProvider;\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import PixelConverter = jsCommon.PixelConverter;\n\n    export interface TornadoChartTextOptions {\n        fontFamily?: string;\n        fontSize?: number;\n        sizeUnit?: string;\n    }\n\n    export interface TornadoChartConstructorOptions {\n        svg?: D3.Selection;\n        animator?: IGenericAnimator;\n        margin?: IMargin;\n        columnPadding?: number;\n    }\n\n    export interface TornadoChartSeries {\n        fill: string;\n        name: string;\n        selectionId: SelectionId;\n        categoryAxisEnd: number;\n    }\n\n    export interface TornadoChartSettings {\n        labelOutsideFillColor: string;\n        categoriesFillColor: string;\n        labelSettings: VisualDataLabelsSettings;\n        showLegend?: boolean;\n        showCategories?: boolean;\n        legendFontSize?: number;\n        legendColor?: string;\n        labelValueFormatter?: IValueFormatter;\n    }\n\n    export interface TornadoChartDataView {\n        categories: TextData[];\n        series: TornadoChartSeries[];\n        settings: TornadoChartSettings;\n        legend: LegendData;\n        dataPoints: TornadoChartPoint[];\n        highlightedDataPoints?: TornadoChartPoint[];\n    }\n\n    export interface TornadoChartPoint extends SelectableDataPoint {\n        dx?: number;\n        dy?: number;\n        px?: number;\n        py?: number;\n        angle?: number;\n        width?: number;\n        height?: number;\n        label?: LabelData;\n        color: string;\n        tooltipData: TooltipDataItem[];\n        categoryIndex: number;\n        highlight?: boolean;\n        value: number;\n        minValue: number;\n        maxValue: number;\n        formatString: string;\n    }\n\n    export interface LabelData {\n        dx: number;\n        value: number | string;\n        source: number | string;\n        color: string;\n    }\n\n    export interface LineData {\n        x1: number;\n        y1: number;\n        x2: number;\n        y2: number;\n    }\n\n    export interface TextData {\n        text: string;\n        height: number;\n        width: number;\n        textProperties: TextProperties;\n    }\n\n    export interface TornadoBehaviorOptions {\n        columns: D3.Selection;\n        clearCatcher: D3.Selection;\n        interactivityService: IInteractivityService;\n    }\n\n    class TornadoWebBehavior implements IInteractiveBehavior {\n        private columns: D3.Selection;\n        private clearCatcher: D3.Selection;\n        private interactivityService: IInteractivityService;\n\n        public bindEvents(options: TornadoBehaviorOptions, selectionHandler: ISelectionHandler) {\n            this.columns = options.columns;\n            this.clearCatcher = options.clearCatcher;\n            this.interactivityService = options.interactivityService;\n\n            this.columns.on('click', (d: SelectableDataPoint, i: number) => {\n                selectionHandler.handleSelection(d, d3.event.ctrlKey);\n            });\n\n            this.clearCatcher.on('click', () => {\n                selectionHandler.handleClearSelection();\n            });\n        }\n\n        public renderSelection(hasSelection: boolean) {\n            let hasHighlights = this.interactivityService.hasSelection();\n            this.columns.style(\"fill-opacity\", (d: TornadoChartPoint) => ColumnUtil.getFillOpacity(d.selected, d.highlight, !d.highlight && hasSelection, !d.selected && hasHighlights));\n        }\n    }\n\n    class TornadoChartScrolling {\n        public isScrollable: boolean;\n        public scrollViewport: IViewport;\n\n        private static ScrollBarMinLength = 15;\n        private isYScrollBarVisible: boolean;\n        private brushGraphicsContextY: D3.Selection;\n        private scrollYBrush: D3.Svg.Brush = d3.svg.brush();\n\n        private getRoot: () => D3.Selection;\n        private getViewport: () => IViewport;\n\n        private get root(): D3.Selection {\n            return this.getRoot();\n        }\n\n        private get viewport(): IViewport {\n            return this.getViewport();\n        }\n\n        constructor(getRoot: () => D3.Selection, getViewport: () => IViewport, getMargin: () => IMargin, isScrollable: boolean) {\n            this.getRoot = getRoot;\n            this.getViewport = getViewport;\n            this.isScrollable = isScrollable;\n        }\n\n        public renderY(data: TornadoChartDataView, prefferedHeight: number, onScroll: () => {}): void {\n            this.isYScrollBarVisible = prefferedHeight > this.viewport.height\n                && this.viewport.height > 0\n                && this.viewport.width > 0;\n\n            this.brushGraphicsContextY = this.createOrRemoveScrollbar(this.isYScrollBarVisible, this.brushGraphicsContextY, 'y brush');\n            this.updateScrollViewport();\n\n            if (!this.isYScrollBarVisible) {\n                onScroll.call(this, jQuery.extend(true, {}, data), 0, 1);\n                return;\n            }\n\n            let scrollSpaceLength: number = this.viewport.height;\n            let extentData: any = this.getExtentData(prefferedHeight, scrollSpaceLength);\n\n            let onRender = (wheelDelta: number = 0) => {\n                let position: number[] = this.scrollYBrush.extent();\n                if (wheelDelta !== 0) {\n\n                    // Handle mouse wheel manually by moving the scrollbar half of its size\n                    let halfScrollsize: number = (position[1] - position[0]) / 2;\n                    position[0] += (wheelDelta > 0) ? halfScrollsize : -halfScrollsize;\n                    position[1] += (wheelDelta > 0) ? halfScrollsize : -halfScrollsize;\n\n                    if (position[0] < 0) {\n                        let offset: number = 0 - position[0];\n                        position[0] += offset;\n                        position[1] += offset;\n                    }\n                    if (position[1] > scrollSpaceLength) {\n                        let offset: number = position[1] - scrollSpaceLength;\n                        position[0] -= offset;\n                        position[1] -= offset;\n                    }\n\n                    // Update the scroll bar accordingly and redraw\n                    this.scrollYBrush.extent(position);\n                    this.brushGraphicsContextY.select('.extent').attr('y', position[0]);\n                }\n                let scrollPosition = extentData.toScrollPosition(position, scrollSpaceLength);\n                onScroll.call(this, jQuery.extend(true, {}, data), scrollPosition[0], scrollPosition[1]);\n                this.setScrollBarSize(this.brushGraphicsContextY, extentData.value[1], true);\n            };\n\n            let scrollYScale: D3.Scale.OrdinalScale = d3.scale.ordinal().rangeBands([0, scrollSpaceLength]);\n            this.scrollYBrush.y(scrollYScale).extent(extentData.value);\n\n            this.renderScrollbar(\n                this.scrollYBrush,\n                this.brushGraphicsContextY,\n                this.viewport.width,\n                onRender);\n\n            onRender();\n        }\n\n        private updateScrollViewport() {\n            this.scrollViewport = { height: this.viewport.height, width: this.viewport.width };\n\n            if (this.isYScrollBarVisible && this.isScrollable) {\n                this.scrollViewport.width -= TornadoChart.ScrollBarWidth;\n            }\n        }\n\n        private createOrRemoveScrollbar(isVisible, brushGraphicsContext, brushClass) {\n            if (isVisible && this.isScrollable) {\n                return brushGraphicsContext || this.root.append(\"g\").classed(brushClass, true);\n            }\n\n            return brushGraphicsContext ? void brushGraphicsContext.remove() : undefined;\n        }\n\n        private renderScrollbar(brush: D3.Svg.Brush,\n            brushGraphicsContext: D3.Selection,\n            brushX: number,\n            onRender: (number) => void): void {\n\n            brush.on(\"brush\", () => window.requestAnimationFrame(() => onRender(0)));\n            this.root.on('wheel', () => {\n                if (!this.isYScrollBarVisible) return;\n                let wheelEvent: any = d3.event; // Casting to any to avoid compilation errors\n                onRender(wheelEvent.deltaY);\n            });\n\n            brushGraphicsContext.attr({\n                \"transform\": visuals.SVGUtil.translate(brushX, 0),\n                \"drag-resize-disabled\": \"true\" /*disables resizing of the visual when dragging the scrollbar in edit mode*/\n            });\n\n            brushGraphicsContext.call(brush); /*call the brush function, causing it to create the rectangles   */\n            /* Disabling the zooming feature */\n            brushGraphicsContext.selectAll(\".resize\").remove();\n            brushGraphicsContext.select(\".background\").remove();\n            brushGraphicsContext.selectAll(\".extent\").style({\n                \"fill-opacity\": 0.125,\n                \"cursor\": \"default\",\n            });\n        }\n\n        private setScrollBarSize(brushGraphicsContext: D3.Selection, minExtent: number, isVertical: boolean): void {\n            brushGraphicsContext.selectAll(\"rect\").attr(isVertical ? \"width\" : \"height\", TornadoChart.ScrollBarWidth);\n            brushGraphicsContext.selectAll(\"rect\").attr(isVertical ? \"height\" : \"width\", minExtent);\n        }\n\n        private getExtentData(svgLength: number, scrollSpaceLength: number): any {\n            let value: number = scrollSpaceLength * scrollSpaceLength / svgLength;\n\n            let scaleMultipler: number = TornadoChartScrolling.ScrollBarMinLength <= value\n                ? 1\n                : value / TornadoChartScrolling.ScrollBarMinLength;\n\n            value = Math.max(value, TornadoChartScrolling.ScrollBarMinLength);\n\n            let toScrollPosition = (extent: number[], scrollSpaceLength: number) => {\n                let scrollSize: number = extent[1] - extent[0];\n                let scrollPosition: number = extent[0] / (scrollSpaceLength - scrollSize);\n\n                scrollSize *= scaleMultipler;\n\n                let start: number = (scrollPosition * (scrollSpaceLength - scrollSize));\n                let end: number = (start + scrollSize);\n\n                return [start / scrollSpaceLength, end / scrollSpaceLength];\n            };\n\n            return { value: [0, value], toScrollPosition: toScrollPosition };\n        }\n\n        public clearData(): void {\n            if (this.brushGraphicsContextY)\n                this.brushGraphicsContextY.selectAll(\"*\").remove();\n        }\n    }\n\n    export class TornadoChartWarning implements IVisualWarning {\n        public get code(): string {\n            return \"TornadoChartWarning\";\n        }\n\n        public getMessages(resourceProvider: IStringResourceProvider): IVisualErrorMessage {\n            let message: string = \"This visual requires two distinct values to be returned for the Legend field.\",\n                titleKey: string = \"\",\n                detailKey: string = \"\",\n                visualMessage: IVisualErrorMessage;\n\n            visualMessage = {\n                message: message,\n                title: resourceProvider.get(titleKey),\n                detail: resourceProvider.get(detailKey)\n            };\n\n            return visualMessage;\n        }\n    }\n\n    export function getTornadoChartWarning(): IVisualWarning {\n        return new TornadoChartWarning();\n    }\n\n    export class TornadoChart implements IVisual {\n        private static ClassName: string = \"tornado-chart\";\n\n        private static Properties: any = {\n            general: {\n                formatString: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"general\",\n                    propertyName: \"formatString\"\n                }\n            },\n            labels: {\n                show: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"labels\",\n                    propertyName: \"show\"\n                },\n                fontSize: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"labels\",\n                    propertyName: \"fontSize\"\n                },\n                labelPrecision: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"labels\",\n                    propertyName: \"labelPrecision\"\n                },\n                labelDisplayUnits: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"labels\",\n                    propertyName: \"labelDisplayUnits\"\n                },\n                insideFill: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"labels\",\n                    propertyName: \"insideFill\"\n                },\n                outsideFill: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"labels\",\n                    propertyName: \"outsideFill\"\n                }\n            },\n            dataPoint: {\n                fill: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"dataPoint\",\n                    propertyName: \"fill\"\n                }\n            },\n            legend: {\n                show: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"legend\",\n                    propertyName: \"show\"\n                },\n                labelColor: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"legend\",\n                    propertyName: \"labelColor\"\n                },\n                fontSize: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"legend\",\n                    propertyName: \"fontSize\"\n                },\n            },\n            categories: {\n                show: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"categories\",\n                    propertyName: \"show\"\n                },\n                fill: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"categories\",\n                    propertyName: \"fill\"\n                }\n            }\n        };\n\n        private static Columns: ClassAndSelector = {\n            \"class\": \"columns\",\n            selector: \".columns\"\n        };\n\n        private static Column: ClassAndSelector = {\n            \"class\": \"column\",\n            selector: \".column\"\n        };\n\n        private static Axes: ClassAndSelector = {\n            \"class\": \"axes\",\n            selector: \".axes\"\n        };\n\n        private static Axis: ClassAndSelector = {\n            \"class\": \"axis\",\n            selector: \".axis\"\n        };\n\n        private static Labels: ClassAndSelector = {\n            \"class\": \"labels\",\n            selector: \".labels\"\n        };\n\n        private static Label: ClassAndSelector = {\n            \"class\": \"label\",\n            selector: \".label\"\n        };\n\n        private static LabelTitle: ClassAndSelector = {\n            \"class\": \"label-title\",\n            selector: \".label-title\"\n        };\n\n        private static LabelText: ClassAndSelector = {\n            \"class\": \"label-text\",\n            selector: \".label-text\"\n        };\n\n        private static Categories: ClassAndSelector = {\n            \"class\": \"categories\",\n            selector: \".categories\"\n        };\n\n        private static Category: ClassAndSelector = {\n            \"class\": \"category\",\n            selector: \".category\"\n        };\n\n        private static CategoryTitle: ClassAndSelector = {\n            \"class\": \"category-title\",\n            selector: \".category-title\"\n        };\n\n        private static CategoryText: ClassAndSelector = {\n            \"class\": \"category-text\",\n            selector: \".category-text\"\n        };\n\n        private static MaxSeries: number = 2;\n        private static MaxPrecision: number = 17; // max number of decimals in float\n        private static LabelPadding: number = 2.5;\n        private static CategoryMinHeight: number = 25;\n        private static DefaultFontSize: number = 9;\n        private static DefaultLegendFontSize: number = 8;\n        private static HighlightedShapeFactor: number = 0.5;\n\n        public static ScrollBarWidth = 10;\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [{\n                name: \"Category\",\n                kind: VisualDataRoleKind.Grouping,\n                displayName: data.createDisplayNameGetter(\"Role_DisplayName_Group\")\n            }, {\n                    name: \"Series\",\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Legend')\n                }, {\n                    name: \"Values\",\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: data.createDisplayNameGetter(\"Role_DisplayName_Values\")\n                }],\n            dataViewMappings: [{\n                conditions: [\n                    { \"Category\": { max: 1 }, \"Values\": { min: 0, max: 1 }, \"Series\": { min: 0, max: 1 } },\n                    { \"Category\": { max: 1 }, \"Values\": { min: 2, max: 2 }, \"Series\": { max: 0 } }\n                ],\n                categorical: {\n                    categories: {\n                        for: {\n                            in: \"Category\"\n                        }\n                    },\n                    values: {\n                        group: {\n                            by: \"Series\",\n                            select: [{ for: { in: \"Values\" } }],\n                            dataReductionAlgorithm: { top: {} }\n                        }\n                    }\n                }\n            }],\n            objects: {\n                general: {\n                    displayName: 'General',\n                    properties: {\n                        formatString: {\n                            type: {\n                                formatting: {\n                                    formatString: true\n                                }\n                            },\n                        }\n                    }\n                },\n                dataPoint: {\n                    displayName: 'Data Colors',\n                    properties: {\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                categoryAxis: {\n                    displayName: 'X-Axis',\n                    properties: {\n                        end: {\n                            displayName: 'End',\n                            type: { numeric: true },\n                            suppressFormatPainterCopy: true,\n                        },\n                    }\n                },\n                labels: {\n                    displayName: 'Data Labels',\n                    properties: {\n                        show: {\n                            displayName: 'Show',\n                            type: { bool: true }\n                        },\n                        labelPrecision: {\n                            displayName: 'Decimal Places',\n                            placeHolderText: 'Auto',\n                            type: { numeric: true }\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } }\n                        },\n                        labelDisplayUnits: {\n                            displayName: 'Display Units',\n                            type: { formatting: { labelDisplayUnits: true } },\n                        },\n                        insideFill: {\n                            displayName: 'Inside fill',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        outsideFill: {\n                            displayName: 'Outside fill',\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                legend: {\n                    displayName: 'Legend',\n                    properties: {\n                        show: {\n                            displayName: 'Show',\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: 'Position',\n                            description: data.createDisplayNameGetter('Visual_LegendPositionDescription'),\n                            type: { enumeration: legendPosition.type }\n                        },\n                        showTitle: {\n                            displayName: 'Title',\n                            description: data.createDisplayNameGetter('Visual_LegendShowTitleDescription'),\n                            type: { bool: true }\n                        },\n                        titleText: {\n                            displayName: 'Legend Name',\n                            description: data.createDisplayNameGetter('Visual_LegendNameDescription'),\n                            type: { text: true }\n                        },\n                        labelColor: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: 'TextSize',\n                            type: { formatting: { fontSize: true } }\n                        },\n                    }\n                },\n                categories: {\n                    displayName: 'Group',\n                    properties: {\n                        show: {\n                            displayName: 'Show',\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                }\n            },\n            supportsHighlight: true,\n        };\n\n        private DefaultTornadoChartSettings: TornadoChartSettings = {\n            labelOutsideFillColor: dataLabelUtils.defaultLabelColor,\n            labelSettings: {\n                show: true,\n                precision: null,\n                fontSize: TornadoChart.DefaultFontSize,\n                displayUnits: 0,\n                labelColor: dataLabelUtils.defaultInsideLabelColor,\n            },\n            showCategories: true,\n            showLegend: true,\n            legendFontSize: TornadoChart.DefaultLegendFontSize,\n            legendColor: LegendData.DefaultLegendLabelFillColor,\n            categoriesFillColor: \"#777\"\n        };\n\n        private DefaultFillColors: string[] = [\n            \"purple\", \"teal\"\n        ];\n\n        private columnPadding: number = 5;\n        private leftLabelMargin: number = 4;\n        private durationAnimations: number;\n        private InnerTextHeightDelta: number = 2;\n        private textOptions: TornadoChartTextOptions = {};\n\n        private margin: IMargin = {\n            top: 10,\n            right: 5,\n            bottom: 10,\n            left: 10\n        };\n\n        private root: D3.Selection;\n        private svg: D3.Selection;\n        private main: D3.Selection;\n        private columns: D3.Selection;\n        private axes: D3.Selection;\n        private labels: D3.Selection;\n        private categories: D3.Selection;\n        private clearCatcher: D3.Selection;\n\n        private legendObjectProperties: DataViewObject;\n        private legend: ILegend;\n        private hasDynamicSeries: boolean;\n        private hasHighlights: boolean;\n        private behavior: IInteractiveBehavior;\n        private colors: IDataColorPalette;\n        private interactivityService: IInteractivityService;\n        private animator: IGenericAnimator;\n        private hostService: IVisualHostServices;\n        private scrolling: TornadoChartScrolling;\n\n        private viewport: IViewport;\n        private tornadoChartDataView: TornadoChartDataView;\n        private defaultTornadoChartDataView: TornadoChartDataView;\n        private labelHeight: number;\n        private heightColumn: number = 0;\n        private widthLeftSection: number = 0;\n        private widthRightSection: number = 0;\n\n        constructor(tornadoChartConstructorOptions?: TornadoChartConstructorOptions) {\n            if (tornadoChartConstructorOptions) {\n                this.svg = tornadoChartConstructorOptions.svg || this.svg;\n                this.margin = tornadoChartConstructorOptions.margin || this.margin;\n                this.columnPadding = tornadoChartConstructorOptions.columnPadding || this.columnPadding;\n                this.animator = tornadoChartConstructorOptions.animator;\n            }\n        }\n\n        public init(visualInitOptions: VisualInitOptions): void {\n            let style: IVisualStyle = visualInitOptions.style,\n                fontSize: string;\n\n            this.hostService = visualInitOptions.host;\n            let element: JQuery = visualInitOptions.element;\n            this.colors = style.colorPalette.dataColors;\n            let interactivity = visualInitOptions.interactivity;\n            this.interactivityService = createInteractivityService(this.hostService);\n\n            let root: D3.Selection;\n            if (this.svg)\n                this.root = root = this.svg;\n            else\n                this.root = root = d3.select(element.get(0))\n                    .append(\"svg\");\n\n            root\n                .classed(TornadoChart.ClassName, true)\n                .style('position', 'absolute');\n\n            fontSize = root.style(\"font-size\");\n\n            this.textOptions.sizeUnit = fontSize.slice(fontSize.length - 2);\n            this.textOptions.fontSize = Number(fontSize.slice(0, fontSize.length - 2));\n            this.textOptions.fontFamily = root.style(\"font-family\");\n            this.scrolling = new TornadoChartScrolling(() => root, () => this.viewport, () => this.margin, true);\n            let main: D3.Selection = this.main = root.append(\"g\");\n            this.clearCatcher = appendClearCatcher(main);\n            this.columns = main\n                .append(\"g\")\n                .classed(TornadoChart.Columns.class, true);\n\n            this.axes = main\n                .append(\"g\")\n                .classed(TornadoChart.Axes.class, true);\n\n            this.labels = main\n                .append(\"g\")\n                .classed(TornadoChart.Labels.class, true);\n\n            this.categories = main\n                .append(\"g\")\n                .classed(TornadoChart.Categories.class, true);\n\n            this.behavior = new TornadoWebBehavior();\n            this.defaultTornadoChartDataView = {\n                categories: [],\n                series: [],\n                settings: null,\n                legend: null,\n                dataPoints: [],\n                highlightedDataPoints: [],\n            };\n\n            this.legend = createLegend(element, interactivity && interactivity.isInteractiveLegend, this.interactivityService, true);\n        }\n\n        public update(visualUpdateOptions: VisualUpdateOptions): void {\n            if (!visualUpdateOptions ||\n                !visualUpdateOptions.dataViews ||\n                !visualUpdateOptions.dataViews[0]) {\n                return;\n            }\n\n            this.viewport = {\n                height: Math.max(0, visualUpdateOptions.viewport.height - this.margin.top - this.margin.bottom),\n                width: Math.max(0, visualUpdateOptions.viewport.width - this.margin.left - this.margin.right)\n            };\n\n            if (this.animator)\n                this.durationAnimations = AnimatorCommon.GetAnimationDuration(this.animator, visualUpdateOptions.suppressAnimations);\n            else\n                this.durationAnimations = visualUpdateOptions.suppressAnimations ? 0 : 250;\n\n            this.tornadoChartDataView = this.converter(visualUpdateOptions.dataViews[0]);\n\n            if (this.interactivityService) {\n                this.interactivityService.applySelectionStateToData(this.tornadoChartDataView.dataPoints);\n                this.interactivityService.applySelectionStateToData(this.tornadoChartDataView.highlightedDataPoints);\n            }\n\n            this.render();\n        }\n\n        private updateElements(): void {\n            let elementsTranslate: string = SVGUtil.translate(this.widthLeftSection, 0);\n\n            this.root.attr({\n                \"height\": this.viewport.height + this.margin.top + this.margin.bottom,\n                \"width\": this.viewport.width + this.margin.left + this.margin.right\n            });\n\n            this.columns\n                .attr(\"transform\", elementsTranslate);\n\n            this.labels\n                .attr(\"transform\", elementsTranslate);\n\n            this.axes\n                .attr(\"transform\", elementsTranslate);\n        }\n\n        public converter(dataView: DataView): TornadoChartDataView {\n            if (!dataView ||\n                !dataView.categorical ||\n                !dataView.categorical.categories ||\n                !dataView.categorical.categories[0] ||\n                !dataView.categorical.categories[0].source ||\n                !dataView.categorical.values ||\n                !dataView.categorical.values[0]) {\n                return this.defaultTornadoChartDataView;\n            }\n\n            let categorical: DataViewCategorical = dataView.categorical;\n            let categories: DataViewCategoryColumn[] = categorical.categories || [];\n            let values: DataViewValueColumns = categorical.values;\n            if (values.length > TornadoChart.MaxSeries) {\n                this.hostService.setWarnings([getTornadoChartWarning()]);\n                return this.defaultTornadoChartDataView;\n            }\n            let category: DataViewCategoricalColumn = categories[0];\n            let categoryValues: number[] = category.values;\n            let categoryValuesLength: number = categoryValues.length;\n            let objects: DataViewObjects = this.getObjectsFromDataView(dataView);\n\n            let formatStringProp: DataViewObjectPropertyIdentifier = TornadoChart.Properties.general.formatString;\n            let valuesSourceFormatString: string = valueFormatter.getFormatString(values[0].source, formatStringProp);\n            let maxValue: number = d3.max(values[0].values);\n            let settings: TornadoChartSettings = this.parseSettings(objects, valuesSourceFormatString, maxValue);\n            this.hasDynamicSeries = !!values.source;\n            let hasHighlights: boolean = this.hasHighlights = !!(values.length > 0 && values[0].highlights);\n            this.labelHeight = TextMeasurementService.estimateSvgTextHeight({\n                fontFamily: dataLabelUtils.StandardFontFamily,\n                fontSize: PixelConverter.fromPoint(settings.labelSettings.fontSize),\n            });\n\n            let series: TornadoChartSeries[] = [];\n            let dataPoints: TornadoChartPoint[] = [];\n            let highlightedDataPoints: TornadoChartPoint[] = [];\n            let categoriesLabels: TextData[] = [];\n\n            let groupedValues: DataViewValueColumnGroup[] = [];\n            if (values.grouped)\n                groupedValues = values.grouped();\n\n            // Parse category labels and compute maximum category length\n            let maxCategoryLength: number = 0;\n            let showCategories = settings.showCategories;\n            let categorySourceFormatString: string = valueFormatter.getFormatString(category.source, formatStringProp);\n            for (let i = 0; i < categoryValuesLength; i++) {\n                let formattedCategoryValue = valueFormatter.format(categoryValues[i], categorySourceFormatString);\n                let textData = this.getTextData(formattedCategoryValue, true);\n                categoriesLabels.push(textData);\n                if (showCategories && textData.width > maxCategoryLength)\n                    maxCategoryLength = textData.width;\n            }\n\n            let scrollBarWidth: number = (categoryValuesLength * TornadoChart.CategoryMinHeight > this.viewport.height) ? TornadoChart.ScrollBarWidth : 0;\n            this.widthLeftSection = maxCategoryLength + TornadoChart.LabelPadding;\n            let maxColumnWidth = this.widthRightSection = this.viewport.width - this.widthLeftSection - scrollBarWidth;\n            this.updateElements();\n\n            let minValue: number = Math.min(d3.min(values[0].values), 0);\n            if (values.length === TornadoChart.MaxSeries) {\n                minValue = d3.min([minValue, d3.min(values[1].values)]);\n                maxValue = d3.max([maxValue, d3.max(values[1].values)]);\n                maxColumnWidth = maxColumnWidth / TornadoChart.MaxSeries;\n            }\n\n            for (let seriesIndex = 0; seriesIndex < values.length; seriesIndex++) {\n                let parsedSeries: TornadoChartSeries = this.parseSeries(values, seriesIndex, this.hasDynamicSeries, groupedValues);\n                series.push(parsedSeries);\n                let currentSeries = values[seriesIndex];\n                let measureName = currentSeries.source.queryName;\n\n                for (let i = 0; i < categoryValuesLength; i++) {\n                    let value = currentSeries.values[i] == null || isNaN(currentSeries.values[i]) ? 0 : currentSeries.values[i];\n                    let identity = SelectionIdBuilder.builder()\n                        .withCategory(category, i)\n                        .withSeries(values, currentSeries)\n                        .withMeasure(measureName)\n                        .createSelectionId();\n                    let formattedCategoryValue = categoriesLabels[i].text;\n                    let tooltipInfo: TooltipDataItem[];\n                    tooltipInfo = TooltipBuilder.createTooltipInfo(formatStringProp, categorical, formattedCategoryValue, value, null, null, seriesIndex, i, null);\n\n                    // Limit maximum value with what the user choose\n                    let currentMaxValue = parsedSeries.categoryAxisEnd ? Math.min(parsedSeries.categoryAxisEnd, maxValue) : maxValue;\n                    let formatString = dataView.categorical.values[seriesIndex].source.format;\n\n                    dataPoints.push({\n                        value: value,\n                        minValue: minValue,\n                        maxValue: currentMaxValue,\n                        formatString: formatString,\n                        color: parsedSeries.fill,\n                        selected: false,\n                        identity: identity,\n                        tooltipData: tooltipInfo,\n                        categoryIndex: i,\n                    });\n\n                    if (hasHighlights) {\n                        let highlightIdentity = SelectionId.createWithHighlight(identity);\n                        let highlight = currentSeries.highlights[i];\n                        let highlightedValue = highlight != null ? highlight : 0;\n                        tooltipInfo = TooltipBuilder.createTooltipInfo(formatStringProp, categorical, formattedCategoryValue, value, null, null, seriesIndex, i, highlightedValue);\n\n                        highlightedDataPoints.push({\n                            value: highlightedValue,\n                            minValue: minValue,\n                            maxValue: currentMaxValue,\n                            formatString: formatString,\n                            color: parsedSeries.fill,\n                            selected: false,\n                            identity: highlightIdentity,\n                            tooltipData: tooltipInfo,\n                            categoryIndex: i,\n                            highlight: true,\n                        });\n                    }\n                }\n            }\n\n            return {\n                categories: categoriesLabels,\n                series: series,\n                settings: settings,\n                legend: this.getLegendData(series),\n                dataPoints: dataPoints,\n                highlightedDataPoints: highlightedDataPoints,\n            };\n        }\n\n        private parseSettings(objects: DataViewObjects, formatString: string, value: number): TornadoChartSettings {\n            let precision: number = this.getPrecision(objects);\n\n            let displayUnits: number = DataViewObjects.getValue<number>(\n                objects,\n                TornadoChart.Properties.labels.labelDisplayUnits,\n                this.DefaultTornadoChartSettings.labelSettings.displayUnits);\n\n            let labelSettings = this.DefaultTornadoChartSettings.labelSettings;\n\n            let labelValueFormatter = valueFormatter.create({\n                format: formatString,\n                precision: precision,\n                value: (displayUnits === 0) && (value != null) ? value : displayUnits,\n            });\n\n            return {\n                labelOutsideFillColor: this.getColor(TornadoChart.Properties.labels.outsideFill, this.DefaultTornadoChartSettings.labelOutsideFillColor, objects),\n                labelSettings: {\n                    show: DataViewObjects.getValue<boolean>(objects, TornadoChart.Properties.labels.show, labelSettings.show),\n                    precision: precision,\n                    fontSize: DataViewObjects.getValue<number>(objects, TornadoChart.Properties.labels.fontSize, labelSettings.fontSize),\n                    displayUnits: displayUnits,\n                    labelColor: this.getColor(TornadoChart.Properties.labels.insideFill, labelSettings.labelColor, objects),\n                },\n                showCategories: DataViewObjects.getValue<boolean>(objects, TornadoChart.Properties.categories.show, this.DefaultTornadoChartSettings.showCategories),\n                showLegend: DataViewObjects.getValue<boolean>(objects, TornadoChart.Properties.legend.show, this.DefaultTornadoChartSettings.showLegend),\n                legendFontSize: DataViewObjects.getValue<number>(objects, TornadoChart.Properties.legend.fontSize, this.DefaultTornadoChartSettings.legendFontSize),\n                legendColor: this.getColor(TornadoChart.Properties.legend.labelColor, this.DefaultTornadoChartSettings.legendColor, objects),\n                categoriesFillColor: this.getColor(TornadoChart.Properties.categories.fill, this.DefaultTornadoChartSettings.categoriesFillColor, objects),\n                labelValueFormatter: labelValueFormatter\n            };\n        }\n\n        private getColor(properties: any, defaultColor: string, objects: DataViewObjects): string {\n            let colorHelper: ColorHelper = new ColorHelper(this.colors, properties, defaultColor);\n            return colorHelper.getColorForMeasure(objects, \"\");\n        }\n\n        private getPrecision(objects: DataViewObjects): number {\n            let precision: number = DataViewObjects.getValue<number>(\n                objects,\n                TornadoChart.Properties.labels.labelPrecision,\n                this.DefaultTornadoChartSettings.labelSettings.precision);\n\n            if (precision >= TornadoChart.MaxPrecision) {\n                return TornadoChart.MaxPrecision;\n            }\n\n            return precision;\n        }\n\n        private getObjectsFromDataView(dataView: DataView): DataViewObjects {\n            if (!dataView ||\n                !dataView.metadata ||\n                !dataView.metadata.columns ||\n                !dataView.metadata.objects) {\n                this.legendObjectProperties = {};\n                return null;\n            }\n            this.legendObjectProperties = DataViewObjects.getObject(dataView.metadata.objects, \"legend\", {});\n            return dataView.metadata.objects;\n        }\n\n        private parseSeries(dataViewValueColumns: DataViewValueColumns, index: number, isGrouped: boolean, grouped: DataViewValueColumnGroup[]): TornadoChartSeries {\n            let dataViewValueColumn: DataViewValueColumn = dataViewValueColumns[index];\n            let seriesGroup: DataViewValueColumnGroup | DataViewValueColumn = isGrouped ? grouped[index] : grouped[0].values[index];\n            let source: DataViewMetadataColumn = dataViewValueColumn.source;\n\n            let selectionId: SelectionId = seriesGroup.identity\n                ? SelectionId.createWithId(seriesGroup.identity)\n                : SelectionIdBuilder.builder()\n                    .withSeries(dataViewValueColumns, seriesGroup)\n                    .withMeasure(source.queryName)\n                    .createSelectionId();\n\n            let displayName: string = source.groupName ? source.groupName : source.displayName;\n            let objects;\n            let categoryAxisObject: DataViewObject | DataViewObjectWithId[];\n\n            if (isGrouped) {\n                categoryAxisObject = seriesGroup.objects ? seriesGroup.objects['categoryAxis'] : null;\n                objects = seriesGroup.objects;\n            }\n            else {\n                objects = source.objects;\n                categoryAxisObject = objects ? objects['categoryAxis'] : null;\n            }\n\n            let color: string = this.getColor(\n                TornadoChart.Properties.dataPoint.fill,\n                this.DefaultFillColors[index],\n                objects);\n            let categoryAxisEnd: number = categoryAxisObject ? categoryAxisObject['end'] : null;\n\n            return <TornadoChartSeries>{\n                fill: color,\n                name: displayName,\n                selectionId: selectionId,\n                categoryAxisEnd: categoryAxisEnd,\n            };\n        }\n\n        private getLegendData(series: TornadoChartSeries[]): LegendData {\n            let legendDataPoints: LegendDataPoint[] = [];\n\n            if (this.hasDynamicSeries)\n                legendDataPoints = series.map((series: TornadoChartSeries) => {\n                    return <LegendDataPoint>{\n                        label: series.name,\n                        color: series.fill,\n                        icon: LegendIcon.Box,\n                        selected: false,\n                        identity: series.selectionId\n                    };\n                });\n\n            return {\n                dataPoints: legendDataPoints\n            };\n        }\n\n        private clearData(): void {\n            this.columns.selectAll(\"*\").remove();\n            this.axes.selectAll(\"*\").remove();\n            this.labels.selectAll(\"*\").remove();\n            this.categories.selectAll(\"*\").remove();\n            this.legend.drawLegend({ dataPoints: [] }, this.viewport);\n            this.scrolling.clearData();\n        }\n\n        public onClearSelection(): void {\n            if (this.interactivityService)\n                this.interactivityService.clearSelection();\n        }\n\n        private render(): void {\n            let tornadoChartDataView: TornadoChartDataView = this.tornadoChartDataView;\n            if (!tornadoChartDataView ||\n                !tornadoChartDataView.settings) {\n                this.clearData();\n                return;\n            }\n\n            this.renderLegend();\n\n            this.scrolling.renderY(\n                tornadoChartDataView,\n                tornadoChartDataView.categories.length * TornadoChart.CategoryMinHeight,\n                this.renderWithScrolling.bind(this));\n        }\n\n        private renderWithScrolling(tornadoChartDataView: TornadoChartDataView, scrollStart: number, scrollEnd: number): void {\n            if (!this.tornadoChartDataView || !this.tornadoChartDataView.settings)\n                return;\n            let categoriesLength = tornadoChartDataView.categories.length;\n            let startIndex: number = scrollStart * categoriesLength;\n            let endIndex: number = scrollEnd * categoriesLength;\n\n            let startIndexRound: number = Math.floor(startIndex);\n            let endIndexRound: number = Math.floor(endIndex);\n\n            let maxValues: number = Math.floor(this.scrolling.scrollViewport.height / TornadoChart.CategoryMinHeight);\n\n            if (scrollEnd - scrollStart < 1 && maxValues < endIndexRound - startIndexRound) {\n                if (startIndex - startIndexRound > endIndex - endIndexRound) {\n                    startIndexRound++;\n                }\n                else {\n                    endIndex--;\n                }\n            }\n\n            if (this.interactivityService) {\n                this.interactivityService.applySelectionStateToData(tornadoChartDataView.dataPoints);\n                this.interactivityService.applySelectionStateToData(tornadoChartDataView.highlightedDataPoints);\n            }\n\n            let scrollBarWidth: number = (tornadoChartDataView.categories.length * TornadoChart.CategoryMinHeight > this.viewport.height) ? TornadoChart.ScrollBarWidth : 0;\n\n            // Filter data according to the visible visual area\n            tornadoChartDataView.categories = tornadoChartDataView.categories.slice(startIndexRound, endIndexRound);\n            tornadoChartDataView.dataPoints = _.filter(tornadoChartDataView.dataPoints, (d: TornadoChartPoint) => d.categoryIndex >= startIndexRound && d.categoryIndex < endIndexRound);\n            tornadoChartDataView.highlightedDataPoints = _.filter(tornadoChartDataView.highlightedDataPoints, (d: TornadoChartPoint) => d.categoryIndex >= startIndexRound && d.categoryIndex < endIndexRound);\n\n            this.tornadoChartDataView = tornadoChartDataView;\n            this.computeHeightColumn();\n            this.renderMiddleSection(scrollBarWidth);\n            this.renderAxes();\n            this.renderCategories();\n        }\n\n        private updateViewport(): void {\n            let legendMargins: IViewport = this.legend.getMargins(),\n                legendPosition: LegendPosition;\n\n            legendPosition = LegendPosition[<string>this.legendObjectProperties[legendProps.position]];\n\n            switch (legendPosition) {\n                case LegendPosition.Top:\n                case LegendPosition.TopCenter:\n                case LegendPosition.Bottom:\n                case LegendPosition.BottomCenter: {\n                    this.viewport.height -= legendMargins.height;\n\n                    break;\n                }\n                case LegendPosition.Left:\n                case LegendPosition.LeftCenter:\n                case LegendPosition.Right:\n                case LegendPosition.RightCenter: {\n                    this.viewport.width -= legendMargins.width;\n\n                    break;\n                }\n            }\n        }\n\n        private computeHeightColumn(): void {\n            let length: number = this.tornadoChartDataView.categories.length;\n            this.heightColumn = (this.scrolling.scrollViewport.height - ((length - 1) * this.columnPadding)) / length;\n        }\n\n        private renderMiddleSection(scrollBarWidth: number): void {\n            let tornadoChartDataView: TornadoChartDataView = this.tornadoChartDataView;\n            this.calculateDataPoints(tornadoChartDataView.dataPoints, scrollBarWidth);\n            this.calculateDataPoints(tornadoChartDataView.highlightedDataPoints, scrollBarWidth);\n            let dataPointsWithHighlights: TornadoChartPoint[] = tornadoChartDataView.dataPoints.concat(tornadoChartDataView.highlightedDataPoints);\n            this.renderColumns(dataPointsWithHighlights, tornadoChartDataView.series.length === 2);\n            this.renderLabels(this.hasHighlights ? tornadoChartDataView.highlightedDataPoints : tornadoChartDataView.dataPoints, tornadoChartDataView.settings.labelSettings);\n        }\n\n        /**\n         * Calculate the width, dx value and label info for every data point\n         */\n        private calculateDataPoints(dataPoints: TornadoChartPoint[], scrollBarWidth: number): void {\n            let maxColumnWidth: number = this.widthRightSection = (this.viewport.width - this.widthLeftSection - scrollBarWidth);\n            let categoriesLength: number = this.tornadoChartDataView.categories.length;\n            let settings: TornadoChartSettings = this.tornadoChartDataView.settings;\n            let hasHighlights: boolean = this.hasHighlights;\n            let heightColumn = Math.max(this.heightColumn, 0);\n            let py = heightColumn / 2;\n            let pyHighlighted = heightColumn * TornadoChart.HighlightedShapeFactor / 2;\n            let maxSeries: boolean = this.tornadoChartDataView.series.length === TornadoChart.MaxSeries;\n\n            if (maxSeries)\n                maxColumnWidth /= 2;\n\n            for (let i = 0; i < dataPoints.length; i++) {\n                let dataPoint = dataPoints[i];\n\n                let shiftToMiddle = i < categoriesLength && maxSeries;\n                let shiftToRight: boolean = i > categoriesLength - 1;\n                let widthOfColumn: number = this.getColumnWidth(dataPoint.value, dataPoint.minValue, dataPoint.maxValue, maxColumnWidth);\n                let dx: number = (maxColumnWidth - widthOfColumn) * Number(shiftToMiddle) + maxColumnWidth * Number(shiftToRight) - scrollBarWidth;\n                dx = Math.max(dx, 0);\n\n                let highlighted: boolean = hasHighlights && dataPoint.highlight;\n                let highlightOffset: number = highlighted ? heightColumn * (1 - TornadoChart.HighlightedShapeFactor) / 2 : 0;\n                let dy: number = (heightColumn + this.columnPadding) * (i % categoriesLength) + highlightOffset;\n\n                let label: LabelData = this.getLabelData(\n                    dataPoint.value,\n                    dx,\n                    widthOfColumn,\n                    shiftToMiddle,\n                    dataPoint.formatString,\n                    settings);\n\n                dataPoint.dx = dx;\n                dataPoint.dy = dy;\n                dataPoint.px = widthOfColumn / 2;\n                dataPoint.py = highlighted ? pyHighlighted : py;\n                dataPoint.angle = shiftToMiddle ? 180 : 0;\n                dataPoint.width = widthOfColumn;\n                dataPoint.height = highlighted ? heightColumn * TornadoChart.HighlightedShapeFactor : heightColumn;\n                dataPoint.label = label;\n            }\n        }\n\n        private renderColumns(columnsData: TornadoChartPoint[], selectSecondSeries: boolean = false): void {\n            let hasSelection: boolean = this.interactivityService && this.interactivityService.hasSelection();\n            let hasHighlights: boolean = this.hasHighlights;\n\n            let columnsSelection: D3.UpdateSelection = this.columns\n                .selectAll(TornadoChart.Column.selector)\n                .data(columnsData);\n\n            columnsSelection\n                .enter()\n                .append(\"svg:rect\")\n                .classed(TornadoChart.Column.class, true);\n\n            columnsSelection\n                .style(\"fill\", (p: TornadoChartPoint) => p.color)\n                .style(\"fill-opacity\", (p: TornadoChartPoint) => ColumnUtil.getFillOpacity(p.selected, p.highlight, hasSelection, hasHighlights))\n                .attr(\"transform\", (p: TornadoChartPoint) => SVGUtil.translateAndRotate(p.dx, p.dy, p.px, p.py, p.angle))\n                .attr(\"height\", (p: TornadoChartPoint) => p.height)\n                .attr(\"width\", (p: TornadoChartPoint) => p.width);\n\n            columnsSelection\n                .exit()\n                .remove();\n\n            let interactivityService = this.interactivityService;\n\n            if (interactivityService) {\n                interactivityService.applySelectionStateToData(columnsData);\n                let behaviorOptions: TornadoBehaviorOptions = {\n                    columns: columnsSelection,\n                    clearCatcher: this.clearCatcher,\n                    interactivityService: this.interactivityService,\n                };\n                interactivityService.bind(columnsData, this.behavior, behaviorOptions);\n            }\n\n            this.renderTooltip(columnsSelection);\n        }\n\n        private renderTooltip(selection: D3.UpdateSelection): void {\n            TooltipManager.addTooltip(selection, (tooltipEvent: TooltipEvent) => {\n                return (<TornadoChartPoint>tooltipEvent.data).tooltipData;\n            });\n        }\n\n        private getColumnWidth(value: number, minValue: number, maxValue: number, width: number): number {\n            if (minValue === maxValue) {\n                return width;\n            }\n            let columnWidth = width * (value - minValue) / (maxValue - minValue);\n\n            // In case the user specifies a custom category axis end we limit the\n            // column width to the maximum available width\n            return Math.max(0, Math.min(width, columnWidth));\n        }\n\n        private getLabelData(\n            value: number,\n            dxColumn: number,\n            columnWidth: number,\n            isColumnPositionLeft: boolean,\n            formatStringProp: string,\n            settings?: TornadoChartSettings): LabelData {\n\n            let dx: number,\n                tornadoChartSettings: TornadoChartSettings = settings ? settings : this.tornadoChartDataView.settings,\n                labelSettings: VisualDataLabelsSettings = tornadoChartSettings.labelSettings,\n                fontSize: number = labelSettings.fontSize,\n                color: string = labelSettings.labelColor;\n\n            let maxOutsideLabelWidth = isColumnPositionLeft\n                ? dxColumn - this.leftLabelMargin\n                : this.widthRightSection - (dxColumn + columnWidth + this.leftLabelMargin);\n            let maxLabelWidth = Math.max(maxOutsideLabelWidth, columnWidth - this.leftLabelMargin);\n\n            let textProperties: TextProperties = {\n                fontFamily: dataLabelUtils.StandardFontFamily,\n                fontSize: PixelConverter.fromPoint(fontSize),\n                text: tornadoChartSettings.labelValueFormatter.format(value)\n            };\n            let valueAfterValueFormatter: string = TextMeasurementService.getTailoredTextOrDefault(textProperties, maxLabelWidth);\n            let textDataAfterValueFormatter: TextData = this.getTextData(valueAfterValueFormatter, true, false, fontSize);\n\n            if (columnWidth > textDataAfterValueFormatter.width + TornadoChart.LabelPadding) {\n                dx = dxColumn + columnWidth / 2 - textDataAfterValueFormatter.width / 2;\n            } else {\n                if (isColumnPositionLeft) {\n                    dx = dxColumn - this.leftLabelMargin - textDataAfterValueFormatter.width;\n                } else {\n                    dx = dxColumn + columnWidth + this.leftLabelMargin;\n                }\n                color = tornadoChartSettings.labelOutsideFillColor;\n            }\n\n            return {\n                dx: dx,\n                source: value,\n                value: valueAfterValueFormatter,\n                color: color\n            };\n        }\n\n        private renderAxes(): void {\n            let linesData: LineData[],\n                axesSelection: D3.UpdateSelection,\n                axesElements: D3.Selection = this.main\n                    .select(TornadoChart.Axes.selector)\n                    .selectAll(TornadoChart.Axis.selector);\n\n            if (this.tornadoChartDataView.series.length !== TornadoChart.MaxSeries) {\n                axesElements.remove();\n                return;\n            }\n\n            linesData = this.generateAxesData();\n\n            axesSelection = axesElements.data(linesData);\n\n            axesSelection\n                .enter()\n                .append(\"svg:line\")\n                .classed(TornadoChart.Axis.class, true);\n\n            axesSelection\n                .transition()\n                .duration(this.durationAnimations)\n                .attr(\"x1\", (data: LineData) => data.x1)\n                .attr(\"y1\", (data: LineData) => data.y1)\n                .attr(\"x2\", (data: LineData) => data.x2)\n                .attr(\"y2\", (data: LineData) => data.y2);\n\n            axesSelection\n                .exit()\n                .remove();\n        }\n\n        private generateAxesData(): LineData[] {\n            let x: number,\n                y1: number,\n                y2: number;\n\n            x = this.widthRightSection / 2;\n            y1 = 0;\n            y2 = this.scrolling.scrollViewport.height;\n\n            return [{\n                x1: x,\n                y1: y1,\n                x2: x,\n                y2: y2\n            }];\n        }\n\n        private renderLabels(dataPoints: TornadoChartPoint[], labelsSettings: VisualDataLabelsSettings): void {\n            let labelEnterSelection: D3.Selection,\n                labelSelection: D3.UpdateSelection = this.main\n                    .select(TornadoChart.Labels.selector)\n                    .selectAll(TornadoChart.Label.selector)\n                    .data(_.filter(dataPoints, (p: TornadoChartPoint) => p.label.dx >= 0));\n\n            // Check if labels can be displayed\n            if (!labelsSettings.show || this.labelHeight >= this.heightColumn) {\n                this.labels.selectAll(\"*\").remove();\n                return;\n            }\n\n            let fontSizeInPx: string = PixelConverter.fromPoint(labelsSettings.fontSize);\n            let labelYOffset: number = this.heightColumn / 2 + this.labelHeight / 2 - this.InnerTextHeightDelta;\n            let categoriesLength: number = this.tornadoChartDataView.categories.length;\n\n            labelEnterSelection = labelSelection\n                .enter()\n                .append(\"g\");\n\n            labelEnterSelection\n                .append(\"svg:title\")\n                .classed(TornadoChart.LabelTitle.class, true);\n\n            labelEnterSelection\n                .append(\"svg:text\")\n                .attr(\"dy\", dataLabelUtils.DefaultDy)\n                .classed(TornadoChart.LabelText.class, true);\n\n            labelSelection\n                .attr(\"pointer-events\", \"none\")\n                .classed(TornadoChart.Label.class, true);\n\n            labelSelection\n                .select(TornadoChart.LabelTitle.selector)\n                .text((p: TornadoChartPoint) => p.label.source);\n\n            labelSelection\n                .attr(\"transform\", (p: TornadoChartPoint, index: number) => {\n                    let dy = (this.heightColumn + this.columnPadding) * (index % categoriesLength);\n                    return SVGUtil.translate(p.label.dx, dy + labelYOffset);\n                });\n\n            labelSelection\n                .select(TornadoChart.LabelText.selector)\n                .attr(\"fill\", (p: TornadoChartPoint) => p.label.color)\n                .attr(\"font-size\", (p: TornadoChartPoint) => fontSizeInPx)\n                .text((p: TornadoChartPoint) => p.label.value);\n\n            labelSelection\n                .exit()\n                .remove();\n        }\n\n        private renderCategories(): void {\n            let settings: TornadoChartSettings = this.tornadoChartDataView.settings,\n                color: string = settings.categoriesFillColor,\n                categoriesEnterSelection: D3.Selection,\n                categoriesSelection: D3.UpdateSelection,\n                categoryElements: D3.Selection = this.main\n                    .select(TornadoChart.Categories.selector)\n                    .selectAll(TornadoChart.Category.selector),\n                self: TornadoChart = this;\n\n            if (!settings.showCategories) {\n                categoryElements.remove();\n                return;\n            }\n\n            categoriesSelection = categoryElements.data(this.tornadoChartDataView.categories);\n\n            categoriesEnterSelection = categoriesSelection\n                .enter()\n                .append(\"g\");\n\n            categoriesEnterSelection\n                .append(\"svg:title\")\n                .classed(TornadoChart.CategoryTitle.class, true);\n\n            categoriesEnterSelection\n                .append(\"svg:text\")\n                .classed(TornadoChart.CategoryText.class, true);\n\n            categoriesSelection\n                .attr(\"transform\", (text: string, index: number) => {\n                    let shift: number = (this.heightColumn + this.columnPadding) * index + this.heightColumn / 2,\n                        textData: TextData = this.getTextData(text, false, true);\n\n                    shift = shift + textData.height / 2 - this.InnerTextHeightDelta;\n\n                    return SVGUtil.translate(0, shift);\n                })\n                .classed(TornadoChart.Category.class, true);\n\n            categoriesSelection\n                .select(TornadoChart.CategoryTitle.selector)\n                .text((text: TextData) => text.text);\n\n            categoriesSelection\n                .select(TornadoChart.CategoryText.selector)\n                .attr(\"fill\", color)\n                .text((data: TextData) => {\n                    let textData: TextData = self.getTextData(data.text);\n\n                    return TextMeasurementService.getTailoredTextOrDefault(textData.textProperties, self.widthLeftSection);\n                });\n\n            categoriesSelection\n                .exit()\n                .remove();\n        }\n\n        private renderLegend(): void {\n            let legend = this.tornadoChartDataView.legend;\n            if (!legend) {\n                return;\n            }\n            let settings: TornadoChartSettings = this.tornadoChartDataView.settings;\n\n            let legendData: LegendData = {\n                title: legend.title,\n                dataPoints: legend.dataPoints,\n                fontSize: settings.legendFontSize,\n                labelColor: settings.legendColor,\n            };\n\n            if (this.legendObjectProperties) {\n                let position: string;\n\n                LegendData.update(legendData, this.legendObjectProperties);\n\n                position = <string>this.legendObjectProperties[legendProps.position];\n\n                if (position) {\n                    this.legend.changeOrientation(LegendPosition[position]);\n                }\n            }\n\n            // Draw the legend on a viewport with the original height and width\n            let viewport: IViewport = {\n                height: this.viewport.height + this.margin.top + this.margin.bottom,\n                width: this.viewport.width + this.margin.left + this.margin.right,\n            };\n            this.legend.drawLegend(legendData, viewport);\n            Legend.positionChartArea(this.root, this.legend);\n\n            if (legendData.dataPoints.length > 0 && settings.showLegend)\n                this.updateViewport();\n        }\n\n        private getTextData(text: string, measureWidth: boolean = false, measureHeight: boolean = false, overrideFontSize?: number): TextData {\n            let width: number = 0,\n                height: number = 0,\n                fontSize: string,\n                textProperties: TextProperties;\n\n            text = text || \"\";\n\n            fontSize = overrideFontSize\n                ? PixelConverter.fromPoint(overrideFontSize)\n                : `${this.textOptions.fontSize}${this.textOptions.sizeUnit}`;\n\n            textProperties = {\n                text: text,\n                fontFamily: this.textOptions.fontFamily,\n                fontSize: fontSize\n            };\n\n            if (measureWidth) {\n                width = TextMeasurementService.measureSvgTextWidth(textProperties);\n            }\n\n            if (measureHeight) {\n                height = TextMeasurementService.estimateSvgTextHeight(textProperties);\n            }\n\n            return {\n                text: text,\n                width: width,\n                height: height,\n                textProperties: textProperties\n            };\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            let enumeration = new ObjectEnumerationBuilder(),\n                settings: TornadoChartSettings;\n\n            if (!this.tornadoChartDataView ||\n                !this.tornadoChartDataView.settings) {\n                return [];\n            }\n\n            settings = this.tornadoChartDataView.settings;\n\n            switch (options.objectName) {\n                case \"dataPoint\": {\n                    this.enumerateDataPoint(enumeration);\n                    break;\n                }\n                case \"categoryAxis\": {\n                    this.enumerateCategoryAxis(enumeration);\n                    break;\n                }\n                case \"labels\": {\n                    let labelSettings = settings.labelSettings;\n                    let labels: VisualObjectInstance = {\n                        objectName: \"labels\",\n                        displayName: \"Labels\",\n                        selector: null,\n                        properties: {\n                            show: labelSettings.show,\n                            fontSize: labelSettings.fontSize,\n                            labelPrecision: labelSettings.precision,\n                            labelDisplayUnits: labelSettings.displayUnits,\n                            insideFill: labelSettings.labelColor,\n                            outsideFill: settings.labelOutsideFillColor\n                        }\n                    };\n\n                    enumeration.pushInstance(labels);\n                    break;\n                }\n                case \"legend\": {\n                    if (!this.hasDynamicSeries)\n                        return;\n\n                    let showTitle: boolean = true,\n                        titleText: string = \"\",\n                        legend: VisualObjectInstance;\n\n                    showTitle = DataViewObject.getValue<boolean>(\n                        this.legendObjectProperties,\n                        legendProps.showTitle,\n                        showTitle);\n\n                    titleText = DataViewObject.getValue<string>(\n                        this.legendObjectProperties,\n                        legendProps.titleText,\n                        titleText);\n\n                    legend = {\n                        objectName: \"legend\",\n                        displayName: \"Legend\",\n                        selector: null,\n                        properties: {\n                            show: settings.showLegend,\n                            position: LegendPosition[this.legend.getOrientation()],\n                            showTitle: showTitle,\n                            titleText: titleText,\n                            fontSize: settings.legendFontSize,\n                            labelColor: settings.legendColor,\n                        }\n                    };\n\n                    enumeration.pushInstance(legend);\n                    break;\n                }\n                case \"categories\": {\n                    let categories: VisualObjectInstance = {\n                        objectName: \"categories\",\n                        displayName: \"Categories\",\n                        selector: null,\n                        properties: {\n                            show: settings.showCategories,\n                            fill: settings.categoriesFillColor\n                        }\n                    };\n\n                    enumeration.pushInstance(categories);\n                    break;\n                }\n            }\n\n            return enumeration.complete();\n        }\n\n        private enumerateDataPoint(enumeration: ObjectEnumerationBuilder): void {\n            if (!this.tornadoChartDataView ||\n                !this.tornadoChartDataView.series) {\n                return;\n            }\n\n            let series: TornadoChartSeries[] = this.tornadoChartDataView.series;\n\n            for (let currentSeries of series) {\n                enumeration.pushInstance({\n                    objectName: \"dataPoint\",\n                    displayName: currentSeries.name,\n                    selector: ColorHelper.normalizeSelector(currentSeries.selectionId.getSelector(), false),\n                    properties: {\n                        fill: { solid: { color: currentSeries.fill } }\n                    }\n                });\n            }\n        }\n\n        private enumerateCategoryAxis(enumeration: ObjectEnumerationBuilder): void {\n            if (!this.tornadoChartDataView || !this.tornadoChartDataView.series)\n                return;\n\n            let series: TornadoChartSeries[] = this.tornadoChartDataView.series;\n\n            for (let currentSeries of series) {\n                enumeration.pushInstance({\n                    objectName: \"categoryAxis\",\n                    displayName: currentSeries.name,\n                    selector: currentSeries.selectionId ? currentSeries.selectionId.getSelector() : null,\n                    properties: {\n                        end: currentSeries.categoryAxisEnd,\n                    }\n                });\n            }\n        }\n\n        public destroy(): void {\n            this.root = null;\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import createClassAndSelector = jsCommon.CssConstants.createClassAndSelector;\n    import NewDataLabelUtils = powerbi.visuals.NewDataLabelUtils;\n    import ISize = shapes.ISize;\n\n    export const enum MekkoChartType {\n        HundredPercentStackedColumn,\n    }\n\n    export interface MekkoColumnChartDrawInfo /*extends ColumnChartDrawInfo*/ {\n        shapesSelection: D3.Selection;\n        viewport: IViewport;\n        axisOptions: MekkoColumnAxisOptions;\n\n        labelDataPoints: MekkoLabelDataPoint[];\n    }\n\n    export interface MekkoLabelDataPointsGroup/* extends LabelDataPointsGroup */ {\n        labelDataPoints: MekkoLabelDataPoint[];\n        maxNumberOfLabels: number;\n    }\n\n    export interface MekkoLabelParentRect {\n        /** The rectangle this data label belongs to */\n        rect: IRect;\n        /** The orientation of the parent rectangle */\n        orientation: NewRectOrientation;\n        /** Valid positions to place the label ordered by preference */\n        validPositions: RectLabelPosition[];\n    }\n\n    export interface MekkoLabelDataPoint/* extends LabelDataPoint*/ {\n        isParentRect?: boolean;\n        /** Text to be displayed in the label */\n        text: string;\n        /** The measured size of the text */\n        textSize: ISize;\n        /** Is data label preferred? Preferred labels will be rendered first */\n        isPreferred: boolean;\n        /** Color to use for the data label if drawn inside */\n        insideFill: string;\n        /** Color to use for the data label if drawn outside */\n        outsideFill: string;\n        /** Whether or not the data label has been rendered */\n        hasBeenRendered?: boolean;\n        /** Whether the parent type is a rectangle, point or polygon */\n        parentType: LabelDataPointParentType;\n        /** The parent geometry for the data label */\n        parentShape: MekkoLabelParentRect;//LabelParentRect | LabelParentPoint | LabelParentPolygon;\n        /** The identity of the data point associated with the data label */\n        identity: powerbi.visuals.SelectionId;\n        /** The font size of the data point associated with the data label */\n        fontSize?: number;\n        /** Second row of text to be displayed in the label, for additional information */\n        secondRowText?: string;\n        /** The calculated weight of the data point associated with the data label */\n        weight?: number;\n    }\n\n    export interface MekkoVisualRenderResult {\n        dataPoints: SelectableDataPoint[];\n        behaviorOptions: any;\n        labelDataPoints: MekkoLabelDataPoint[];\n        labelsAreNumeric: boolean;\n        labelDataPointGroups?: MekkoLabelDataPointsGroup[];\n    }\n\n    export interface MekkoCalculateScaleAndDomainOptions extends CalculateScaleAndDomainOptions {\n    }\n\n    export interface MekkoConstructorOptions {\n        chartType: MekkoChartType;\n        isScrollable?: boolean;\n        animator?: IGenericAnimator;\n        cartesianSmallViewPortProperties?: CartesianSmallViewPortProperties;\n        behavior?: IInteractiveBehavior;\n    }\n\n    export interface MekkoColumnChartData extends ColumnChartData {\n        borderSettings: MekkoBorderSettings;\n        categoriesWidth: number[];\n    }\n\n    export interface MekkoBorderSettings {\n        show: boolean;\n        color: any;\n        width: number;\n        maxWidth?: number;\n    }\n\n    export interface MekkoLabelSettings {\n       maxPrecision: number;\n       minPrecision: number;\n    }\n\n    export interface MekkoColumnAxisOptions extends ColumnAxisOptions {\n    }\n\n    export interface IMekkoColumnLayout extends IColumnLayout {\n        shapeBorder?: {\n            width: (d: ColumnChartDataPoint) => number;\n            x: (d: ColumnChartDataPoint) => number;\n            y: (d: ColumnChartDataPoint) => number;\n            height: (d: ColumnChartDataPoint) => number;\n        };\n        shapeXAxis?: {\n            width: (d: ColumnChartDataPoint) => number;\n            x: (d: ColumnChartDataPoint) => number;\n            y: (d: ColumnChartDataPoint) => number;\n            height: (d: ColumnChartDataPoint) => number;\n        };\n    }\n\n    export interface MekkoAxisRenderingOptions {\n        axisLabels: ChartAxesLabels;\n        legendMargin: number;\n        viewport: IViewport;\n        margin: IMargin;\n        hideXAxisTitle: boolean;\n        hideYAxisTitle: boolean;\n        hideY2AxisTitle?: boolean;\n        xLabelColor?: Fill;\n        yLabelColor?: Fill;\n        y2LabelColor?: Fill;\n    }\n\n    export interface MekkoDataPoints {\n        categoriesWidth: number[];\n        series: ColumnChartSeries[];\n        hasHighlights: boolean;\n        hasDynamicSeries: boolean;\n    }\n\n    export interface MekkoLegendDataPoint extends LegendDataPoint {\n        fontSize?: number;\n    }\n\n    export interface MekkoCreateAxisOptions extends CreateAxisOptions {\n        formatString: string;\n        is100Pct?: boolean;\n        shouldClamp?: boolean;\n        formatStringProp?: DataViewObjectPropertyIdentifier;\n    }\n\n    export interface MekkoColumnChartContext extends ColumnChartContext {\n        height: number;\n        width: number;\n        duration: number;\n        margin: IMargin;\n        mainGraphicsContext: D3.Selection;\n        labelGraphicsContext: D3.Selection;\n        layout: CategoryLayout;\n        animator: IColumnChartAnimator;\n        onDragStart?: (datum: ColumnChartDataPoint) => void;\n        interactivityService: IInteractivityService;\n        viewportHeight: number;\n        viewportWidth: number;\n        is100Pct: boolean;\n        hostService: IVisualHostServices;\n        isComboChart: boolean;\n    }\n\n    export class MekkoDataWrapper {\n        private data: CartesianData;\n        private isScalar: boolean;\n\n        public constructor(columnChartData: CartesianData, isScalar: boolean) {\n            this.data = columnChartData;\n            this.isScalar = isScalar;\n        }\n\n        public lookupXValue(index: number, type: ValueType): any {\n            debug.assertValue(this.data, 'this.data');\n\n            var isDateTime: boolean = AxisHelper.isDateTime(type);\n            if (isDateTime && this.isScalar) {\n                return new Date(index);\n            }\n\n            var data = this.data;\n            if (type.text) {\n                debug.assert(index < data.categories.length, 'category index out of range');\n                return data.categories[index];\n            }\n            else {\n                var firstSeries = data.series[0];\n                if (firstSeries) {\n                    var seriesValues = firstSeries.data;\n                    if (seriesValues) {\n                        if (this.data.hasHighlights) {\n                            index = index * 2;\n                        }\n                        var dataPoint = seriesValues[index];\n                        if (dataPoint) {\n                            if (isDateTime) {\n                                return new Date(dataPoint.categoryValue);\n                            }\n                            return dataPoint.categoryValue;\n                        }\n                    }\n                }\n            }\n\n            return index;\n        }\n    }\n\n    export class MekkoColumnChartStrategy implements IMekkoColumnChartStrategy {\n        private static classes = {\n            item: <ClassAndSelector>createClassAndSelector('column'),\n            highlightItem: <ClassAndSelector>createClassAndSelector('highlightColumn')\n        };\n\n        private layout: IMekkoColumnLayout;\n        private data: MekkoColumnChartData;\n        private graphicsContext: MekkoColumnChartContext;\n        private width: number;\n        private height: number;\n        private margin: IMargin;\n        private xProps: IAxisProperties;\n        private yProps: IAxisProperties;\n        private categoryLayout: CategoryLayout;\n        private columnsCenters: number[];\n        private columnSelectionLineHandle: D3.Selection;\n        private animator: IColumnChartAnimator;\n        private interactivityService: IInteractivityService;\n        private viewportHeight: number;\n        private viewportWidth: number;\n\n        private static validLabelPositions = [1];\n\n        public setupVisualProps(columnChartProps: MekkoColumnChartContext): void {\n            this.graphicsContext = columnChartProps;\n            this.margin = columnChartProps.margin;\n            this.width = this.graphicsContext.width;\n            this.height = this.graphicsContext.height;\n            this.categoryLayout = columnChartProps.layout;\n            this.animator = columnChartProps.animator;\n            this.interactivityService = columnChartProps.interactivityService;\n            this.viewportHeight = columnChartProps.viewportHeight;\n            this.viewportWidth = columnChartProps.viewportWidth;\n        }\n\n        public setData(data: MekkoColumnChartData) {\n            this.data = data;\n        }\n\n        private static createFormatter(\n            scaleDomain: any[],\n            dataDomain: any[],\n            dataType,\n            isScalar: boolean,\n            formatString: string,\n            bestTickCount: number,\n            tickValues: any[],\n            getValueFn: any,\n            useTickIntervalForDisplayUnits: boolean = false): IValueFormatter {\n\n            var formatter: IValueFormatter;\n            if (dataType.dateTime) {\n                if (isScalar) {\n                    var value = new Date(scaleDomain[0]);\n                    var value2 = new Date(scaleDomain[1]);\n                    // datetime with only one value needs to pass the same value\n                    // (from the original dataDomain value, not the adjusted scaleDomain)\n                    // so formatting works correctly.\n                    if (bestTickCount === 1)\n                        value = value2 = new Date(dataDomain[0]);\n                    formatter = valueFormatter.create({ format: formatString, value: value, value2: value2, tickCount: bestTickCount });\n                }\n                else {\n                    if (getValueFn == null) {\n                        debug.assertFail('getValueFn must be supplied for ordinal datetime tickValues');\n                    }\n                    var minDate: Date = getValueFn(0, dataType);\n                    var maxDate: Date = getValueFn(scaleDomain.length - 1, dataType);\n                    formatter = valueFormatter.create({ format: formatString, value: minDate, value2: maxDate, tickCount: bestTickCount });\n                }\n            }\n            else {\n                if (getValueFn == null && !isScalar) {\n                    debug.assertFail('getValueFn must be supplied for ordinal tickValues');\n                }\n                if (useTickIntervalForDisplayUnits && isScalar && tickValues.length > 1) {\n                    var domainMin = tickValues[1] - tickValues[0];\n                    var domainMax = 0; //force tickInterval to be used with display units\n                    formatter = valueFormatter.create({ format: formatString, value: domainMin, value2: domainMax, allowFormatBeautification: true });\n                }\n                else {\n                    // do not use display units, just the basic value formatter\n                    // datetime is handled above, so we are ordinal and either boolean, numeric, or text.\n                    formatter = valueFormatter.createDefaultFormatter(formatString, true);\n                }\n            }\n\n            return formatter;\n        }\n\n        /**\n         * Format the linear tick labels or the category labels.\n         */\n        private static formatAxisTickValues(\n            axis: D3.Svg.Axis,\n            tickValues: any[],\n            formatter: IValueFormatter,\n            dataType: ValueType,\n            isScalar: boolean,\n            getValueFn?: (index: number, type: ValueType) => any) {\n\n            var formattedTickValues = [];\n            if (formatter) {\n                // getValueFn takes an ordinal axis index or builds DateTime from milliseconds, do not pass a numeric scalar value.\n                if (getValueFn && !(dataType.numeric && isScalar)) {\n                    axis.tickFormat(d => formatter.format(getValueFn(d, dataType)));\n                    formattedTickValues = tickValues.map(d => formatter.format(getValueFn(d, dataType)));\n                }\n                else {\n                    axis.tickFormat(d => formatter.format(d));\n                    formattedTickValues = tickValues.map((d) => formatter.format(d));\n                }\n            }\n            else {\n                formattedTickValues = tickValues.map((d) => getValueFn(d, dataType));\n            }\n\n            return formattedTickValues;\n        }\n\n        /**\n         * Create a D3 axis including scale. Can be vertical or horizontal, and either datetime, numeric, or text.\n         * @param options The properties used to create the axis.\n         */\n        private createAxis(options): IAxisProperties {\n            var pixelSpan = options.pixelSpan,\n                dataDomain = options.dataDomain,\n                metaDataColumn = options.metaDataColumn,\n                formatStringProp = options.formatStringProp,\n                outerPadding = options.outerPadding || 0,\n                isCategoryAxis = !!options.isCategoryAxis,\n                isScalar = !!options.isScalar,\n                isVertical = !!options.isVertical,\n                useTickIntervalForDisplayUnits = !!options.useTickIntervalForDisplayUnits, // DEPRECATE: same meaning as isScalar?\n                getValueFn = options.getValueFn,\n                categoryThickness = options.categoryThickness;\n\n            var formatString = valueFormatter.getFormatString(metaDataColumn, formatStringProp);\n            var dataType: ValueType = AxisHelper.getCategoryValueType(metaDataColumn, isScalar);\n            var isLogScaleAllowed = AxisHelper.isLogScalePossible(dataDomain, dataType);\n\n            var scale = d3.scale.linear();\n            var scaleDomain = [0, 1];\n            var bestTickCount = dataDomain.length || 1;\n\n            var borderWidth: number = MekkoColumnChart.getBorderWidth(options.borderSettings);\n            var chartWidth = pixelSpan - borderWidth * (bestTickCount - 1);\n\n            if (chartWidth < MekkoChart.MinOrdinalRectThickness) {\n                chartWidth = MekkoChart.MinOrdinalRectThickness;\n            }\n\n            scale.domain(scaleDomain)\n                .range([0, chartWidth]);\n            var tickValues = dataDomain;\n\n            var formatter = MekkoColumnChartStrategy.createFormatter(\n                scaleDomain,\n                dataDomain,\n                dataType,\n                isScalar,\n                formatString,\n                bestTickCount,\n                tickValues,\n                getValueFn,\n                useTickIntervalForDisplayUnits);\n\n            // sets default orientation only, cartesianChart will fix y2 for comboChart\n            // tickSize(pixelSpan) is used to create gridLines\n            var axis = d3.svg.axis()\n                .scale(scale)\n                .tickSize(6, 0)\n                .orient(isVertical ? 'left' : 'bottom')\n                .ticks(bestTickCount)\n                .tickValues(dataDomain);\n\n            var formattedTickValues = [];\n            if (metaDataColumn) {\n                formattedTickValues = MekkoColumnChartStrategy.formatAxisTickValues(axis, tickValues, formatter, dataType, isScalar, getValueFn);\n            }\n\n            var xLabelMaxWidth;\n            // Use category layout of labels if specified, otherwise use scalar layout of labels\n            if (!isScalar && categoryThickness) {\n                xLabelMaxWidth = Math.max(1, categoryThickness - CartesianChart.TickLabelPadding * 2);\n            }\n            else {\n                // When there are 0 or 1 ticks, then xLabelMaxWidth = pixelSpan\n                // When there is > 1 ticks then we need to +1 so that their widths don't overlap\n                // Example: 2 ticks are drawn at 33.33% and 66.66%, their width needs to be 33.33% so they don't overlap.\n                var labelAreaCount = tickValues.length > 1 ? tickValues.length + 1 : tickValues.length;\n                xLabelMaxWidth = labelAreaCount > 1 ? pixelSpan / labelAreaCount : pixelSpan;\n                xLabelMaxWidth = Math.max(1, xLabelMaxWidth - CartesianChart.TickLabelPadding * 2);\n            }\n\n            return {\n                scale: scale,\n                axis: axis,\n                formatter: formatter,\n                values: formattedTickValues,\n                axisType: dataType,\n                axisLabel: null,\n                isCategoryAxis: isCategoryAxis,\n                xLabelMaxWidth: xLabelMaxWidth,\n                categoryThickness: categoryThickness,\n                outerPadding: outerPadding,\n                usingDefaultDomain: false,//scaleResult.usingDefaultDomain,\n                isLogScaleAllowed: isLogScaleAllowed\n            };\n        }\n\n        private getCategoryAxis(\n            data: MekkoColumnChartData,\n            size: number,\n            layout: CategoryLayout,\n            isVertical: boolean,\n            forcedXMin?: DataViewPropertyValue,\n            forcedXMax?: DataViewPropertyValue,\n            axisScaleType?: string): IAxisProperties {\n\n            var categoryThickness = layout.categoryThickness;\n            var isScalar: boolean  = layout.isScalar;\n            var outerPaddingRatio = layout.outerPaddingRatio;\n            var dw = new MekkoDataWrapper(data, isScalar);\n            var domain: number[] = [];\n\n            if (data.series &&\n                (data.series.length > 0) &&\n                data.series[0].data &&\n                (data.series[0].data.length > 0)\n            ) {\n                var domainDoubles = data.series[0].data.map((item: ColumnChartDataPoint) => {\n                    return item.originalPosition + (item.value / 2);\n                });\n\n                domain = domainDoubles.filter(function(item, pos) {\n                    return domainDoubles.indexOf(item) === pos;\n                });\n            }\n\n            var axisProperties: IAxisProperties = this.createAxis({\n                pixelSpan: size,\n                dataDomain: domain,\n                metaDataColumn: data.categoryMetadata,\n                formatStringProp: columnChartProps.general.formatString,\n                outerPadding: categoryThickness * outerPaddingRatio,\n                isCategoryAxis: true,\n                isScalar: isScalar,\n                isVertical: isVertical,\n                categoryThickness: categoryThickness,\n                useTickIntervalForDisplayUnits: true,\n                getValueFn: (index, type) => {\n                    var domainIndex = domain.indexOf(index);\n                    var value = dw.lookupXValue(domainIndex, type);\n                    return value;\n                },\n                scaleType: axisScaleType,\n                borderSettings: data.borderSettings\n            });\n            // intentionally updating the input layout by ref\n            layout.categoryThickness = axisProperties.categoryThickness;\n            return axisProperties;\n        }\n\n        public setXScale(is100Pct: boolean, forcedTickCount?: number, forcedXDomain?: any[], axisScaleType?: string): IAxisProperties {\n            var width = this.width;\n            var forcedXMin, forcedXMax;\n\n            if (forcedXDomain && forcedXDomain.length === 2) {\n                forcedXMin = forcedXDomain[0];\n                forcedXMax = forcedXDomain[1];\n            }\n\n            var props = this.xProps = this.getCategoryAxis(\n                this.data,\n                width,\n                this.categoryLayout,\n                false,\n                forcedXMin,\n                forcedXMax,\n                axisScaleType);\n\n            return props;\n        }\n\n        public setYScale(is100Pct: boolean, forcedTickCount?: number, forcedYDomain?: any[], axisScaleType?: string): IAxisProperties {\n            var height = this.viewportHeight;\n            var valueDomain = StackedUtil.calcValueDomain(this.data.series, is100Pct);\n            var valueDomainArr = [valueDomain.min, valueDomain.max];\n            var combinedDomain = AxisHelper.combineDomain(forcedYDomain, valueDomainArr);\n            var shouldClamp = AxisHelper.scaleShouldClamp(combinedDomain, valueDomainArr);\n            var metadataColumn = this.data.valuesMetadata[0];\n            var formatString = is100Pct ?\n                this.graphicsContext.hostService.getLocalizedString('Percentage')\n                : valueFormatter.getFormatString(metadataColumn, columnChartProps.general.formatString);\n\n            var mekkoMekkoCreateAxisOptions: MekkoCreateAxisOptions = {\n                pixelSpan: height,\n                dataDomain: combinedDomain,\n                metaDataColumn: metadataColumn,\n                formatString: formatString,\n                outerPadding: 0,\n                isScalar: true,\n                isVertical: true,\n                forcedTickCount: forcedTickCount,\n                useTickIntervalForDisplayUnits: true,\n                isCategoryAxis: false,\n                scaleType: axisScaleType,\n                axisDisplayUnits: 0,\n                axisPrecision: 0,\n                is100Pct: is100Pct,\n                shouldClamp: shouldClamp,\n                formatStringProp: undefined,\n            };\n\n            this.yProps = AxisHelper.createAxis(mekkoMekkoCreateAxisOptions);\n            return this.yProps;\n        }\n\n        public drawColumns(useAnimation: boolean): MekkoColumnChartDrawInfo {\n            var data = this.data;\n            debug.assertValue(data, 'data should not be null or undefined');\n            this.columnsCenters = null; // invalidate the columnsCenters so that will be calculated again\n\n            var axisOptions: MekkoColumnAxisOptions = {\n                columnWidth: 0,\n                xScale: this.xProps.scale,\n                yScale: this.yProps.scale,\n                isScalar: this.categoryLayout.isScalar,\n                margin: this.margin,\n            };\n            var stackedColumnLayout = this.layout = MekkoColumnChartStrategy.getLayout(data, axisOptions);\n            //var dataLabelSettings = data.labelSettings;\n            var labelDataPoints: MekkoLabelDataPoint[] = this.createMekkoLabelDataPoints();\n            var result: ColumnChartAnimationResult;\n            var shapes: D3.UpdateSelection;\n            var series = ColumnUtil.drawSeries(data, this.graphicsContext.mainGraphicsContext, axisOptions);\n            if (this.animator && useAnimation) {\n                result = this.animator.animate({\n                    viewModel: data,\n                    series: series,\n                    layout: stackedColumnLayout,\n                    itemCS: MekkoColumnChartStrategy.classes.item,\n                    interactivityService: this.interactivityService,\n                    mainGraphicsContext: this.graphicsContext.mainGraphicsContext,\n                    viewPort: { height: this.height, width: this.width },\n                });\n                shapes = result.shapes;\n            }\n            if (!this.animator || !useAnimation || result.failed) {\n                shapes = MekkoColumnChartStrategy.drawDefaultShapes(data,\n                    series,\n                    stackedColumnLayout,\n                    MekkoColumnChartStrategy.classes.item,\n                    !this.animator,\n                    this.interactivityService && this.interactivityService.hasSelection());\n            }\n\n            ColumnUtil.applyInteractivity(shapes, this.graphicsContext.onDragStart);\n\n            return {\n                shapesSelection: shapes,\n                viewport: { height: this.height, width: this.width },\n                axisOptions,\n                labelDataPoints: labelDataPoints,\n            };\n        }\n\n        private static drawDefaultShapes(data: MekkoColumnChartData,\n            series: D3.UpdateSelection,\n            layout: IMekkoColumnLayout,\n            itemCS: ClassAndSelector,\n            filterZeros: boolean,\n            hasSelection: boolean): D3.UpdateSelection {\n            // We filter out invisible (0, null, etc.) values from the dataset\n            // based on whether animations are enabled or not, Dashboard and\n            // Exploration mode, respectively.\n\n            var rectName: string = 'rect';\n            filterZeros = false;\n\n            var dataSelector: (d: ColumnChartSeries) => any[];\n            if (filterZeros) {\n                dataSelector = (d: ColumnChartSeries) => {\n                    var filteredData = _.filter(d.data, (datapoint: ColumnChartDataPoint) => !!datapoint.value);\n                    return filteredData;\n                };\n            }\n            else {\n                dataSelector = (d: ColumnChartSeries) => d.data;\n            }\n\n            var shapeSelection = series.selectAll(itemCS.selector);\n            var shapes = shapeSelection.data(dataSelector, (d: ColumnChartDataPoint) => d.key);\n\n            shapes.enter()\n                .append(rectName)\n                .attr(\"class\", (d: ColumnChartDataPoint) => itemCS.class.concat(d.highlight ? \" highlight\" : \"\"));\n\n            shapes\n                .style(\"fill\", (d: ColumnChartDataPoint) => d.color)\n                .style(\"fill-opacity\", (d: ColumnChartDataPoint) => ColumnUtil.getFillOpacity(d.selected, d.highlight, hasSelection, data.hasHighlights))\n                .attr(layout.shapeLayout);\n\n            shapes\n                .exit()\n                .remove();\n\n            var borderSelection = series.selectAll(MekkoColumnChart.BorderClass.selector);\n            var borders = borderSelection.data(dataSelector, (d: ColumnChartDataPoint) => d.key);\n\n            var borderColor = MekkoColumnChart.getBorderColor(data.borderSettings);\n\n            borders.enter()\n                .append(rectName)\n                .classed(MekkoColumnChart.BorderClass.class, true);\n\n            borders\n                .style(\"fill\", (d: ColumnChartDataPoint) => borderColor)\n                .style(\"fill-opacity\", (d: ColumnChartDataPoint) => {\n                    return data.hasHighlights ? ColumnUtil.DimmedOpacity : ColumnUtil.DefaultOpacity;\n                })\n                .attr(layout.shapeBorder);\n\n            borders\n                .exit()\n                .remove();\n\n            return shapes;\n        }\n\n        public selectColumn(selectedColumnIndex: number, lastSelectedColumnIndex: number): void {\n            ColumnUtil.setChosenColumnOpacity(this.graphicsContext.mainGraphicsContext, MekkoColumnChartStrategy.classes.item.selector, selectedColumnIndex, lastSelectedColumnIndex);\n            this.moveHandle(selectedColumnIndex);\n        }\n\n        public getClosestColumnIndex(x: number, y: number): number {\n            return ColumnUtil.getClosestColumnIndex(x, this.getColumnsCenters());\n        }\n\n        /**\n         * Get the chart's columns centers (x value).\n         */\n        private getColumnsCenters(): number[] {\n            if (!this.columnsCenters) { // lazy creation\n                var categoryWidth: number = this.categoryLayout.categoryThickness * (1 - CartesianChart.InnerPaddingRatio);\n                // use the axis scale and first series data to get category centers\n                if (this.data.series.length > 0) {\n                    var xScaleOffset = 0;\n                    if (!this.categoryLayout.isScalar) {\n                        xScaleOffset = categoryWidth / 2;\n                    }\n                    var firstSeries = this.data.series[0];\n                    if (firstSeries &&\n                        firstSeries.data) {\n                        this.columnsCenters = firstSeries.data.map(d => this.xProps.scale(this.categoryLayout.isScalar ? d.categoryValue : d.categoryIndex) + xScaleOffset);\n                    }\n                }\n            }\n            return this.columnsCenters;\n        }\n\n        private moveHandle(selectedColumnIndex: number) {\n            var columnCenters = this.getColumnsCenters();\n            var x = columnCenters[selectedColumnIndex];\n\n            if (!this.columnSelectionLineHandle) {\n                var handle = this.columnSelectionLineHandle = this.graphicsContext.mainGraphicsContext.append('g');\n                handle.append('line')\n                    .classed('interactive-hover-line', true)\n                    .attr({\n                        x1: x,\n                        x2: x,\n                        y1: 0,\n                        y2: this.height,\n                    });\n\n                handle.append('circle')\n                    .attr({\n                        cx: x,\n                        cy: this.height,\n                        r: '6px',\n                    })\n                    .classed('drag-handle', true);\n            }\n            else {\n                var handle = this.columnSelectionLineHandle;\n                handle.select('line').attr({ x1: x, x2: x });\n                handle.select('circle').attr({ cx: x });\n            }\n        }\n\n        public static getLayout(data: MekkoColumnChartData, axisOptions: MekkoColumnAxisOptions): IMekkoColumnLayout {\n            var xScale = axisOptions.xScale;\n            var yScale = axisOptions.yScale;\n            var scaledY0 = yScale(0);\n            var scaledX0 = xScale(0);\n\n            var borderWidth: number = MekkoColumnChart.getBorderWidth(data.borderSettings);\n\n            var columnWidthScale = (d: ColumnChartDataPoint) => {\n                var value: number = AxisHelper.diffScaled(xScale, d.value, 0);\n                return value;\n            };\n\n            var columnStart = (d: ColumnChartDataPoint) => {\n                var value: number = scaledX0 +\n                                    AxisHelper.diffScaled(xScale, d.originalPosition, 0) +\n                                    borderWidth * d.categoryIndex;\n                return value;\n            };\n\n            var borderStart = (d: ColumnChartDataPoint) => {\n                var value: number = scaledX0 +\n                            AxisHelper.diffScaled(xScale, d.originalPosition, 0) +\n                            AxisHelper.diffScaled(xScale, d.value, 0) +\n                            borderWidth * d.categoryIndex;\n\n                return value;\n            };\n\n            return {\n                shapeLayout: {\n                    width: columnWidthScale,\n                    x: columnStart,\n                    y: (d: ColumnChartDataPoint) => scaledY0 + AxisHelper.diffScaled(yScale, d.position, 0),\n                    height: (d: ColumnChartDataPoint) => StackedUtil.getSize(yScale, d.valueAbsolute)\n                },\n                shapeBorder: {\n                    width: (d: ColumnChartDataPoint) => borderWidth,\n                    x: borderStart,\n                    y: (d: ColumnChartDataPoint) => scaledY0 + AxisHelper.diffScaled(yScale, d.position, 0),\n                    height: (d: ColumnChartDataPoint) => StackedUtil.getSize(yScale, d.valueAbsolute)\n                },\n                shapeLayoutWithoutHighlights: {\n                    width: columnWidthScale,\n                    x: columnStart,\n                    y: (d: ColumnChartDataPoint) => scaledY0 + AxisHelper.diffScaled(yScale, d.position, 0),\n                    height: (d: ColumnChartDataPoint) => StackedUtil.getSize(yScale, d.originalValueAbsolute)\n                },\n                zeroShapeLayout: {\n                    width: columnWidthScale,\n                    x: columnStart,\n                    y: (d: ColumnChartDataPoint) => scaledY0 + AxisHelper.diffScaled(yScale, d.position, 0) + StackedUtil.getSize(yScale, d.valueAbsolute),\n                    height: (d: ColumnChartDataPoint) => 0\n                },\n                shapeXAxis: {\n                    width: columnWidthScale,\n                    x: columnStart,\n                    y: (d: ColumnChartDataPoint) => scaledY0 + AxisHelper.diffScaled(yScale, d.position, 0),\n                    height: (d: ColumnChartDataPoint) => StackedUtil.getSize(yScale, d.valueAbsolute)\n                },\n            };\n        }\n\n        private createMekkoLabelDataPoints(): MekkoLabelDataPoint[] {\n            var labelDataPoints: MekkoLabelDataPoint[] = [];\n            var data = this.data;\n            var series = data.series;\n            var formattersCache = NewDataLabelUtils.createColumnFormatterCacheManager();\n            var shapeLayout = this.layout.shapeLayout;\n\n            for (var i: number = 0, ilen = series.length; i < ilen; i++) {\n                var currentSeries = series[i];\n                var labelSettings = currentSeries.labelSettings ? currentSeries.labelSettings : data.labelSettings;\n\n                if (!labelSettings.show) {\n                    continue;\n                }\n\n                if (!currentSeries.data) {\n                    continue;\n                }\n\n                var axisFormatter: number = NewDataLabelUtils.getDisplayUnitValueFromAxisFormatter(this.yProps.formatter, labelSettings);\n\n                for (var j: number = 0; j < currentSeries.data.length; j++) {\n                    var dataPoint: ColumnChartDataPoint = currentSeries.data[j];\n                    if ((data.hasHighlights && !dataPoint.highlight) || dataPoint.value == null) {\n                        continue;\n                    }\n\n                    // Calculate parent rectangle\n                    var parentRect: IRect = {\n                        left: shapeLayout.x(dataPoint),\n                        top: shapeLayout.y(dataPoint),\n                        width: shapeLayout.width(dataPoint),\n                        height: shapeLayout.height(dataPoint),\n                    };\n\n                    // Calculate label text\n                    var formatString = null;\n                    var value: number = dataPoint.valueOriginal;\n\n                    if (!labelSettings.displayUnits) {\n                        formatString = NewDataLabelUtils.hundredPercentFormat;\n                        value = dataPoint.valueAbsolute;\n                    }\n\n                    var formatter = formattersCache.getOrCreate(formatString, labelSettings, axisFormatter);\n                    var text = NewDataLabelUtils.getLabelFormattedText(formatter.format(value));\n\n                    // Calculate text size\n                    var properties: TextProperties = {\n                        text: text,\n                        fontFamily: NewDataLabelUtils.LabelTextProperties.fontFamily,\n                        fontSize: NewDataLabelUtils.LabelTextProperties.fontSize,\n                        fontWeight: NewDataLabelUtils.LabelTextProperties.fontWeight,\n                    };\n                    var textWidth = TextMeasurementService.measureSvgTextWidth(properties);\n                    var textHeight = TextMeasurementService.estimateSvgTextHeight(properties);\n\n                    labelDataPoints.push({\n                        isPreferred: true,\n                        text: text,\n                        textSize: {\n                            width: textWidth,\n                            height: textHeight,\n                        },\n                        outsideFill: labelSettings.labelColor ? labelSettings.labelColor : NewDataLabelUtils.defaultLabelColor,\n                        insideFill: labelSettings.labelColor ? labelSettings.labelColor : NewDataLabelUtils.defaultInsideLabelColor,\n                        isParentRect: true,\n                        parentShape: {\n                            rect: parentRect,\n                            orientation: 1,\n                            validPositions: MekkoColumnChartStrategy.validLabelPositions,\n                        },\n                        identity: dataPoint.identity,\n                        parentType: 1,//LabelDataPointParentType.Rectangle,\n                    });\n                }\n            }\n\n            return labelDataPoints;\n        }\n    }\n\n    export interface MekkoChartSettings {\n        columnBorder: MekkoBorderSettings;\n        labelSettings: MekkoLabelSettings;\n    }\n\n    /**\n     * Renders a data series as a cartestian visual.\n     */\n    export class MekkoChart implements IVisual {\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: 'Category',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Category',\n                }, {\n                    name: 'Series',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Series',\n                }, {\n                    name: 'Y',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Y Axis',\n                }, {\n                    name: 'Width',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Axis width',\n                }\n            ],\n            objects: {\n                columnBorder: {\n                    displayName: 'Column Border',\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: data.createDisplayNameGetter('Visual_LabelsFill'),\n                            description: data.createDisplayNameGetter('Visual_LabelsFillDescription'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        width: {\n                            displayName: 'Width',\n                            type: { numeric: true }\n                        },\n                    },\n                },\n                labels: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPointsLabels'),\n                    description: data.createDisplayNameGetter('Visual_DataPointsLabelsDescription'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        showSeries: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: data.createDisplayNameGetter('Visual_LabelsFill'),\n                            description: data.createDisplayNameGetter('Visual_LabelsFillDescription'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        labelDisplayUnits: {\n                            displayName: data.createDisplayNameGetter('Visual_DisplayUnits'),\n                            description: data.createDisplayNameGetter('Visual_DisplayUnitsDescription'),\n                            type: { formatting: { labelDisplayUnits: true } },\n                            suppressFormatPainterCopy: true\n                        },\n                        labelPrecision: {\n                            displayName: data.createDisplayNameGetter('Visual_Precision'),\n                            description: data.createDisplayNameGetter('Visual_PrecisionDescription'),\n                            placeHolderText: data.createDisplayNameGetter('Visual_Precision_Auto'),\n                            type: { numeric: true },\n                            suppressFormatPainterCopy: true\n                        },\n                        showAll: {\n                            displayName: data.createDisplayNameGetter('Visual_ShowAll'),\n                            type: { bool: true }\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } }\n                        },\n                    },\n                },\n                legend: {\n                    displayName: data.createDisplayNameGetter('Visual_Legend'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendPosition'),\n                            type: { formatting: { legendPosition: true } }\n                        },\n                        showTitle: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendShowTitle'),\n                            type: { bool: true }\n                        },\n                        titleText: {\n                            displayName: 'Title text',\n                            type: { text: true }\n                        },\n                        fontSize: {\n                            displayName: 'Text size',\n                            type: { formatting: { fontSize: true } }\n                        },\n                    }\n                },\n                categoryAxis: {\n                    displayName: data.createDisplayNameGetter('Visual_XAxis'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: data.createDisplayNameGetter('Visual_YAxis_Position'),\n                            type: { formatting: { yAxisPosition: true } }\n                        },\n                        axisScale: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Scale'),\n                            type: { formatting: { axisScale: true } }\n                        },\n                        /*start: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Start'),\n                            type: { numeric: true }\n                        },\n                        end: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_End'),\n                            type: { numeric: true }\n                        },*/\n                        axisType: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Type'),\n                            type: { formatting: { axisType: true } }\n                        },\n                        showAxisTitle: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Title'),\n                            type: { bool: true }\n                        },\n                        axisStyle: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Style'),\n                            type: { formatting: { axisStyle: true } }\n                        },\n                        labelColor: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_LabelColor'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } }\n                        },\n                    }\n                },\n                valueAxis: {\n                    displayName: data.createDisplayNameGetter('Visual_YAxis'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: data.createDisplayNameGetter('Visual_YAxis_Position'),\n                            type: { formatting: { yAxisPosition: true } }\n                        },\n                        axisScale: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Scale'),\n                            type: { formatting: { axisScale: true } }\n                        },\n                        /*start: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Start'),\n                            type: { numeric: true }\n                        },\n                        end: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_End'),\n                            type: { numeric: true }\n                        },*/\n                        intersection: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Intersection'),\n                            type: { numeric: true }\n                        },\n                        showAxisTitle: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Title'),\n                            type: { bool: true }\n                        },\n                        axisStyle: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Style'),\n                            type: { formatting: { axisStyle: true } }\n                        },\n                        labelColor: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_LabelColor'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } }\n                        },\n\n                    }\n                },\n                dataPoint: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPoint'),\n                    properties: {\n                        defaultColor: {\n                            displayName: data.createDisplayNameGetter('Visual_DefaultColor'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        showAllDataPoints: {\n                            displayName: data.createDisplayNameGetter('Visual_DataPoint_Show_All'),\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fillRule: {\n                            displayName: data.createDisplayNameGetter('Visual_Gradient'),\n                            type: { fillRule: {} },\n                            rule: {\n                                inputRole: 'Gradient',\n                                output: {\n                                    property: 'fill',\n                                    selector: ['Category'],\n                                },\n                            },\n                        }\n                    }\n                },\n\n            },\n            dataViewMappings: [{\n                conditions: [\n                    { 'Category': { min: 0, max: 1 }, 'Series': { min: 0, max: 1 }, 'Y': { min: 0, max: 1 }, 'Width': { min: 0, max: 1 } },\n                ],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        group: {\n                            by: 'Series',\n                            select: [{ for: { in: 'Y' } }, { for: { in: 'Width' } }],\n                            dataReductionAlgorithm: { top: {} }\n                        }\n                    },\n                    rowCount: { preferred: { min: 1, max: 1 }, supported: { min: 0 } }\n                },\n            }],\n            supportsHighlight: true,\n            sorting: {\n                default: {},\n            },\n            drilldown: {\n                roles: ['Category']\n            },\n        };\n\n        private static properties = {\n            general: {\n                formatString: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"general\",\n                    propertyName: \"formatString\"\n                }\n            },\n            columnBorder: {\n                show: <DataViewObjectPropertyIdentifier>{ objectName: 'columnBorder', propertyName: 'show', },\n                color: <DataViewObjectPropertyIdentifier>{ objectName: 'columnBorder', propertyName: 'color' },\n                width: <DataViewObjectPropertyIdentifier>{ objectName: 'columnBorder', propertyName: 'width' },\n            },\n        };\n\n        public static DefaultSettings: MekkoChartSettings = {\n            columnBorder: {\n                show: true,\n                color: '#fff',\n                width: 2,\n                maxWidth: 5,\n            },\n            labelSettings: {\n                maxPrecision: 4,\n                minPrecision: 0,\n            }\n        };\n\n        private static getTextProperties(fontSize: number = MekkoChart.FontSize): TextProperties {\n            return {\n                fontFamily: 'wf_segoe-ui_normal',\n                fontSize: jsCommon.PixelConverter.toString(fontSize),\n            };\n        }\n\n        public static MinOrdinalRectThickness = 20;\n        public static MinScalarRectThickness = 2;\n        public static OuterPaddingRatio = 0.4;\n        public static InnerPaddingRatio = 0.2;\n        public static TickLabelPadding = 2;\n\n        private static ClassName = 'cartesianChart';\n        private static AxisGraphicsContextClassName = 'axisGraphicsContext';\n        private static MaxMarginFactor = 0.25;\n        private static MinBottomMargin = 50;\n        private static LeftPadding = 10;\n        private static RightPadding = 10;\n        private static BottomPadding = 16;\n        private static YAxisLabelPadding = 20;\n        private static XAxisLabelPadding = 20;\n        private static TickPaddingY = 10;\n        private static TickPaddingRotatedX = 5;\n        private static FontSize = 11;\n\n        public static MaxNumberOfLabels = 100;\n\n        private static MinWidth: number = 100;\n        private static MinHeight: number = 100;\n\n        private axisGraphicsContext: D3.Selection;\n        private xAxisGraphicsContext: D3.Selection;\n        private y1AxisGraphicsContext: D3.Selection;\n        private y2AxisGraphicsContext: D3.Selection;\n        private element: JQuery;\n        private svg: D3.Selection;\n        private clearCatcher: D3.Selection;\n        private margin: IMargin;\n        private type: MekkoChartType;\n        private hostServices: IVisualHostServices;\n        private layers: IMekkoColumnChartVisual[];\n        private legend: ILegend;\n        private legendMargins: IViewport;\n        private layerLegendData: LegendData;\n        private hasSetData: boolean;\n        private visualInitOptions: VisualInitOptions;\n\n        private borderObjectProperties: DataViewObject;\n        private legendObjectProperties: DataViewObject;\n        private categoryAxisProperties: DataViewObject;\n\n        private valueAxisProperties: DataViewObject;\n        private cartesianSmallViewPortProperties: CartesianSmallViewPortProperties;\n        private interactivityService: IInteractivityService;\n        private behavior: IInteractiveBehavior;\n        private y2AxisExists: boolean;\n        private categoryAxisHasUnitType: boolean;\n        private valueAxisHasUnitType: boolean;\n        private hasCategoryAxis: boolean;\n        private yAxisIsCategorical: boolean;\n        private secValueAxisHasUnitType: boolean;\n        private axes: CartesianAxisProperties;\n        private yAxisOrientation: string;\n        private bottomMarginLimit: number;\n        private leftRightMarginLimit: number;\n        private sharedColorPalette: SharedColorPalette;\n\n        public animator: IGenericAnimator;\n\n        // Scrollbar related\n        private isScrollable: boolean;\n        private scrollY: boolean;\n        private scrollX: boolean;\n        private isXScrollBarVisible: boolean;\n        private isYScrollBarVisible: boolean;\n        private svgScrollable: D3.Selection;\n        private axisGraphicsContextScrollable: D3.Selection;\n        private labelGraphicsContextScrollable: D3.Selection;\n        private brushGraphicsContext: D3.Selection;\n        private brush: D3.Svg.Brush;\n        private static ScrollBarWidth = 10;\n        // TODO: Remove onDataChanged & onResizing once all visuals have implemented update.\n        private dataViews: DataView[];\n        private currentViewport: IViewport;\n\n        constructor(options: MekkoConstructorOptions) {\n            this.isScrollable = false;\n            if (options) {\n                this.type = options.chartType;\n                if (options.isScrollable)\n                    this.isScrollable = options.isScrollable;\n                this.animator = options.animator;\n                if (options.cartesianSmallViewPortProperties) {\n                    this.cartesianSmallViewPortProperties = options.cartesianSmallViewPortProperties;\n                }\n\n                if (options.behavior) {\n                    this.behavior = options.behavior;\n                }\n            } else {\n                this.behavior = new MekkoChartBehavior([new ColumnChartWebBehavior()]);\n            }\n        }\n\n        public init(options: VisualInitOptions) {\n            this.visualInitOptions = options;\n            this.layers = [];\n\n            var element = this.element = options.element;\n            var viewport = this.currentViewport = options.viewport;\n            this.hostServices = options.host;\n            this.brush = d3.svg.brush();\n            element.addClass(MekkoChart.ClassName);\n            this.margin = {\n                top: 1,\n                right: 1,\n                bottom: 1,\n                left: 1\n            };\n            this.yAxisOrientation = yAxisPosition.left;\n            this.adjustMargins(viewport);\n\n            this.sharedColorPalette = new SharedColorPalette(options.style.colorPalette.dataColors);\n\n            var showLinesOnX = true;\n            var showLinesOnY = true;\n\n            var svg = this.svg = d3.select(element.get(0)).append('svg');\n            svg.style('position', 'absolute');\n\n            var axisGraphicsContext = this.axisGraphicsContext = svg.append('g')\n                .classed(MekkoChart.AxisGraphicsContextClassName, true);\n\n            this.svgScrollable = svg.append('svg')\n                .classed('svgScrollable', true)\n                .style('overflow', 'hidden');\n\n            var axisGraphicsContextScrollable = this.axisGraphicsContextScrollable = this.svgScrollable.append('g')\n                .classed(MekkoChart.AxisGraphicsContextClassName, true);\n\n            this.labelGraphicsContextScrollable = this.svgScrollable.append('g')\n                .classed(NewDataLabelUtils.labelGraphicsContextClass.class, true);\n\n            if (this.behavior) {\n                this.clearCatcher = appendClearCatcher(this.axisGraphicsContextScrollable);\n            }\n\n            var axisGroup = showLinesOnX ? axisGraphicsContextScrollable : axisGraphicsContext;\n\n            this.xAxisGraphicsContext = showLinesOnX ? axisGraphicsContext.append('g').attr('class', 'x axis') : axisGraphicsContextScrollable.append('g').attr('class', 'x axis');\n            this.y1AxisGraphicsContext = axisGroup.append('g').attr('class', 'y axis');\n            this.y2AxisGraphicsContext = axisGroup.append('g').attr('class', 'y axis');\n\n            this.xAxisGraphicsContext.classed('showLinesOnAxis', showLinesOnX);\n            this.y1AxisGraphicsContext.classed('showLinesOnAxis', showLinesOnY);\n            this.y2AxisGraphicsContext.classed('showLinesOnAxis', showLinesOnY);\n\n            this.xAxisGraphicsContext.classed('hideLinesOnAxis', !showLinesOnX);\n            this.y1AxisGraphicsContext.classed('hideLinesOnAxis', !showLinesOnY);\n            this.y2AxisGraphicsContext.classed('hideLinesOnAxis', !showLinesOnY);\n\n            if (this.behavior) {\n                this.interactivityService = createInteractivityService(this.hostServices);\n            }\n            this.legend = createLegend(\n                element,\n                options.interactivity && options.interactivity.isInteractiveLegend,\n                this.interactivityService,\n                true);\n        }\n\n        private renderAxesLabels(options: MekkoAxisRenderingOptions): void {\n            debug.assertValue(options, 'options');\n            debug.assertValue(options.viewport, 'options.viewport');\n            debug.assertValue(options.axisLabels, 'options.axisLabels');\n\n            this.axisGraphicsContext.selectAll('.xAxisLabel').remove();\n            this.axisGraphicsContext.selectAll('.yAxisLabel').remove();\n\n            var margin = this.margin;\n            var width = options.viewport.width - (margin.left + margin.right);\n            var height = options.viewport.height;\n            var fontSize = MekkoChart.FontSize;\n            var heightOffset = fontSize;\n\n            var showOnRight = this.yAxisOrientation === yAxisPosition.right;\n\n            if (!options.hideXAxisTitle) {\n                var xAxisLabel = this.axisGraphicsContext.append(\"text\")\n                    .style(\"text-anchor\", \"middle\")\n                    .text(options.axisLabels.x)\n                    .call((text: D3.Selection) => {\n                        text.each(function() {\n                            var text = d3.select(this);\n                            text.attr({\n                                \"class\": \"xAxisLabel\",\n                                \"transform\": SVGUtil.translate(width / 2, height - heightOffset)\n                            });\n                        });\n                    });\n\n                xAxisLabel.style(\"fill\", options.xLabelColor ? options.xLabelColor.solid.color : null);\n\n                xAxisLabel.call(AxisHelper.LabelLayoutStrategy.clip,\n                    width,\n                    TextMeasurementService.svgEllipsis);\n            }\n\n            if (!options.hideYAxisTitle) {\n                var yAxisLabel = this.axisGraphicsContext.append(\"text\")\n                    .style(\"text-anchor\", \"middle\")\n                    .text(options.axisLabels.y)\n                    .call((text: D3.Selection) => {\n                        text.each(function() {\n                            var text = d3.select(this);\n                            text.attr({\n                                \"class\": \"yAxisLabel\",\n                                \"transform\": \"rotate(-90)\",\n                                \"y\": showOnRight ? width + margin.right - fontSize : -margin.left,\n                                \"x\": -((height - margin.top - options.legendMargin) / 2),\n                                \"dy\": \"1em\"\n                            });\n                        });\n                    });\n\n                yAxisLabel.style(\"fill\", options.yLabelColor ? options.yLabelColor.solid.color : null);\n\n                yAxisLabel.call(AxisHelper.LabelLayoutStrategy.clip,\n                    height - (margin.bottom + margin.top),\n                    TextMeasurementService.svgEllipsis);\n            }\n\n            if (!options.hideY2AxisTitle && options.axisLabels.y2) {\n                var y2AxisLabel = this.axisGraphicsContext.append(\"text\")\n                    .style(\"text-anchor\", \"middle\")\n                    .text(options.axisLabels.y2)\n                    .call((text: D3.Selection) => {\n                        text.each(function() {\n                            var text = d3.select(this);\n                            text.attr({\n                                \"class\": \"yAxisLabel\",\n                                \"transform\": \"rotate(-90)\",\n                                \"y\": showOnRight ? -margin.left : width + margin.right - fontSize,\n                                \"x\": -((height - margin.top - options.legendMargin) / 2),\n                                \"dy\": \"1em\"\n                            });\n                        });\n                    });\n\n                y2AxisLabel.style(\"fill\", options.y2LabelColor ? options.y2LabelColor.solid.color : null);\n\n                y2AxisLabel.call(AxisHelper.LabelLayoutStrategy.clip,\n                    height - (margin.bottom + margin.top),\n                    TextMeasurementService.svgEllipsis);\n            }\n        }\n\n        private adjustMargins(viewport: IViewport): void {\n            var margin = this.margin;\n\n            var width = viewport.width - (margin.left + margin.right);\n            var height = viewport.height - (margin.top + margin.bottom);\n\n            // Adjust margins if ticks are not going to be shown on either axis\n            var xAxis = this.element.find('.x.axis');\n\n            if (AxisHelper.getRecommendedNumberOfTicksForXAxis(width) === 0\n                && AxisHelper.getRecommendedNumberOfTicksForYAxis(height) === 0) {\n                this.margin = {\n                    top: 0,\n                    right: 0,\n                    bottom: 0,\n                    left: 0\n                };\n                xAxis.hide();\n            } else {\n                xAxis.show();\n            }\n        }\n\n        private translateAxes(viewport: IViewport): void {\n            this.adjustMargins(viewport);\n            var margin = this.margin;\n\n            var width = viewport.width - (margin.left + margin.right);\n            var height = viewport.height - (margin.top + margin.bottom);\n\n            var showY1OnRight = this.yAxisOrientation === yAxisPosition.right;\n\n            this.xAxisGraphicsContext\n                .attr('transform', SVGUtil.translate(0, height));\n\n            this.y1AxisGraphicsContext\n                .attr('transform', SVGUtil.translate(showY1OnRight ? width : 0, 0));\n\n            this.y2AxisGraphicsContext\n                .attr('transform', SVGUtil.translate(showY1OnRight ? 0 : width, 0));\n\n            this.svg.attr({\n                'width': viewport.width,\n                'height': viewport.height\n            });\n\n            this.svg.style('top', this.legend.isVisible() ? this.legend.getMargins().height + 'px' : 0);\n\n            this.svgScrollable.attr({\n                'width': viewport.width,\n                'height': viewport.height\n            });\n\n            this.svgScrollable.attr({\n                'x': 0\n            });\n\n            this.axisGraphicsContext.attr('transform', SVGUtil.translate(margin.left, margin.top));\n            this.axisGraphicsContextScrollable.attr('transform', SVGUtil.translate(margin.left, margin.top));\n            this.labelGraphicsContextScrollable.attr('transform', SVGUtil.translate(margin.left, margin.top));\n\n            if (this.isXScrollBarVisible) {\n                this.svgScrollable.attr({\n                    'x': this.margin.left\n                });\n                this.axisGraphicsContextScrollable.attr('transform', SVGUtil.translate(0, margin.top));\n                this.labelGraphicsContextScrollable.attr('transform', SVGUtil.translate(0, margin.top));\n                this.svgScrollable.attr('width', width);\n                this.svg.attr('width', viewport.width)\n                    .attr('height', viewport.height + MekkoChart.ScrollBarWidth);\n            }\n            else if (this.isYScrollBarVisible) {\n                this.svgScrollable.attr('height', height + margin.top);\n                this.svg.attr('width', viewport.width + MekkoChart.ScrollBarWidth)\n                    .attr('height', viewport.height);\n            }\n        }\n\n        public static getIsScalar(objects: DataViewObjects, propertyId: DataViewObjectPropertyIdentifier, type: ValueType): boolean {\n            var axisTypeValue = DataViewObjects.getValue(objects, propertyId);\n\n            if (!objects || axisTypeValue === undefined) {\n                // If we don't have anything set (Auto), show charts as Scalar if the category type is numeric or time.\n                // If we have the property, it will override the type.\n                return !AxisHelper.isOrdinal(type);\n            }\n\n            // also checking type here to be in sync with AxisHelper, which ignores scalar if the type is non-numeric.\n            return (axisTypeValue === axisType.scalar) && !AxisHelper.isOrdinal(type);\n        }\n\n        private populateObjectProperties(dataViews: DataView[]) {\n            if (dataViews && dataViews.length > 0) {\n                var dataViewMetadata = dataViews[0].metadata;\n\n                if (dataViewMetadata) {\n                    this.legendObjectProperties = DataViewObjects.getObject(dataViewMetadata.objects, 'legend', {});\n                    this.borderObjectProperties = DataViewObjects.getObject(dataViewMetadata.objects, 'columnBorder', {});\n                }\n                else {\n                    this.legendObjectProperties = {};\n                    this.borderObjectProperties = {};\n                }\n\n                this.categoryAxisProperties = CartesianHelper.getCategoryAxisProperties(dataViewMetadata);\n                this.valueAxisProperties = CartesianHelper.getValueAxisProperties(dataViewMetadata);\n\n                if (dataViewMetadata &&\n                    dataViewMetadata.objects) {\n                    var categoryAxis = dataViewMetadata.objects['categoryAxis'];\n                    var valueAxis = dataViewMetadata.objects['valueAxis'];\n\n                    if (categoryAxis) {\n                        this.categoryAxisProperties['showBorder'] = categoryAxis['showBorder'];\n                        this.categoryAxisProperties['fontSize'] = categoryAxis['fontSize'];\n                    }\n\n                    if (valueAxis) {\n                        this.valueAxisProperties['fontSize'] = valueAxis['fontSize'];\n                    }\n                }\n                var axisPosition = this.valueAxisProperties['position'];\n                this.yAxisOrientation = axisPosition ? axisPosition.toString() : yAxisPosition.left;\n            }\n        }\n\n        public update(options: VisualUpdateOptions) {\n            debug.assertValue(options, 'options');\n\n            var dataViews = this.dataViews = options.dataViews;\n            this.currentViewport = options.viewport;\n\n            if (!dataViews) {\n                return;\n            }\n\n            if ((this.currentViewport.width < MekkoChart.MinWidth) ||\n                (this.currentViewport.height < MekkoChart.MinHeight)) {\n                return;\n            }\n\n            if (this.layers.length === 0) {\n                // Lazily instantiate the chart layers on the first data load.\n                this.layers = this.createAndInitLayers(dataViews);\n\n                debug.assert(this.layers.length > 0, 'createAndInitLayers should update the layers.');\n            }\n            var layers = this.layers;\n\n            if (dataViews && dataViews.length > 0) {\n                var warnings = getInvalidValueWarnings(\n                    dataViews,\n                    false /*supportsNaN*/,\n                    false /*supportsNegativeInfinity*/,\n                    false /*supportsPositiveInfinity*/);\n\n                if (warnings && warnings.length > 0) {\n                    this.hostServices.setWarnings(warnings);\n                }\n                this.populateObjectProperties(dataViews);\n            }\n\n            this.sharedColorPalette.clearPreferredScale();\n            for (var i: number = 0, len: number = layers.length; i < len; i++) {\n                layers[i].setData(getLayerData(dataViews, i, len));\n\n                if (len > 1) {\n                    this.sharedColorPalette.rotateScale();\n\t\t\t\t}\n            }\n\n            // Note: interactive legend shouldn't be rendered explicitly here\n            // The interactive legend is being rendered in the render method of ICartesianVisual\n            if (!(this.visualInitOptions.interactivity && this.visualInitOptions.interactivity.isInteractiveLegend)) {\n                this.renderLegend();\n            }\n            this.render(!this.hasSetData || options.suppressAnimations);\n            this.hasSetData = this.hasSetData || (dataViews && dataViews.length > 0);\n        }\n\n        public static parseLabelSettings(objects: DataViewObjects): VisualDataLabelsSettings {\n            var labelSettings: VisualDataLabelsSettings = dataLabelUtils.getDefaultColumnLabelSettings(true);\n            var labelsObj: DataLabelObject = <DataLabelObject>objects['labels'];\n            var minPrecision = MekkoChart.DefaultSettings.labelSettings.minPrecision,\n                maxPrecision = MekkoChart.DefaultSettings.labelSettings.maxPrecision;\n\n            dataLabelUtils.updateLabelSettingsFromLabelsObject(labelsObj, labelSettings);\n\n            if (labelSettings.precision < minPrecision) {\n                labelSettings.precision = minPrecision;\n            }\n\n            if (labelSettings.precision > maxPrecision) {\n                labelSettings.precision = maxPrecision;\n            }\n\n            return labelSettings;\n        }\n\n        public static parseBorderSettings(objects: DataViewObjects): MekkoBorderSettings {\n            var show: boolean = DataViewObjects.getValue(objects, MekkoChart.properties.columnBorder.show, MekkoChart.DefaultSettings.columnBorder.show);\n            var color = DataViewObjects.getFillColor(objects, MekkoChart.properties.columnBorder.color, MekkoChart.DefaultSettings.columnBorder.color);\n            var width: number = DataViewObjects.getValue(objects, MekkoChart.properties.columnBorder.width, MekkoChart.DefaultSettings.columnBorder.width);\n            var maxWidth: number = MekkoChart.DefaultSettings.columnBorder.maxWidth;\n\n            if (width > maxWidth) {\n                width = maxWidth;\n            } else if (width < 0) {\n                width = 0;\n            }\n\n            if (!show) {\n                width = 0;\n            }\n\n            return {\n                show: show,\n                color: color,\n                width: width,\n            };\n        }\n\n        private enumerateBorder(enumeration: ObjectEnumerationBuilder): void {\n            var objects: DataViewObjects = {\n                columnBorder: this.borderObjectProperties\n            };\n\n            var show = DataViewObjects.getValue(objects, MekkoChart.properties.columnBorder.show, MekkoChart.DefaultSettings.columnBorder.show);\n            var color = DataViewObjects.getFillColor(objects, MekkoChart.properties.columnBorder.color, MekkoChart.DefaultSettings.columnBorder.color);\n            var width = DataViewObjects.getValue(objects, MekkoChart.properties.columnBorder.width, MekkoChart.DefaultSettings.columnBorder.width);\n\n            var maxWidth: number = MekkoChart.DefaultSettings.columnBorder.maxWidth;\n\n            if (width > maxWidth) {\n                width = maxWidth;\n            } else if (width < 0) {\n                width = 0;\n            }\n\n            var instance: VisualObjectInstance = {\n                objectName: 'columnBorder',\n                selector: null,\n                properties: {\n                    show: show,\n                    color: color,\n                    width: width,\n                },\n            };\n            enumeration\n                .pushInstance(instance);\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            var enumeration = new ObjectEnumerationBuilder();\n            var layersLength = this.layers ? this.layers.length : 0;\n\n            if (options.objectName === 'columnBorder') {\n                this.enumerateBorder(enumeration);\n            }\n            else if (options.objectName === 'legend') {\n                if (!this.shouldShowLegendCard()) {\n                    return;\n                }\n\n                var show = DataViewObject.getValue(this.legendObjectProperties, legendProps.show, this.legend.isVisible());\n                var showTitle = DataViewObject.getValue(this.legendObjectProperties, legendProps.showTitle, true);\n                var titleText = DataViewObject.getValue(this.legendObjectProperties, legendProps.titleText, this.layerLegendData && this.layerLegendData.title ? this.layerLegendData.title : '');\n                var fontSize = DataViewObject.getValue(this.legendObjectProperties, legendProps.fontSize, this.layerLegendData && this.layerLegendData.fontSize ? this.layerLegendData.fontSize : NewDataLabelUtils.DefaultLabelFontSizeInPt);\n\n                enumeration.pushInstance({\n                    selector: null,\n                    properties: {\n                        show: show,\n                        position: LegendPosition[this.legend.getOrientation()],\n                        showTitle: showTitle,\n                        titleText: titleText,\n                        fontSize: fontSize\n                    },\n                    objectName: options.objectName\n                });\n            }\n            else if (options.objectName === 'categoryAxis' && this.hasCategoryAxis) {\n                this.getCategoryAxisValues(enumeration);\n            }\n            else if (options.objectName === 'valueAxis') {\n                this.getValueAxisValues(enumeration);\n            }\n\n            for (var i: number = 0, len: number = layersLength; i < len; i++) {\n                var layer = this.layers[i];\n                if (layer.enumerateObjectInstances) {\n                    layer.enumerateObjectInstances(enumeration, options);\n                }\n            }\n\n            return enumeration.complete();\n        }\n\n        private shouldShowLegendCard(): boolean {\n            var layers = this.layers;\n            var dataViews = this.dataViews;\n\n            if (layers && dataViews) {\n                var layersLength = layers.length;\n                var layersWithValuesCtr = 0;\n\n                for (var i: number = 0; i < layersLength; i++) {\n                    if (layers[i].hasLegend()) {\n                        return true;\n                    }\n\n                    // if there are at least two layers with values legend card should be shown (even if each of the individual layers don't have legend)\n                    var dataView = dataViews[i];\n                    if (dataView && dataView.categorical && dataView.categorical.values && dataView.categorical.values.length > 0) {\n                        layersWithValuesCtr++;\n                        if (layersWithValuesCtr > 1) {\n                            return true;\n                        }\n                    }\n                }\n            }\n\n            return false;\n        }\n\n        private getCategoryAxisValues(enumeration: ObjectEnumerationBuilder): void {\n            var supportedType: string = axisType.both;\n            var isScalar: boolean = false;\n            var logPossible: boolean = !!this.axes.x.isLogScaleAllowed;\n            var scaleOptions: string[] = [axisScale.log, axisScale.linear];//until options can be update in propPane, show all options\n\n            if (this.layers && this.layers[0].getSupportedCategoryAxisType) {\n                supportedType = this.layers[0].getSupportedCategoryAxisType();\n                if (supportedType === axisType.scalar) {\n                    isScalar = true;\n                }\n                else {\n                    isScalar = CartesianHelper.isScalar(supportedType === axisType.both, this.categoryAxisProperties);\n                }\n            }\n\n            if (!isScalar) {\n                if (this.categoryAxisProperties) {\n                    this.categoryAxisProperties['start'] = null;\n                    this.categoryAxisProperties['end'] = null;\n                }\n            }\n\n            var instance: VisualObjectInstance = {\n                selector: null,\n                properties: {},\n                objectName: 'categoryAxis',\n                validValues: {\n                    axisScale: scaleOptions\n                }\n            };\n\n            instance.properties['show'] = this.categoryAxisProperties && this.categoryAxisProperties['show'] != null ? this.categoryAxisProperties['show'] : true;\n            if (this.yAxisIsCategorical)//in case of e.g. barChart\n                instance.properties['position'] = this.valueAxisProperties && this.valueAxisProperties['position'] != null ? this.valueAxisProperties['position'] : yAxisPosition.left;\n            if (supportedType === axisType.both) {\n                instance.properties['axisType'] = isScalar ? axisType.scalar : axisType.categorical;\n            }\n            if (isScalar) {\n                instance.properties['axisScale'] = (this.categoryAxisProperties && this.categoryAxisProperties['axisScale'] != null && logPossible) ? this.categoryAxisProperties['axisScale'] : axisScale.linear;\n                instance.properties['start'] = this.categoryAxisProperties ? this.categoryAxisProperties['start'] : null;\n                instance.properties['end'] = this.categoryAxisProperties ? this.categoryAxisProperties['end'] : null;\n            }\n            instance.properties['showAxisTitle'] = this.categoryAxisProperties && this.categoryAxisProperties['showAxisTitle'] != null ? this.categoryAxisProperties['showAxisTitle'] : false;\n            instance.properties['showBorder'] = this.categoryAxisProperties && this.categoryAxisProperties['showBorder'] != null ? this.categoryAxisProperties['showAxisTitle'] : false;\n\n            instance.properties['fontSize'] = this.categoryAxisProperties && this.categoryAxisProperties['fontSize'] != null ? this.categoryAxisProperties['fontSize'] : NewDataLabelUtils.DefaultLabelFontSizeInPt;\n\n            enumeration\n                .pushInstance(instance)\n                .pushInstance({\n                    selector: null,\n                    properties: {\n                        axisStyle: this.categoryAxisProperties && this.categoryAxisProperties['axisStyle'] ? this.categoryAxisProperties['axisStyle'] : axisStyle.showTitleOnly,\n                        labelColor: this.categoryAxisProperties ? this.categoryAxisProperties['labelColor'] : null,\n                        fontSize: this.categoryAxisProperties && this.categoryAxisProperties['fontSize'] != null ? this.categoryAxisProperties['fontSize'] : NewDataLabelUtils.DefaultLabelFontSizeInPt\n                    },\n                    objectName: 'categoryAxis',\n                    validValues: {\n                        axisStyle: this.categoryAxisHasUnitType ? [axisStyle.showTitleOnly, axisStyle.showUnitOnly, axisStyle.showBoth] : [axisStyle.showTitleOnly],\n                    }\n                });\n        }\n\n        //todo: wrap all these object getters and other related stuff into an interface\n        private getValueAxisValues(enumeration: ObjectEnumerationBuilder): void {\n            var scaleOptions: string[] = [axisScale.log, axisScale.linear];  //until options can be update in propPane, show all options\n            var logPossible: boolean = !!this.axes.y1.isLogScaleAllowed;\n            //var secLogPossible = this.axes.y2 != null && this.axes.y2.isLogScaleAllowed;\n\n            var instance: VisualObjectInstance = {\n                selector: null,\n                properties: {},\n                objectName: 'valueAxis',\n                validValues: {\n                    axisScale: scaleOptions,\n                    secAxisScale: scaleOptions\n                }\n            };\n\n            instance.properties['show'] = this.valueAxisProperties && this.valueAxisProperties['show'] != null ? this.valueAxisProperties['show'] : true;\n\n            if (!this.yAxisIsCategorical) {\n                instance.properties['position'] = this.valueAxisProperties && this.valueAxisProperties['position'] != null ? this.valueAxisProperties['position'] : yAxisPosition.left;\n            }\n            instance.properties['axisScale'] = (this.valueAxisProperties && this.valueAxisProperties['axisScale'] != null && logPossible) ? this.valueAxisProperties['axisScale'] : axisScale.linear;\n            instance.properties['start'] = this.valueAxisProperties ? this.valueAxisProperties['start'] : null;\n            instance.properties['end'] = this.valueAxisProperties ? this.valueAxisProperties['end'] : null;\n            instance.properties['showAxisTitle'] = this.valueAxisProperties && this.valueAxisProperties['showAxisTitle'] != null ? this.valueAxisProperties['showAxisTitle'] : false;\n\n            instance.properties['fontSize'] = this.valueAxisProperties && this.valueAxisProperties['fontSize'] != null ? this.valueAxisProperties['fontSize'] : NewDataLabelUtils.DefaultLabelFontSizeInPt;\n\n            enumeration\n                .pushInstance(instance)\n                .pushInstance({\n                    selector: null,\n                    properties: {\n                        axisStyle: this.valueAxisProperties && this.valueAxisProperties['axisStyle'] != null ? this.valueAxisProperties['axisStyle'] : axisStyle.showTitleOnly,\n                        labelColor: this.valueAxisProperties ? this.valueAxisProperties['labelColor'] : null,\n                        fontSize: this.valueAxisProperties && this.valueAxisProperties['fontSize'] != null ? this.valueAxisProperties['fontSize'] : NewDataLabelUtils.DefaultLabelFontSizeInPt\n                    },\n                    objectName: 'valueAxis',\n                    validValues: {\n                        axisStyle: this.valueAxisHasUnitType ? [axisStyle.showTitleOnly, axisStyle.showUnitOnly, axisStyle.showBoth] : [axisStyle.showTitleOnly]\n                    },\n                });\n\n            if (this.layers.length === 2) {\n                instance.properties['secShow'] = this.valueAxisProperties && this.valueAxisProperties['secShow'] != null ? this.valueAxisProperties['secShow'] : this.y2AxisExists;\n                if (instance.properties['secShow']) {\n                    instance.properties['axisLabel'] = '';//this.layers[0].getVisualType();//I will keep or remove this, depending on the decision made\n                }\n            }\n        }\n\n        public onClearSelection(): void {\n            if (this.hasSetData) {\n                for (var i: number = 0, len: number = this.layers.length; i < len; i++) {\n                    var layer = this.layers[i];\n                    layer.onClearSelection();\n                    layer.render(true /* suppressAnimations */);\n                }\n            }\n        }\n\n        private createAndInitLayers(dataViews: DataView[]): IMekkoColumnChartVisual[] {\n            var objects: DataViewObjects;\n            if (dataViews && dataViews.length > 0) {\n                var dataViewMetadata = dataViews[0].metadata;\n                if (dataViewMetadata)\n                    objects = dataViewMetadata.objects;\n            }\n\n            // Create the layers\n            var layers: IMekkoColumnChartVisual[] = createLayers(this.type, objects, this.interactivityService, this.animator, this.isScrollable);\n\n            // Initialize the layers\n            var cartesianOptions = <CartesianVisualInitOptions>Prototype.inherit(this.visualInitOptions);\n            cartesianOptions.svg = this.axisGraphicsContextScrollable;\n            cartesianOptions.cartesianHost = {\n                updateLegend: data => this.legend.drawLegend(data, this.currentViewport),\n                getSharedColors: () => this.sharedColorPalette,\n                triggerRender: undefined,\n            };\n\n            for (var i: number = 0, len: number = layers.length; i < len; i++) {\n                layers[i].init(cartesianOptions);\n            }\n\n            return layers;\n        }\n\n        private renderLegend(): void {\n            var layers: IMekkoColumnChartVisual[] = this.layers;\n            var legendData: LegendData = { title: \"\", dataPoints: [] };\n\n            for (var i: number = 0, len: number = layers.length; i < len; i++) {\n                this.layerLegendData = layers[i].calculateLegend();\n                if (this.layerLegendData) {\n                    legendData.title = i === 0 ? this.layerLegendData.title || \"\"\n                        : legendData.title;\n                    legendData.dataPoints = legendData.dataPoints.concat(this.layerLegendData.dataPoints || []);\n                    if (this.layerLegendData.grouped) {\n                        legendData.grouped = true;\n                    }\n                }\n            }\n\n            var legendProperties: DataViewObject = this.legendObjectProperties;\n            if (legendProperties) {\n                if (!legendProperties['fontSize']) {\n                    legendProperties['fontSize'] = NewDataLabelUtils.DefaultLabelFontSizeInPt;\n                }\n\n                LegendData.update(legendData, legendProperties);\n                var position = <string>legendProperties[legendProps.position];\n\n                if (position) {\n                    this.legend.changeOrientation(LegendPosition[position]);\n                }\n            }\n            else {\n                this.legend.changeOrientation(LegendPosition.Top);\n            }\n\n            if ((legendData.dataPoints.length === 1 && !legendData.grouped) || this.hideLegends()) {\n                legendData.dataPoints = [];\n            }\n\n            this.legend.drawLegend(legendData, this.currentViewport);\n        }\n\n        private hideLegends(): boolean {\n            if (this.cartesianSmallViewPortProperties) {\n                if (this.cartesianSmallViewPortProperties.hideLegendOnSmallViewPort && (this.currentViewport.height < this.cartesianSmallViewPortProperties.MinHeightLegendVisible)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        private addUnitTypeToAxisLabel(axes: CartesianAxisProperties): void {\n            var unitType = MekkoChart.getUnitType(axes, (axis: CartesianAxisProperties): IAxisProperties => axis.x);\n            if (axes.x.isCategoryAxis) {\n                this.categoryAxisHasUnitType = unitType !== null;\n            }\n            else {\n                this.valueAxisHasUnitType = unitType !== null;\n            }\n\n            if (axes.x.axisLabel && unitType) {\n                if (axes.x.isCategoryAxis) {\n                    axes.x.axisLabel = AxisHelper.createAxisLabel(this.categoryAxisProperties, axes.x.axisLabel, unitType);\n                }\n                else {\n                    axes.x.axisLabel = AxisHelper.createAxisLabel(this.valueAxisProperties, axes.x.axisLabel, unitType);\n                }\n            }\n\n            unitType = MekkoChart.getUnitType(axes, (axis: CartesianAxisProperties): IAxisProperties => axis.y1);\n\n            if (!axes.y1.isCategoryAxis) {\n                this.valueAxisHasUnitType = unitType !== null;\n            }\n            else {\n                this.categoryAxisHasUnitType = unitType !== null;\n            }\n\n            if (axes.y1.axisLabel && unitType) {\n                if (!axes.y1.isCategoryAxis) {\n                    axes.y1.axisLabel = AxisHelper.createAxisLabel(this.valueAxisProperties, axes.y1.axisLabel, unitType);\n                }\n                else {\n                    axes.y1.axisLabel = AxisHelper.createAxisLabel(this.categoryAxisProperties, axes.y1.axisLabel, unitType);\n                }\n            }\n\n            if (axes.y2) {\n                var unitType = MekkoChart.getUnitType(axes, (axis: CartesianAxisProperties): IAxisProperties => axis.y2);\n                this.secValueAxisHasUnitType = unitType !== null;\n                if (axes.y2.axisLabel && unitType) {\n                    if (this.valueAxisProperties && this.valueAxisProperties['secAxisStyle']) {\n                        if (this.valueAxisProperties['secAxisStyle'] === axisStyle.showBoth) {\n                            axes.y2.axisLabel = axes.y2.axisLabel + ' (' + unitType + ')';\n                        }\n                        else if (this.valueAxisProperties['secAxisStyle'] === axisStyle.showUnitOnly) {\n                            axes.y2.axisLabel = unitType;\n                        }\n                    }\n                }\n            }\n        }\n\n        private shouldRenderSecondaryAxis(axisProperties: IAxisProperties): boolean {\n            if (!axisProperties) {\n                return false;\n            }\n            if (!this.valueAxisProperties || this.valueAxisProperties[\"secShow\"] == null || this.valueAxisProperties[\"secShow\"]) {\n                return axisProperties.values && axisProperties.values.length > 0;\n            }\n            return false;\n        }\n\n        private shouldRenderAxis(axisProperties: IAxisProperties, propertyName: string = \"show\"): boolean {\n            if (!axisProperties) {\n                return false;\n            }\n            else if (axisProperties.isCategoryAxis && (!this.categoryAxisProperties || this.categoryAxisProperties[propertyName] == null || this.categoryAxisProperties[propertyName])) {\n                return axisProperties.values && axisProperties.values.length > 0;\n            }\n            else if (!axisProperties.isCategoryAxis && (!this.valueAxisProperties || this.valueAxisProperties[propertyName] == null || this.valueAxisProperties[propertyName])) {\n                return axisProperties.values && axisProperties.values.length > 0;\n            }\n            return false;\n        }\n\n        private render(suppressAnimations: boolean): void {\n            var legendMargins: IViewport = this.legendMargins = this.legend.getMargins();\n            var viewport: IViewport = {\n                height: this.currentViewport.height - legendMargins.height,\n                width: this.currentViewport.width - legendMargins.width\n            };\n\n            var maxMarginFactor = this.getMaxMarginFactor();\n            var leftRightMarginLimit = this.leftRightMarginLimit = viewport.width * maxMarginFactor;\n            this.bottomMarginLimit = Math.max(MekkoChart.MinBottomMargin, Math.ceil(viewport.height * maxMarginFactor));\n\n            var xAxisTextProperties = MekkoChart.getTextProperties(parseFloat(<any>this.categoryAxisProperties['fontSize']) || undefined);\n            var y1AxisTextProperties = MekkoChart.getTextProperties(parseFloat(<any>this.valueAxisProperties['fontSize']) || undefined);\n\n            var margin = this.margin;\n            // reset defaults\n            margin.top = parseFloat(y1AxisTextProperties.fontSize) / 2;\n            margin.bottom = MekkoChart.MinBottomMargin;\n            margin.right = 0;\n\n            var axes: CartesianAxisProperties = this.axes = calculateAxes(\n                this.layers,\n                viewport,\n                margin,\n                this.categoryAxisProperties,\n                this.valueAxisProperties,\n                this.isXScrollBarVisible || this.isYScrollBarVisible,\n                null);\n\n            this.yAxisIsCategorical = axes.y1.isCategoryAxis;\n            this.hasCategoryAxis = this.yAxisIsCategorical ? axes.y1 && axes.y1.values.length > 0 : axes.x && axes.x.values.length > 0;\n\n            var renderXAxis = this.shouldRenderAxis(axes.x);\n            var renderY1Axis = this.shouldRenderAxis(axes.y1);\n            var renderY2Axis = this.shouldRenderSecondaryAxis(axes.y2);\n\n            var width: number = viewport.width - (margin.left + margin.right);\n            var isScalar: boolean = false;\n            var mainAxisScale;\n            var preferredViewport: IViewport;\n            this.isXScrollBarVisible = false;\n            this.isYScrollBarVisible = false;\n\n            var yAxisOrientation = this.yAxisOrientation;\n            var showY1OnRight = yAxisOrientation === yAxisPosition.right;\n\n            if (this.layers) {\n                if (this.layers[0].getVisualCategoryAxisIsScalar) {\n                    isScalar = this.layers[0].getVisualCategoryAxisIsScalar();\n                }\n\n                if (!isScalar && this.isScrollable && this.layers[0].getPreferredPlotArea) {\n                    var categoryThickness = this.scrollX ? axes.x.categoryThickness : axes.y1.categoryThickness;\n                    var categoryCount = this.scrollX ? axes.x.values.length : axes.y1.values.length;\n                    preferredViewport = this.layers[0].getPreferredPlotArea(isScalar, categoryCount, categoryThickness);\n                    if (this.scrollX && preferredViewport && preferredViewport.width > viewport.width) {\n                        this.isXScrollBarVisible = true;\n                        viewport.height -= MekkoChart.ScrollBarWidth;\n                    }\n\n                    if (this.scrollY && preferredViewport && preferredViewport.height > viewport.height) {\n                        this.isYScrollBarVisible = true;\n                        viewport.width -= MekkoChart.ScrollBarWidth;\n                        width = viewport.width - (margin.left + margin.right);\n                    }\n                }\n            }\n\n            // Only create the g tag where there is a scrollbar\n            if (this.isXScrollBarVisible || this.isYScrollBarVisible) {\n                if (!this.brushGraphicsContext) {\n                    this.brushGraphicsContext = this.svg.append(\"g\")\n                        .classed('x brush', true);\n                }\n            }\n            else {\n                // clear any existing brush if no scrollbar is shown\n                this.svg.selectAll('.brush').remove();\n                this.brushGraphicsContext = undefined;\n            }\n\n            // Recalculate axes now that scrollbar visible variables have been set\n            axes = calculateAxes(\n                this.layers,\n                viewport,\n                margin,\n                this.categoryAxisProperties,\n                this.valueAxisProperties,\n                this.isXScrollBarVisible || this.isYScrollBarVisible,\n                null);\n\n            // we need to make two passes because the margin changes affect the chosen tick values, which then affect the margins again.\n            // after the second pass the margins are correct.\n            var doneWithMargins: boolean = false,\n                maxIterations: number = 2,\n                numIterations: number = 0;\n            var tickLabelMargins = undefined;\n            var chartHasAxisLabels = undefined;\n            var axisLabels: ChartAxesLabels = undefined;\n            while (!doneWithMargins && numIterations < maxIterations) {\n                numIterations++;\n                tickLabelMargins = getTickLabelMargins(\n                    { width: width, height: viewport.height },\n                    leftRightMarginLimit,\n                    TextMeasurementService.measureSvgTextWidth,\n                    TextMeasurementService.estimateSvgTextHeight,\n                    axes,\n                    this.bottomMarginLimit,\n                    xAxisTextProperties,\n                    y1AxisTextProperties,\n                    null,\n                    false,\n                    this.isXScrollBarVisible || this.isYScrollBarVisible,\n                    showY1OnRight,\n                    renderXAxis,\n                    renderY1Axis,\n                    renderY2Axis);\n\n                // We look at the y axes as main and second sides, if the y axis orientation is right so the main side represents the right side\n                var maxMainYaxisSide = showY1OnRight ? tickLabelMargins.yRight : tickLabelMargins.yLeft,\n                    maxSecondYaxisSide = showY1OnRight ? tickLabelMargins.yLeft : tickLabelMargins.yRight,\n                    xMax = renderXAxis ? (tickLabelMargins.xMax/1.8) : 0;\n\n                maxMainYaxisSide += MekkoChart.LeftPadding;\n                maxSecondYaxisSide += MekkoChart.RightPadding;\n                xMax += MekkoChart.BottomPadding;\n\n                if (this.hideAxisLabels(legendMargins)) {\n                    axes.x.axisLabel = null;\n                    axes.y1.axisLabel = null;\n                    if (axes.y2) {\n                        axes.y2.axisLabel = null;\n                    }\n                }\n\n                this.addUnitTypeToAxisLabel(axes);\n\n                axisLabels = { x: axes.x.axisLabel, y: axes.y1.axisLabel, y2: axes.y2 ? axes.y2.axisLabel : null };\n                chartHasAxisLabels = (axisLabels.x != null) || (axisLabels.y != null || axisLabels.y2 != null);\n\n                if (axisLabels.x != null) {\n                    xMax += MekkoChart.XAxisLabelPadding;\n                }\n                if (axisLabels.y != null) {\n                    maxMainYaxisSide += MekkoChart.YAxisLabelPadding;\n                }\n                if (axisLabels.y2 != null) {\n                    maxSecondYaxisSide += MekkoChart.YAxisLabelPadding;\n                }\n\n                margin.left = showY1OnRight ? maxSecondYaxisSide : maxMainYaxisSide;\n                margin.right = showY1OnRight ? maxMainYaxisSide : maxSecondYaxisSide;\n                margin.bottom = xMax;\n                this.margin = margin;\n\n                width = viewport.width - (margin.left + margin.right);\n\n                // re-calculate the axes with the new margins\n                var previousTickCountY1 = axes.y1.values.length;\n                var previousTickCountY2 = axes.y2 && axes.y2.values.length;\n                axes = calculateAxes(\n                    this.layers,\n                    viewport,\n                    margin,\n                    this.categoryAxisProperties,\n                    this.valueAxisProperties,\n                    this.isXScrollBarVisible || this.isYScrollBarVisible,\n                    axes);\n\n                // the minor padding adjustments could have affected the chosen tick values, which would then need to calculate margins again\n                // e.g. [0,2,4,6,8] vs. [0,5,10] the 10 is wider and needs more margin.\n                if (axes.y1.values.length === previousTickCountY1 && (!axes.y2 || axes.y2.values.length === previousTickCountY2))\n                    doneWithMargins = true;\n            }\n\n            this.renderChart(mainAxisScale, axes, width, tickLabelMargins, chartHasAxisLabels, axisLabels, viewport, suppressAnimations);\n        }\n\n        private hideAxisLabels(legendMargins: IViewport): boolean {\n            if (this.cartesianSmallViewPortProperties) {\n                if (this.cartesianSmallViewPortProperties.hideAxesOnSmallViewPort && ((this.currentViewport.height + legendMargins.height) < this.cartesianSmallViewPortProperties.MinHeightAxesVisible) && !this.visualInitOptions.interactivity.isInteractiveLegend) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        private static getUnitType(axis: CartesianAxisProperties, axisPropertiesLookup: (axis: CartesianAxisProperties) => IAxisProperties) {\n            if (axisPropertiesLookup(axis).formatter &&\n                axisPropertiesLookup(axis).formatter.displayUnit &&\n                axisPropertiesLookup(axis).formatter.displayUnit.value > 1) {\n                    return axisPropertiesLookup(axis).formatter.displayUnit.title;\n                }\n            return null;\n        }\n\n        private getMaxMarginFactor(): number {\n            return this.visualInitOptions.style.maxMarginFactor || MekkoChart.MaxMarginFactor;\n        }\n\n        private static getChartViewport(viewport: IViewport, margin: IMargin): IViewport {\n            return {\n                width: viewport.width - margin.left - margin.right,\n                height: viewport.height - margin.top - margin.bottom,\n            };\n        }\n\n        private static wordBreak(\n            text: D3.Selection,\n            axisProperties: IAxisProperties,\n            columnsWidth: number[],\n            maxHeight: number,\n            borderWidth: number): void {\n\n            //var allowedLength = axisProperties.xLabelMaxWidth;\n            text.each(function(data: any, index: number) {\n                var width: number, allowedLength: number;\n                var node = d3.select(this);\n                if (columnsWidth.length >= index) {\n                    width = columnsWidth[index];\n                    allowedLength = axisProperties.scale(width);\n                } else {\n                    allowedLength = axisProperties.xLabelMaxWidth;\n                }\n                // Reset style of text node\n                node\n                    .style('text-anchor', 'middle')\n                    .attr({\n                        'dx': '0em',\n                        'dy': '1em',\n                        'transform': 'rotate(0)'\n                    });\n\n                TextMeasurementService.wordBreak(this, allowedLength, axisProperties.willLabelsWordBreak ? maxHeight : 0);\n            });\n        }\n\n        private renderChart(\n            mainAxisScale: any,\n            axes: CartesianAxisProperties,\n            width: number,\n            tickLabelMargins: any,\n            chartHasAxisLabels: boolean,\n            axisLabels: ChartAxesLabels,\n            viewport: IViewport,\n            suppressAnimations: boolean,\n            scrollScale?: any,\n            extent?: number[]) {\n\n            var bottomMarginLimit: number = this.bottomMarginLimit;\n            var leftRightMarginLimit: number = this.leftRightMarginLimit;\n            var layers: IMekkoColumnChartVisual[] = this.layers;\n            var duration: number = AnimatorCommon.GetAnimationDuration(this.animator, suppressAnimations);\n            var chartViewport: IViewport = MekkoChart.getChartViewport(viewport, this.margin);\n\n            debug.assertValue(layers, 'layers');\n\n            var xLabelColor: Fill;\n            var yLabelColor: Fill;\n            var y2LabelColor: Fill;\n\n            var xFontSize: any;\n            var yFontSize: any;\n            //hide show x-axis here\n            if (this.shouldRenderAxis(axes.x)) {\n                if (axes.x.isCategoryAxis) {\n                    xLabelColor = this.categoryAxisProperties && this.categoryAxisProperties['labelColor'] ? this.categoryAxisProperties['labelColor'] : null;\n                    xFontSize =   this.categoryAxisProperties && this.categoryAxisProperties['fontSize'] != null ? this.categoryAxisProperties['fontSize'] : NewDataLabelUtils.DefaultLabelFontSizeInPt;\n                } else {\n                    xLabelColor = this.valueAxisProperties && this.valueAxisProperties['labelColor'] ? this.valueAxisProperties['labelColor'] : null;\n                    xFontSize = this.valueAxisProperties && this.valueAxisProperties['fontSize'] ? this.valueAxisProperties['fontSize'] : NewDataLabelUtils.DefaultLabelFontSizeInPt;\n                }\n                axes.x.axis.orient(\"bottom\");\n                if (!axes.x.willLabelsFit) {\n                    axes.x.axis.tickPadding(MekkoChart.TickPaddingRotatedX);\n                }\n\n                var xAxisGraphicsElement: D3.Selection = this.xAxisGraphicsContext;\n                if (duration) {\n                    xAxisGraphicsElement\n                        .transition()\n                        .duration(duration)\n                        .call(axes.x.axis);\n                }\n                else {\n                    xAxisGraphicsElement\n                        .call(axes.x.axis);\n                }\n\n                xAxisGraphicsElement\n                    .call(MekkoChart.darkenZeroLine)\n                    .call(MekkoChart.setAxisLabelColor, xLabelColor)\n                    .call(MekkoChart.setAxisLabelFontSize, xFontSize);\n\n                var xAxisTextNodes = xAxisGraphicsElement.selectAll('text');\n\n                var columnWidth: number[] = [];\n                var borderWidth: number = 0;\n                if (this.layers && this.layers.length) {\n                    columnWidth = this.layers[0].getColumnsWidth();\n                    borderWidth = this.layers[0].getBorderWidth();\n                }\n\n                xAxisGraphicsElement\n                    .call(MekkoChart.moveBorder, axes.x.scale, borderWidth, xFontSize / 2 - 8);\n\n                xAxisTextNodes\n                    .call(MekkoChart.wordBreak, axes.x, columnWidth, bottomMarginLimit, borderWidth);\n            }\n            else {\n                this.xAxisGraphicsContext.selectAll('*').remove();\n            }\n\n            if (this.shouldRenderAxis(axes.y1)) {\n                if (axes.y1.isCategoryAxis) {\n                    yLabelColor = this.categoryAxisProperties && this.categoryAxisProperties['labelColor'] ? this.categoryAxisProperties['labelColor'] : null;\n                    yFontSize =   this.categoryAxisProperties && this.categoryAxisProperties['fontSize'] != null ? this.categoryAxisProperties['fontSize'] : NewDataLabelUtils.DefaultLabelFontSizeInPt;\n                } else {\n                    yLabelColor = this.valueAxisProperties && this.valueAxisProperties['labelColor'] ? this.valueAxisProperties['labelColor'] : null;\n                    yFontSize =   this.valueAxisProperties && this.valueAxisProperties['fontSize'] != null ? this.valueAxisProperties['fontSize'] : NewDataLabelUtils.DefaultLabelFontSizeInPt;\n                }\n                var yAxisOrientation = this.yAxisOrientation;\n                var showY1OnRight = yAxisOrientation === yAxisPosition.right;\n                axes.y1.axis\n                    .tickSize(-width)\n                    .tickPadding(MekkoChart.TickPaddingY)\n                    .orient(yAxisOrientation.toLowerCase());\n\n                var y1AxisGraphicsElement: D3.Selection = this.y1AxisGraphicsContext;\n                if (duration) {\n                    y1AxisGraphicsElement\n                        .transition()\n                        .duration(duration)\n                        .call(axes.y1.axis);\n                }\n                else {\n                    y1AxisGraphicsElement\n                        .call(axes.y1.axis);\n                }\n\n                y1AxisGraphicsElement\n                    .call(MekkoChart.darkenZeroLine)\n                    .call(MekkoChart.setAxisLabelColor, yLabelColor)\n                    .call(MekkoChart.setAxisLabelFontSize, yFontSize);\n\n                if (tickLabelMargins.yLeft >= leftRightMarginLimit) {\n                    y1AxisGraphicsElement.selectAll('text')\n                        .call(AxisHelper.LabelLayoutStrategy.clip,\n                        // Can't use padding space to render text, so subtract that from available space for ellipses calculations\n                        leftRightMarginLimit - MekkoChart.LeftPadding,\n                        TextMeasurementService.svgEllipsis);\n                }\n\n                if (axes.y2 && (!this.valueAxisProperties || this.valueAxisProperties['secShow'] == null || this.valueAxisProperties['secShow'])) {\n                    y2LabelColor = this.valueAxisProperties && this.valueAxisProperties['secLabelColor'] ? this.valueAxisProperties['secLabelColor'] : null;\n\n                    axes.y2.axis\n                        .tickPadding(MekkoChart.TickPaddingY)\n                        .orient(showY1OnRight ? yAxisPosition.left.toLowerCase() : yAxisPosition.right.toLowerCase());\n\n                    if (duration) {\n                        this.y2AxisGraphicsContext\n                            .transition()\n                            .duration(duration)\n                            .call(axes.y2.axis);\n                    }\n                    else {\n                        this.y2AxisGraphicsContext\n                            .call(axes.y2.axis);\n                    }\n\n                    this.y2AxisGraphicsContext\n                        .call(MekkoChart.darkenZeroLine)\n                        .call(MekkoChart.setAxisLabelColor, y2LabelColor);\n\n                    if (tickLabelMargins.yRight >= leftRightMarginLimit) {\n                        this.y2AxisGraphicsContext.selectAll('text')\n                            .call(AxisHelper.LabelLayoutStrategy.clip,\n                            // Can't use padding space to render text, so subtract that from available space for ellipses calculations\n                            leftRightMarginLimit - MekkoChart.RightPadding,\n                            TextMeasurementService.svgEllipsis);\n                    }\n                }\n                else {\n                    this.y2AxisGraphicsContext.selectAll('*').remove();\n                }\n            }\n            else {\n                this.y1AxisGraphicsContext.selectAll('*').remove();\n                this.y2AxisGraphicsContext.selectAll('*').remove();\n            }\n\n            // Axis labels\n            if (chartHasAxisLabels) {\n                var hideXAxisTitle: boolean = !this.shouldRenderAxis(axes.x, \"showAxisTitle\");\n                var hideYAxisTitle: boolean = !this.shouldRenderAxis(axes.y1, \"showAxisTitle\");\n                var hideY2AxisTitle: boolean = this.valueAxisProperties && this.valueAxisProperties[\"secShowAxisTitle\"] != null && this.valueAxisProperties[\"secShowAxisTitle\"] === false;\n\n                var renderAxisOptions: MekkoAxisRenderingOptions = {\n                    axisLabels: axisLabels,\n                    legendMargin: this.legendMargins.height,\n                    viewport: viewport,\n                    hideXAxisTitle: hideXAxisTitle,\n                    hideYAxisTitle: hideYAxisTitle,\n                    hideY2AxisTitle: hideY2AxisTitle,\n                    xLabelColor: xLabelColor,\n                    yLabelColor: yLabelColor,\n                    y2LabelColor: y2LabelColor,\n                    margin: undefined,\n                };\n\n                this.renderAxesLabels(renderAxisOptions);\n            }\n            else {\n                this.axisGraphicsContext.selectAll('.xAxisLabel').remove();\n                this.axisGraphicsContext.selectAll('.yAxisLabel').remove();\n            }\n\n            this.translateAxes(viewport);\n\n            var dataPoints: SelectableDataPoint[] = [];\n            var layerBehaviorOptions: any[] = [];\n            var labelDataPointsGroup: MekkoLabelDataPointsGroup[] = [];\n\n            //Render chart columns\n            if (this.behavior) {\n                for (var i: number = 0, len: number = layers.length; i < len; i++) {\n                    var result: MekkoVisualRenderResult = layers[i].render(suppressAnimations);\n                    if (result) {\n                        dataPoints = dataPoints.concat(result.dataPoints);\n                        layerBehaviorOptions.push(result.behaviorOptions);\n\n                        if (result.labelDataPointGroups) {\n                            var resultLabelDataPointsGroups = result.labelDataPointGroups;\n                            for (var j: number = 0, jlen = resultLabelDataPointsGroups.length; j < jlen; j++) {\n                                var resultLabelDataPointsGroup = resultLabelDataPointsGroups[j];\n                                labelDataPointsGroup.push({\n                                    labelDataPoints: resultLabelDataPointsGroup.labelDataPoints,\n                                    maxNumberOfLabels: resultLabelDataPointsGroup.maxNumberOfLabels,\n                                });\n                            }\n                        }\n                        else {\n                            var resultsLabelDataPoints: MekkoLabelDataPoint[] = result.labelDataPoints;\n                            var reducedDataPoints: MekkoLabelDataPoint[] = resultsLabelDataPoints;\n                            labelDataPointsGroup.push({\n                                labelDataPoints: reducedDataPoints,\n                                maxNumberOfLabels: reducedDataPoints.length,\n                            });\n                        }\n                    }\n                }\n\n                var labelLayoutOptions: DataLabelLayoutOptions = {\n                    maximumOffset: NewDataLabelUtils.maxLabelOffset,\n                    startingOffset: NewDataLabelUtils.startingLabelOffset\n                };\n\n                var labelLayout: LabelLayout = new LabelLayout(labelLayoutOptions);\n                var dataLabels: Label[] = labelLayout.layout(labelDataPointsGroup, chartViewport);\n\n                if (layers.length > 1) {\n                    NewDataLabelUtils.drawLabelBackground(this.labelGraphicsContextScrollable, dataLabels, \"#FFFFFF\", 0.7);\n                }\n                if (this.animator && !suppressAnimations) {\n                    NewDataLabelUtils.animateDefaultLabels(this.labelGraphicsContextScrollable, dataLabels, this.animator.getDuration());\n                }\n                else {\n                    NewDataLabelUtils.drawDefaultLabels(this.labelGraphicsContextScrollable, dataLabels);\n                }\n                this.labelGraphicsContextScrollable.selectAll(\"text.label\").style(\"pointer-events\", \"none\");\n                if (this.interactivityService) {\n                    var behaviorOptions: MekkoBehaviorOptions = {\n                        layerOptions: layerBehaviorOptions,\n                        clearCatcher: this.clearCatcher,\n                    };\n                    this.interactivityService.bind(dataPoints, this.behavior, behaviorOptions);\n                }\n            }\n\n        }\n\n        /**\n         * Within the context of the given selection (g), find the offset of\n         * the zero tick using the d3 attached datum of g.tick elements.\n         * 'Classed' is undefined for transition selections\n         */\n        private static darkenZeroLine(g: D3.Selection): void {\n            var zeroTick = g.selectAll('g.tick').filter((data) => data === 0).node();\n            if (zeroTick) {\n                d3.select(zeroTick).select('line').classed('zero-line', true);\n            }\n        }\n\n        private static setAxisLabelColor(g: D3.Selection, fill: Fill): void {\n            g.selectAll('g.tick text').style('fill', fill ? fill.solid.color : null);\n        }\n\n        private static setAxisLabelFontSize(g: D3.Selection, fontSize: number): void {\n            var value = jsCommon.PixelConverter.toString(fontSize);\n            g.selectAll('g.tick text').attr('font-size', value);\n        }\n\n        private static moveBorder(g: D3.Selection, scale: D3.Scale.LinearScale, borderWidth: number, yOffset: number = 0): void {\n            g.selectAll('g.tick')\n                .attr(\"transform\", function(value: number, index: number) {\n                     return SVGUtil.translate(scale(value) + (borderWidth * index), yOffset);\n            });\n        }\n    }\n\n    function getTickLabelMargins(\n        viewport: IViewport,\n        yMarginLimit: number,\n        textWidthMeasurer: ITextAsSVGMeasurer,\n        textHeightMeasurer: ITextAsSVGMeasurer,\n        axes: CartesianAxisProperties,\n        bottomMarginLimit: number,\n        xAxisTextProperties: TextProperties,\n        y1AxisTextProperties: TextProperties,\n        y2AxisTextProperties: TextProperties,\n        enableOverflowCheck: boolean,\n        scrollbarVisible?: boolean,\n        showOnRight?: boolean,\n        renderXAxis?: boolean,\n        renderY1Axis?: boolean,\n        renderY2Axis?: boolean): TickLabelMargins {\n\n        var XLabelMaxAllowedOverflow = 35;\n\n        debug.assertValue(axes, 'axes');\n        var xAxisProperties: IAxisProperties = axes.x;\n        var y1AxisProperties: IAxisProperties = axes.y1;\n        var y2AxisProperties: IAxisProperties = axes.y2;\n\n        debug.assertValue(viewport, 'viewport');\n        debug.assertValue(textWidthMeasurer, 'textWidthMeasurer');\n        debug.assertValue(textHeightMeasurer, 'textHeightMeasurer');\n        debug.assertValue(xAxisProperties, 'xAxis');\n        debug.assertValue(y1AxisProperties, 'yAxis');\n\n        var xLabels = xAxisProperties.values;\n        var y1Labels = y1AxisProperties.values;\n\n        var leftOverflow = 0;\n        var rightOverflow = 0;\n        var maxWidthY1 = 0;\n        var maxWidthY2 = 0;\n        var xMax = 0; // bottom margin\n        var ordinalLabelOffset = xAxisProperties.categoryThickness ? xAxisProperties.categoryThickness / 2 : 0;\n        var scaleIsOrdinal = AxisHelper.isOrdinalScale(xAxisProperties.scale);\n\n        var xLabelOuterPadding = 0;\n        if (xAxisProperties.outerPadding !== undefined) {\n            xLabelOuterPadding = xAxisProperties.outerPadding;\n        }\n        else if (xAxisProperties.xLabelMaxWidth !== undefined) {\n            xLabelOuterPadding = Math.max(0, (viewport.width - xAxisProperties.xLabelMaxWidth * xLabels.length) / 2);\n        }\n\n        if (AxisHelper.getRecommendedNumberOfTicksForXAxis(viewport.width) !== 0\n            ||AxisHelper. getRecommendedNumberOfTicksForYAxis(viewport.height) !== 0) {\n            var rotation;\n            if (scrollbarVisible)\n                rotation = AxisHelper.LabelLayoutStrategy.DefaultRotationWithScrollbar;\n            else\n                rotation = AxisHelper.LabelLayoutStrategy.DefaultRotation;\n\n            if (renderY1Axis) {\n                for (var i = 0, len = y1Labels.length; i < len; i++) {\n                    y1AxisTextProperties.text = y1Labels[i];\n                    maxWidthY1 = Math.max(maxWidthY1, textWidthMeasurer(y1AxisTextProperties));\n                }\n            }\n\n            if (y2AxisProperties && renderY2Axis) {\n                var y2Labels = y2AxisProperties.values;\n                for (var i = 0, len = y2Labels.length; i < len; i++) {\n                    y2AxisTextProperties.text = y2Labels[i];\n                    maxWidthY2 = Math.max(maxWidthY2, textWidthMeasurer(y2AxisTextProperties));\n                }\n            }\n\n            var textHeight = textHeightMeasurer(xAxisTextProperties);\n            var maxNumLines = Math.floor(bottomMarginLimit / textHeight);\n            var xScale = xAxisProperties.scale;\n            var xDomain = xScale.domain();\n            if (renderXAxis && xLabels.length > 0) {\n                for (var i = 0, len = xLabels.length; i < len; i++) {\n                    // find the max height of the x-labels, perhaps rotated or wrapped\n                    var height: number;\n                    xAxisTextProperties.text = xLabels[i];\n                    var width = textWidthMeasurer(xAxisTextProperties);\n                    if (xAxisProperties.willLabelsWordBreak) {\n                        // Split label and count rows\n                        var wordBreaks = jsCommon.WordBreaker.splitByWidth(xAxisTextProperties.text, xAxisTextProperties, textWidthMeasurer, xAxisProperties.xLabelMaxWidth, maxNumLines);\n                        height = wordBreaks.length * textHeight;\n                        // word wrapping will truncate at xLabelMaxWidth\n                        width = xAxisProperties.xLabelMaxWidth;\n                    }\n                    else if (!xAxisProperties.willLabelsFit && scaleIsOrdinal) {\n                        height = width * rotation.sine;\n                        width = width * rotation.cosine;\n                    }\n                    else {\n                        height = textHeight;\n                    }\n\n                    // calculate left and right overflow due to wide X labels\n                    // (Note: no right overflow when rotated)\n                    if (i === 0) {\n                        if (scaleIsOrdinal) {\n                            if (!xAxisProperties.willLabelsFit /*rotated text*/)\n                                leftOverflow = width - ordinalLabelOffset - xLabelOuterPadding;\n                            else\n                                leftOverflow = (width / 2) - ordinalLabelOffset - xLabelOuterPadding;\n                            leftOverflow = Math.max(leftOverflow, 0);\n                        }\n                        else if (xDomain.length > 1) {\n                            // Scalar - do some math\n                            var xPos = xScale(xDomain[0]);\n                            // xPos already incorporates xLabelOuterPadding, don't subtract it twice\n                            leftOverflow = (width / 2) - xPos;\n                            leftOverflow = Math.max(leftOverflow, 0);\n                        }\n                    } else if (i === len - 1) {\n                        if (scaleIsOrdinal) {\n                            // if we are rotating text (!willLabelsFit) there won't be any right overflow\n                            if (xAxisProperties.willLabelsFit || xAxisProperties.willLabelsWordBreak) {\n                                // assume this label is placed near the edge\n                                rightOverflow = (width / 2) - ordinalLabelOffset - xLabelOuterPadding;\n                                rightOverflow = Math.max(rightOverflow, 0);\n                            }\n                        }\n                        else if (xDomain.length > 1) {\n                            // Scalar - do some math\n                            var xPos = xScale(xDomain[1]);\n                            // xPos already incorporates xLabelOuterPadding, don't subtract it twice\n                            rightOverflow = (width / 2) - (viewport.width - xPos);\n                            rightOverflow = Math.max(rightOverflow, 0);\n                        }\n                    }\n\n                    xMax = Math.max(xMax, height);\n                }\n                // trim any actual overflow to the limit\n                leftOverflow = enableOverflowCheck ? Math.min(leftOverflow, XLabelMaxAllowedOverflow) : 0;\n                rightOverflow = enableOverflowCheck ? Math.min(rightOverflow, XLabelMaxAllowedOverflow) : 0;\n            }\n        }\n\n        var rightMargin = 0,\n            leftMargin = 0,\n            bottomMargin = Math.min(Math.ceil(xMax), bottomMarginLimit);\n\n        if (showOnRight) {\n            leftMargin = Math.min(Math.max(leftOverflow, maxWidthY2), yMarginLimit);\n            rightMargin = Math.min(Math.max(rightOverflow, maxWidthY1), yMarginLimit);\n        }\n        else {\n            leftMargin = Math.min(Math.max(leftOverflow, maxWidthY1), yMarginLimit);\n            rightMargin = Math.min(Math.max(rightOverflow, maxWidthY2), yMarginLimit);\n        }\n\n        return {\n            xMax: Math.ceil(bottomMargin),\n            yLeft: Math.ceil(leftMargin),\n            yRight: Math.ceil(rightMargin),\n        };\n    }\n\n    function getLayerData(dataViews: DataView[], currentIdx: number, totalLayers: number): DataView[] {\n        if (totalLayers > 1) {\n            if (dataViews && dataViews.length > currentIdx)\n                return [dataViews[currentIdx]];\n            return [];\n        }\n\n        return dataViews;\n    }\n\n    /**\n     * Returns a boolean, that indicates if y axis title should be displayed.\n     * @return True if y axis title should be displayed,\n     * otherwise false.\n     */\n    function shouldShowYAxisLabel(layerNumber: number, valueAxisProperties: DataViewObject, yAxisWillMerge: boolean): boolean {\n        return ((layerNumber === 0 && !!valueAxisProperties && !!valueAxisProperties['showAxisTitle']) ||\n            (layerNumber === 1 && !yAxisWillMerge && !!valueAxisProperties && !!valueAxisProperties['secShowAxisTitle']));\n    }\n\n    /**\n     * Computes the Cartesian Chart axes from the set of layers.\n     */\n    function calculateAxes(\n        layers: IMekkoColumnChartVisual[],\n        viewport: IViewport,\n        margin: IMargin,\n        categoryAxisProperties: DataViewObject,\n        valueAxisProperties: DataViewObject,\n        scrollbarVisible: boolean,\n        existingAxisProperties: CartesianAxisProperties): CartesianAxisProperties {\n        debug.assertValue(layers, 'layers');\n\n        var visualOptions: MekkoCalculateScaleAndDomainOptions = {\n            viewport: viewport,\n            margin: margin,\n            forcedXDomain: [categoryAxisProperties ? categoryAxisProperties['start'] : null, categoryAxisProperties ? categoryAxisProperties['end'] : null],\n            forceMerge: valueAxisProperties && valueAxisProperties['secShow'] === false,\n            showCategoryAxisLabel: false,\n            showValueAxisLabel: false,\n            categoryAxisScaleType: categoryAxisProperties && categoryAxisProperties['axisScale'] != null ? <string>categoryAxisProperties['axisScale'] : axisScale.linear,\n            valueAxisScaleType: valueAxisProperties && valueAxisProperties['axisScale'] != null ? <string>valueAxisProperties['axisScale'] : axisScale.linear,\n            trimOrdinalDataOnOverflow: false\n        };\n\n        var yAxisWillMerge = false;\n\n        if (valueAxisProperties) {\n            visualOptions.forcedYDomain = AxisHelper.applyCustomizedDomain([valueAxisProperties['start'], valueAxisProperties['end']], visualOptions.forcedYDomain);\n        }\n\n        var result: CartesianAxisProperties;\n        for (var layerNumber: number = 0, len: number = layers.length; layerNumber < len; layerNumber++) {\n            var currentlayer = layers[layerNumber];\n            visualOptions.showCategoryAxisLabel = (!!categoryAxisProperties && !!categoryAxisProperties['showAxisTitle']);//here\n            //visualOptions.showBorder = (!!categoryAxisProperties && !!categoryAxisProperties['showBorder']);//here\n            visualOptions.showValueAxisLabel = shouldShowYAxisLabel(layerNumber, valueAxisProperties, yAxisWillMerge);\n\n            var axes = currentlayer.calculateAxesProperties(visualOptions);\n\n            if (layerNumber === 0) {\n                result = {\n                    x: axes[0],\n                    y1: axes[1]\n                };\n            }\n\n            result.x.willLabelsFit = false;\n            result.x.willLabelsWordBreak = false;\n        }\n\n        return result;\n    }\n\n    export function createLayers(\n        type: MekkoChartType,\n        objects: DataViewObjects,\n        interactivityService: IInteractivityService,\n        animator?: any,\n        isScrollable: boolean = true): IMekkoColumnChartVisual[] {\n\n        var layers: IMekkoColumnChartVisual[] = [];\n\n        var cartesianOptions: CartesianVisualConstructorOptions = {\n            isScrollable: isScrollable,\n            animator: animator,\n            interactivityService: interactivityService\n        };\n\n        layers.push(createMekkoChartLayer(ColumnChartType.hundredPercentStackedColumn, cartesianOptions));\n\n        return layers;\n    }\n\n    function createMekkoChartLayer(type: ColumnChartType, defaultOptions: CartesianVisualConstructorOptions): MekkoColumnChart {\n        var options: ColumnChartConstructorOptions = {\n            animator: <IColumnChartAnimator>defaultOptions.animator,\n            interactivityService: defaultOptions.interactivityService,\n            isScrollable: defaultOptions.isScrollable,\n            chartType: type\n        };\n        return new MekkoColumnChart(options);\n    }\n\n    import EnumExtensions = jsCommon.EnumExtensions;\n    import ArrayExtensions = jsCommon.ArrayExtensions;\n\n    var flagBar: number = 1 << 1;\n    //var flagColumn: number = 1 << 2;\n    var flagStacked: number = 1 << 4;\n\n    var RoleNames = {\n        category: 'Category',\n        series: 'Series',\n        y: 'Y',\n        width: 'Width'\n    };\n\n    /**\n     * Renders a stacked and clustered column chart.\n     */\n    export interface IMekkoColumnChartVisual /*extends ICartesianVisual*/ {\n        getColumnsWidth(): number[];\n        getBorderWidth(): number;\n\n\t\tinit(options: CartesianVisualInitOptions): void;\n        setData(dataViews: DataView[], resized?: boolean): void;\n        calculateAxesProperties(options: CalculateScaleAndDomainOptions): IAxisProperties[];\n        overrideXScale(xProperties: IAxisProperties): void;\n        render(suppressAnimations: boolean): MekkoVisualRenderResult;\n        calculateLegend(): LegendData;\n        hasLegend(): boolean;\n        onClearSelection(): void;\n        enumerateObjectInstances?(enumeration: ObjectEnumerationBuilder, options: EnumerateVisualObjectInstancesOptions): void;\n        getVisualCategoryAxisIsScalar?(): boolean;\n        getSupportedCategoryAxisType?(): string;\n        getPreferredPlotArea?(isScalar: boolean, categoryCount: number, categoryThickness: number): IViewport;\n        setFilteredData?(startIndex: number, endIndex: number): CartesianData;\n    }\n\n    export interface IMekkoColumnChartStrategy /*extends IColumnChartStrategy*/ {\n\t\tdrawColumns(useAnimation: boolean): MekkoColumnChartDrawInfo;\n\n\t\tsetData(data: ColumnChartData): void;\n        setupVisualProps(columnChartProps: ColumnChartContext): void;\n        setXScale(is100Pct: boolean, forcedTickCount?: number, forcedXDomain?: any[], axisScaleType?: string, axisDisplayUnits?: number, axisPrecision?: number): IAxisProperties;\n        setYScale(is100Pct: boolean, forcedTickCount?: number, forcedYDomain?: any[], axisScaleType?: string, axisDisplayUnits?: number, axisPrecision?: number): IAxisProperties;\n\n        selectColumn(selectedColumnIndex: number, lastSelectedColumnIndex: number): void;\n        getClosestColumnIndex(x: number, y: number): number;\n    }\n\n    export class MekkoColumnChart implements IMekkoColumnChartVisual {\n        private static ColumnChartClassName = 'columnChart';\n\n        public static SeriesClasses: ClassAndSelector = createClassAndSelector(\"series\");\n        public static BorderClass: ClassAndSelector = createClassAndSelector(\"mekkoborder\");\n\n        private svg: D3.Selection;\n        private unclippedGraphicsContext: D3.Selection;\n        private mainGraphicsContext: D3.Selection;\n        private labelGraphicsContext: D3.Selection;\n        private xAxisProperties: IAxisProperties;\n        private yAxisProperties: IAxisProperties;\n        private currentViewport: IViewport;\n        private data: MekkoColumnChartData;\n        private style: IVisualStyle;\n        private colors: IDataColorPalette;\n        private chartType: ColumnChartType;\n        private columnChart: IMekkoColumnChartStrategy;\n        private hostService: IVisualHostServices;\n        private cartesianVisualHost: ICartesianVisualHost;\n        private interactivity: InteractivityOptions;\n        private margin: IMargin;\n        private options: CartesianVisualInitOptions;\n        private lastInteractiveSelectedColumnIndex: number;\n        private supportsOverflow: boolean;\n        private interactivityService: IInteractivityService;\n        private dataViewCat: DataViewCategorical;\n        private categoryAxisType: string;\n        private animator: IColumnChartAnimator;\n        private isScrollable: boolean;\n        private element: JQuery;\n\n        constructor(options: ColumnChartConstructorOptions) {\n            debug.assertValue(options, 'options');\n\n            var chartType: ColumnChartType = options.chartType;\n            debug.assertValue(chartType, 'chartType');\n            this.chartType = chartType;\n            this.categoryAxisType = null;\n            this.animator = options.animator;\n            this.isScrollable = options.isScrollable;\n            this.interactivityService = options.interactivityService;\n        }\n\n        public init(options: CartesianVisualInitOptions) {\n            this.svg = options.svg;\n            this.unclippedGraphicsContext = this.svg.append('g').classed('columnChartUnclippedGraphicsContext', true);\n            this.mainGraphicsContext = this.unclippedGraphicsContext.append('svg').classed('columnChartMainGraphicsContext', true);\n            this.labelGraphicsContext = this.svg.append('g').classed(NewDataLabelUtils.labelGraphicsContextClass.class, true);\n\n            this.style = options.style;\n            this.currentViewport = options.viewport;\n            this.hostService = options.host;\n            this.interactivity = options.interactivity;\n            this.colors = this.style.colorPalette.dataColors;\n            this.cartesianVisualHost = options.cartesianHost;\n            this.options = options;\n            this.supportsOverflow = !EnumExtensions.hasFlag(this.chartType, flagStacked);\n            var element = this.element = options.element;\n            element.addClass(MekkoColumnChart.ColumnChartClassName);\n\n            this.columnChart = new MekkoColumnChartStrategy();\n        }\n\n        private getCategoryLayout(numCategoryValues: number, options: MekkoCalculateScaleAndDomainOptions): CategoryLayout {\n            var availableWidth: number = this.currentViewport.width - (this.margin.left + this.margin.right);\n            var metaDataColumn = this.data ? this.data.categoryMetadata : undefined;\n            var categoryDataType: ValueType = AxisHelper.getCategoryValueType(metaDataColumn);\n            var isScalar = this.data ? this.data.scalarCategoryAxis : false;\n            var domain = AxisHelper.createDomain(this.data.series, categoryDataType, isScalar, options.forcedXDomain);\n\n            return CartesianChart.getLayout(\n                this.data,\n                {\n                    availableWidth: availableWidth,\n                    categoryCount: numCategoryValues,\n                    domain: domain,\n                    isScalar: isScalar,\n                    isScrollable: this.isScrollable,\n                    trimOrdinalDataOnOverflow: false\n                });\n        }\n\n        public static getBorderWidth(border: MekkoBorderSettings) {\n            if (!border ||\n                !border.show ||\n                !border.width) {\n                return 0;\n            }\n\n            var width: number = border.width;\n\n            if (width < 0) {\n                return 0;\n            }\n            if (width > border.maxWidth) {\n                return border.maxWidth;\n            }\n\n            return width;\n        }\n\n        public static getBorderColor(border: MekkoBorderSettings) {\n            if (!border) {\n                return MekkoChart.DefaultSettings.columnBorder.color;\n            }\n            return border.color;\n        }\n\n        public static converter(dataView: DataViewCategorical,\n                                colors: IDataColorPalette,\n                                is100PercentStacked: boolean = false,\n                                isScalar: boolean = false,\n                                supportsOverflow: boolean = false,\n                                dataViewMetadata: DataViewMetadata = null,\n                                chartType?: ColumnChartType): MekkoColumnChartData {\n            debug.assertValue(dataView, 'dataView');\n            debug.assertValue(colors, 'colors');\n\n            var xAxisCardProperties = CartesianHelper.getCategoryAxisProperties(dataViewMetadata);\n            var valueAxisProperties = CartesianHelper.getValueAxisProperties(dataViewMetadata);\n            isScalar = CartesianHelper.isScalar(isScalar, xAxisCardProperties);\n            dataView = ColumnUtil.applyUserMinMax(isScalar, dataView, xAxisCardProperties);\n\n            var converterStrategy = new ColumnChartConverterHelper(dataView);\n\n            var categoryInfo = converterHelper.getPivotedCategories(dataView, columnChartProps.general.formatString);\n            var categories = categoryInfo.categories,\n                categoryFormatter: IValueFormatter = categoryInfo.categoryFormatter,\n                categoryIdentities: DataViewScopeIdentity[] = categoryInfo.categoryIdentities,\n                categoryMetadata: DataViewMetadataColumn = dataView.categories && dataView.categories.length > 0 ? dataView.categories[0].source : undefined;\n            //labelFormatString: string = dataView.values && dataView.values[0] ? valueFormatter.getFormatString(dataView.values[0].source, columnChartProps.general.formatString) : undefined;\n\n            var borderSettings: MekkoBorderSettings = MekkoChart.DefaultSettings.columnBorder;\n            var labelSettings: VisualDataLabelsSettings = dataLabelUtils.getDefaultColumnLabelSettings(true);\n\n            var defaultDataPointColor = undefined;\n            var showAllDataPoints = undefined;\n            if (dataViewMetadata && dataViewMetadata.objects) {\n                var objects = dataViewMetadata.objects;\n\n                defaultDataPointColor = DataViewObjects.getFillColor(objects, columnChartProps.dataPoint.defaultColor);\n                showAllDataPoints = DataViewObjects.getValue<boolean>(objects, columnChartProps.dataPoint.showAllDataPoints);\n\n                labelSettings = MekkoChart.parseLabelSettings(objects);\n                borderSettings = MekkoChart.parseBorderSettings(objects);\n            }\n\n            // Allocate colors\n            var legendAndSeriesInfo = converterStrategy.getLegend(colors, defaultDataPointColor);\n            var legend: MekkoLegendDataPoint[] = legendAndSeriesInfo.legend.dataPoints;\n            var seriesSources: DataViewMetadataColumn[] = legendAndSeriesInfo.seriesSources;\n\n            // Determine data points\n            var result: MekkoDataPoints = MekkoColumnChart.createDataPoints(\n                dataView,\n                categories,\n                categoryIdentities,\n                legend,\n                legendAndSeriesInfo.seriesObjects,\n                converterStrategy,\n                labelSettings,\n                is100PercentStacked,\n                isScalar,\n                supportsOverflow,\n                converterHelper.categoryIsAlsoSeriesRole(dataView, RoleNames.series, RoleNames.category),\n                categoryInfo.categoryObjects,\n                defaultDataPointColor,\n                chartType,\n                categoryMetadata);\n            var columnSeries: ColumnChartSeries[] = result.series;\n\n            var valuesMetadata: DataViewMetadataColumn[] = [];\n            for (var j = 0, jlen = legend.length; j < jlen; j++) {\n                valuesMetadata.push(seriesSources[j]);\n            }\n\n            var labels = converterHelper.createAxesLabels(xAxisCardProperties, valueAxisProperties, categoryMetadata, valuesMetadata);\n\n            return {\n                categories: categories,\n                categoriesWidth: result.categoriesWidth,\n                categoryFormatter: categoryFormatter,\n                series: columnSeries,\n                valuesMetadata: valuesMetadata,\n                legendData: legendAndSeriesInfo.legend,\n                hasHighlights: result.hasHighlights,\n                categoryMetadata: categoryMetadata,\n                scalarCategoryAxis: isScalar,\n                borderSettings: borderSettings,\n                labelSettings: labelSettings,\n                axesLabels: { x: labels.xAxisLabel, y: labels.yAxisLabel },\n                hasDynamicSeries: result.hasDynamicSeries,\n                defaultDataPointColor: defaultDataPointColor,\n                showAllDataPoints: showAllDataPoints,\n                isMultiMeasure: false,\n            };\n        }\n\n        private static getStackedMultiplier(\n            rawValues: number[][],\n            rowIdx: number,\n            seriesCount: number,\n            categoryCount: number): ValueMultiplers {\n\n            var pos: number = 0,\n                neg: number = 0;\n\n            for (var i = 0; i < seriesCount; i++) {\n                var value: number = rawValues[i][rowIdx];\n                value = AxisHelper.normalizeNonFiniteNumber(value);\n\n                if (value > 0) {\n                    pos += value;\n                } else if (value < 0) {\n                    neg -= value;\n                }\n            }\n\n            var absTotal: number = pos + neg;\n            return {\n                pos: pos ? (pos / absTotal) / pos : 1,\n                neg: neg ? (neg / absTotal) / neg : 1,\n            };\n        }\n\n        private static createDataPoints(\n            dataViewCat: DataViewCategorical,\n            categories: any[],\n            categoryIdentities: DataViewScopeIdentity[],\n            legend: MekkoLegendDataPoint[],\n            seriesObjectsList: DataViewObjects[][],\n            converterStrategy: ColumnChartConverterHelper,\n\n            defaultLabelSettings: VisualDataLabelsSettings,\n            is100PercentStacked: boolean = false,\n            isScalar: boolean = false,\n            supportsOverflow: boolean = false,\n            isCategoryAlsoSeries?: boolean,\n            categoryObjectsList?: DataViewObjects[],\n            defaultDataPointColor?: string,\n            chartType?: ColumnChartType,\n            categoryMetadata?: DataViewMetadataColumn): MekkoDataPoints {\n\n            var grouped = dataViewCat && dataViewCat.values ? dataViewCat.values.grouped() : undefined;\n\n            var categoryCount = categories.length;\n            var seriesCount = legend.length;\n            var columnSeries: ColumnChartSeries[] = [];\n\n            if (seriesCount < 1 || categoryCount < 1 || categories[0] === null) {\n                return { series: columnSeries,\n                         hasHighlights: false,\n                         hasDynamicSeries: false,\n                         categoriesWidth: [],\n                        };\n\t\t\t}\n\n            var dvCategories = dataViewCat.categories;\n            categoryMetadata = (dvCategories && dvCategories.length > 0)\n                ? dvCategories[0].source\n                : null;\n            var categoryType = AxisHelper.getCategoryValueType(categoryMetadata);\n            var isDateTime = AxisHelper.isDateTime(categoryType);\n            var baseValuesPos = [], baseValuesNeg = [];\n\n            var rawValues: number[][] = [];\n            var rawHighlightValues: number[][] = [];\n\n            var hasDynamicSeries = !!(dataViewCat.values && dataViewCat.values.source);\n            var widthColumns: number[] = [];\n            var widthIndex = -1;\n\n\t\t\tvar seriesIndex: number = 0;\n            var highlightsOverflow = false; // Overflow means the highlight larger than value or the signs being different\n            var hasHighlights = converterStrategy.hasHighlightValues(0);\n            for (seriesIndex = 0; seriesIndex < dataViewCat.values.length; seriesIndex++) {\n                if (dataViewCat.values[seriesIndex].source.roles &&\n                    dataViewCat.values[seriesIndex].source.roles[RoleNames.width] &&\n                    !dataViewCat.values[seriesIndex].source.roles[RoleNames.y]) {\n\n                    widthIndex = seriesIndex;\n                    var widthValues: number[] = dataViewCat.values[seriesIndex].values;\n                    for (var i: number = 0, valuesLen = widthValues.length; i < valuesLen; i++) {\n                        widthColumns[i] = d3.sum([0, widthColumns[i], widthValues[i]]);\n                    }\n                    continue;\n                }\n                var seriesValues = [];\n                var seriesHighlightValues = [];\n                for (var categoryIndex: number = 0; categoryIndex < categoryCount; categoryIndex++) {\n                    var value = converterStrategy.getValueBySeriesAndCategory(seriesIndex, categoryIndex);\n                    seriesValues[categoryIndex] = value;\n                    if (hasHighlights) {\n                        var highlightValue = converterStrategy.getHighlightBySeriesAndCategory(seriesIndex, categoryIndex);\n                        seriesHighlightValues[categoryIndex] = highlightValue;\n                        // There are two cases where we don't use overflow logic; if all are false, use overflow logic appropriate for the chart.\n                        if (!((value >= 0 && highlightValue >= 0 && value >= highlightValue) || // Both positive; value greater than highlight\n                            (value <= 0 && highlightValue <= 0 && value <= highlightValue))) { // Both negative; value less than highlight\n                            highlightsOverflow = true;\n                        }\n                    }\n                }\n                rawValues.push(seriesValues);\n                if (hasHighlights) {\n                    rawHighlightValues.push(seriesHighlightValues);\n                }\n            }\n\n\t\t\t//console.log(dataViewCat);\n\n            if (highlightsOverflow && !supportsOverflow) {\n                highlightsOverflow = false;\n                hasHighlights = false;\n                rawValues = rawHighlightValues;\n            }\n\n            if (widthColumns.length < 1) {\n                for (seriesIndex = 0; seriesIndex < dataViewCat.values.length; seriesIndex++) {\n                    if (dataViewCat.values[seriesIndex].source.roles &&\n                        dataViewCat.values[seriesIndex].source.roles[RoleNames.width]) {\n\n                        widthIndex = seriesIndex;\n                        var widthValues: number[] = dataViewCat.values[seriesIndex].values;\n                        for (var i: number = 0, valuesLen: number = widthValues.length; i < valuesLen; i++) {\n                            widthColumns[i] = d3.sum([0, widthColumns[i], widthValues[i]]);\n                        }\n                        continue;\n                    }\n                }\n            }\n\n            if (widthColumns.length < 1) {\n                for (seriesIndex = 0; seriesIndex < categoryCount; seriesIndex++) {\n                    widthColumns.push(1);\n                }\n            }\n\n            var totalSum: number = d3.sum(widthColumns);\n            var linearScale = d3.scale.linear()\n                .domain([0, totalSum])\n                .range([0, 1]);\n\n            var columnStartX: number[] = [0];\n            var columnWidth: number[] = [];\n            for (seriesIndex = 0; seriesIndex < (categoryCount - 1); seriesIndex++) {\n                var stepWidth: number = columnStartX[columnStartX.length - 1] + (widthColumns[seriesIndex] || 0);\n                columnStartX.push(stepWidth);\n            }\n\n            for (seriesIndex = 0; seriesIndex < categoryCount; seriesIndex++) {\n                columnStartX[seriesIndex] = linearScale(columnStartX[seriesIndex]);\n                columnWidth[seriesIndex] = linearScale(widthColumns[seriesIndex]);\n            }\n\n            var dataPointObjects: DataViewObjects[] = categoryObjectsList,\n                formatStringProp = columnChartProps.general.formatString;\n            for (seriesIndex = 0; seriesIndex < seriesCount; seriesIndex++) {\n                var seriesDataPoints: ColumnChartDataPoint[] = [],\n                    legendItem = legend[seriesIndex],\n                    seriesLabelSettings: VisualDataLabelsSettings;\n\n                if (!hasDynamicSeries) {\n                    var labelsSeriesGroup = grouped && grouped.length > 0 && grouped[0].values ? grouped[0].values[seriesIndex] : null;\n                    var labelObjects = (labelsSeriesGroup && labelsSeriesGroup.source && labelsSeriesGroup.source.objects) ? <DataLabelObject>labelsSeriesGroup.source.objects['labels'] : null;\n                    if (labelObjects) {\n                        seriesLabelSettings = Prototype.inherit(defaultLabelSettings);\n                        dataLabelUtils.updateLabelSettingsFromLabelsObject(labelObjects, seriesLabelSettings);\n                    }\n                }\n\n                var series: ColumnChartSeries = {\n                    displayName: legendItem.label,\n                    key: 'series' + seriesIndex,\n                    index: seriesIndex,\n                    data: seriesDataPoints,\n                    identity: legendItem.identity,\n                    color: legendItem.color,\n                    labelSettings: seriesLabelSettings,\n                };\n\n                if (seriesCount > 1) {\n                    dataPointObjects = seriesObjectsList[seriesIndex];\n                }\n                var metadata = dataViewCat.values[seriesIndex].source;\n\n                for (var categoryIndex = 0; categoryIndex < categoryCount; categoryIndex++) {\n                    if (seriesIndex === 0) {\n                        baseValuesPos.push(0);\n                        baseValuesNeg.push(0);\n                    }\n\n                    var value = AxisHelper.normalizeNonFiniteNumber(rawValues[seriesIndex][categoryIndex]);\n                    if (value == null) {\n                        // Optimization: Ignore null dataPoints from the fabricated category/series combination in the self cross-join.\n                        // However, we must retain the first series because it is used to compute things like axis scales, and value lookups.\n                        if (seriesIndex > 0) {\n                            continue;\n                        }\n                    }\n\n                    var originalValue: number = value;\n                    var categoryValue = categories[categoryIndex];\n                    if (isDateTime && categoryValue) {\n                        categoryValue = categoryValue.getTime();\n                    }\n                    if (isScalar && (categoryValue == null || isNaN(categoryValue))) {\n                        continue;\n                    }\n\n                    var multipliers: ValueMultiplers;\n                    if (is100PercentStacked) {\n                        //multipliers = StackedUtil.getStackedMultiplier(dataViewCat, categoryIndex, seriesCount, categoryCount, converterStrategy);\n                        multipliers = MekkoColumnChart.getStackedMultiplier(rawValues, categoryIndex, seriesCount, categoryCount);\n                    }\n                    var unadjustedValue = value,\n                        isNegative = value < 0;\n\n                    if (multipliers) {\n                        if (isNegative) {\n                            value *= multipliers.neg;\n                        } else {\n                            value *= multipliers.pos;\n                        }\n                    }\n\n                    var valueAbsolute = Math.abs(value);\n                    var position: number;\n                    if (isNegative) {\n                        position = baseValuesNeg[categoryIndex];\n\n                        if (!isNaN(valueAbsolute)) {\n                            baseValuesNeg[categoryIndex] -= valueAbsolute;\n                        }\n                    }\n                    else {\n                        if (!isNaN(valueAbsolute)) {\n                            baseValuesPos[categoryIndex] += valueAbsolute;\n                        }\n\n                        position = baseValuesPos[categoryIndex];\n                    }\n\n                    var columnGroup: DataViewValueColumnGroup = grouped && grouped.length > seriesIndex && grouped[seriesIndex].values ? grouped[seriesIndex] : null;\n                    var category: DataViewCategoryColumn = dataViewCat.categories && dataViewCat.categories.length > 0 ? dataViewCat.categories[0] : null;\n                    var identity = SelectionIdBuilder.builder()\n                        .withCategory(category, categoryIndex)\n                        .withSeries(dataViewCat.values, columnGroup)\n                        .withMeasure(converterStrategy.getMeasureNameByIndex(seriesIndex))\n                        .createSelectionId();\n\n                    var rawCategoryValue = categories[categoryIndex];\n                    var color = MekkoColumnChart.getDataPointColor(legendItem, categoryIndex, dataPointObjects);\n\n                    var seriesData: TooltipSeriesDataItem[] = [];\n\n                    if (columnGroup) {\n\n                        var seriesValueColumn: DataViewValueColumn = {\n                            values: [],\n                            source: dataViewCat.values.source,\n                        };\n                        seriesData.push({\n                            value: columnGroup.name,\n                            metadata: seriesValueColumn,\n                        });\n\n                        for (var columnIndex: number = 0; columnIndex < columnGroup.values.length; columnIndex++) {\n                            var columnValues: DataViewValueColumn = columnGroup.values[columnIndex];\n                            seriesData.push({\n                                value: columnValues.values[categoryIndex],\n                                metadata: columnValues,\n                            });\n                        }\n                    }\n\n                    var tooltipInfo: TooltipDataItem[] = TooltipBuilder.createTooltipInfo(formatStringProp, null/*dataViewCat*/, rawCategoryValue, originalValue, [category], seriesData, null/*seriesIndex*/, categoryIndex);\n\n                    var dataPointLabelSettings = (series && series.labelSettings) ? series.labelSettings : defaultLabelSettings;\n                    var labelColor = dataPointLabelSettings.labelColor;\n                    var lastValue = undefined;\n                    //Stacked column/bar label color is white by default (except last series)\n                    if ((EnumExtensions.hasFlag(chartType, flagStacked))) {\n                        lastValue = this.getStackedLabelColor(isNegative, seriesIndex, seriesCount, categoryIndex, rawValues);\n                        labelColor = (lastValue || (seriesIndex === seriesCount - 1 && !isNegative)) ? labelColor : dataLabelUtils.defaultInsideLabelColor;\n                    }\n\n                    value = columnWidth[categoryIndex];\n                    var originalPosition: number = columnStartX[categoryIndex];\n\n                    var dataPoint: ColumnChartDataPoint = {\n                        categoryValue: categoryValue,\n                        value: value,\n                        position: position,\n                        valueAbsolute: valueAbsolute,\n                        valueOriginal: unadjustedValue,\n                        seriesIndex: seriesIndex,\n                        labelSettings: dataPointLabelSettings,\n                        categoryIndex: categoryIndex,\n                        color: color,\n                        selected: false,\n                        originalValue: value,\n                        originalPosition: originalPosition,//position,\n                        originalValueAbsolute: valueAbsolute,\n                        identity: identity,\n                        key: identity.getKey(),\n                        tooltipInfo: tooltipInfo,\n                        labelFill: labelColor,\n                        labelFormatString: metadata.format,\n                        lastSeries: lastValue,\n                        chartType: chartType,\n                    };\n\n                    seriesDataPoints.push(dataPoint);\n\n                    if (hasHighlights) {\n                        var valueHighlight = rawHighlightValues[seriesIndex][categoryIndex];\n                        var unadjustedValueHighlight = valueHighlight;\n\n                        var highlightedTooltip: boolean = true;\n                        if (valueHighlight === null) {\n                            valueHighlight = 0;\n                            highlightedTooltip = false;\n                        }\n\n                        if (is100PercentStacked) {\n                            valueHighlight *= multipliers.pos;\n                        }\n                        var absoluteValueHighlight = Math.abs(valueHighlight);\n                        var highlightPosition = position;\n\n                        if (valueHighlight > 0) {\n                            highlightPosition -= valueAbsolute - absoluteValueHighlight;\n                        }\n                        else if (valueHighlight === 0 && value > 0) {\n                            highlightPosition -= valueAbsolute;\n                        }\n\n                        var highlightIdentity = SelectionId.createWithHighlight(identity);\n                        var rawCategoryValue = categories[categoryIndex];\n                        //var highlightedValue: number = highlightedTooltip ? valueHighlight : undefined;\n                        //var tooltipInfo: TooltipDataItem[] = TooltipBuilder.createTooltipInfo(formatStringProp, dataViewCat, rawCategoryValue, originalValue, null, null, seriesIndex, categoryIndex, highlightedValue);\n\n                        if (highlightedTooltip) {\n                            // Override non highlighted data point\n                            dataPoint.tooltipInfo = tooltipInfo;\n                        }\n\n                        var highlightDataPoint: ColumnChartDataPoint = {\n                            categoryValue: categoryValue,\n                            value: value,\n                            position: highlightPosition,\n                            valueAbsolute: absoluteValueHighlight,\n                            valueOriginal: unadjustedValueHighlight,\n                            seriesIndex: seriesIndex,\n                            labelSettings: dataPointLabelSettings,\n                            categoryIndex: categoryIndex,\n                            color: color,\n                            selected: false,\n                            highlight: true,\n                            originalValue: value,\n                            originalPosition: originalPosition,\n                            originalValueAbsolute: valueAbsolute,\n                            drawThinner: highlightsOverflow,\n                            identity: highlightIdentity,\n                            key: highlightIdentity.getKey(),\n                            tooltipInfo: tooltipInfo,\n                            labelFormatString: metadata.format,\n                            labelFill: labelColor,\n                            lastSeries: lastValue,\n                            chartType: chartType,\n                        };\n\n                        seriesDataPoints.push(highlightDataPoint);\n                    }\n                }\n\n                columnSeries.push(series);\n            }\n\n            return {\n                series: columnSeries,\n                categoriesWidth: columnWidth,\n                hasHighlights: hasHighlights,\n                hasDynamicSeries: hasDynamicSeries,\n            };\n        }\n\n        private static getDataPointColor(\n            legendItem: MekkoLegendDataPoint,\n            categoryIndex: number,\n            dataPointObjects?: DataViewObjects[]): string {\n            debug.assertValue(legendItem, 'legendItem');\n            debug.assertValue(categoryIndex, 'categoryIndex');\n            debug.assertAnyValue(dataPointObjects, 'dataPointObjects');\n\n            if (dataPointObjects) {\n                var colorOverride = DataViewObjects.getFillColor(dataPointObjects[categoryIndex], columnChartProps.dataPoint.fill);\n                if (colorOverride) {\n                    return colorOverride;\n                }\n            }\n\n            return legendItem.color;\n        }\n\n        private static getStackedLabelColor(isNegative: boolean, seriesIndex: number, seriesCount: number, categoryIndex: number, rawValues: number[][]): boolean {\n            var lastValue = !(isNegative && seriesIndex === seriesCount - 1 && seriesCount !== 1);\n            //run for the next series and check if current series is last\n            for (var i: number = seriesIndex + 1; i < seriesCount; i++) {\n                var nextValues: number = AxisHelper.normalizeNonFiniteNumber(rawValues[i][categoryIndex]);\n                if ((nextValues !== null) && (((!isNegative || (isNegative && seriesIndex === 0)) && nextValues > 0) || (isNegative && seriesIndex !== 0))) {\n                    lastValue = false;\n                    break;\n                }\n            }\n            return lastValue;\n        }\n\n        public static sliceSeries(series: ColumnChartSeries[], endIndex: number, startIndex: number = 0): ColumnChartSeries[] {\n            var newSeries: ColumnChartSeries[] = [];\n            if (series && series.length > 0) {\n                for (var i = 0, len = series.length; i < len; i++) {\n                    var iNewSeries = newSeries[i] = Prototype.inherit(series[i]);\n                    iNewSeries.data = series[i].data.filter(d => d.categoryIndex >= startIndex && d.categoryIndex < endIndex);\n                }\n            }\n            return newSeries;\n        }\n        public static getInteractiveColumnChartDomElement(element: JQuery): HTMLElement {\n            return element.children(\"svg\").get(0);\n        }\n\n        public getColumnsWidth(): number[] {\n            var data: MekkoColumnChartData = this.data;\n            if (!data ||\n                !data.series ||\n                !data.series[0] ||\n                !data.series[0].data) {\n                return [];\n            }\n\n            return data.categoriesWidth;\n        }\n\n        public getBorderWidth(): number {\n            return MekkoColumnChart.getBorderWidth(this.data.borderSettings);\n        }\n\n        public setData(dataViews: DataView[]): void {\n            debug.assertValue(dataViews, \"dataViews\");\n            var is100PctStacked: boolean = true;\n            this.data = {\n                categories: [],\n                categoriesWidth: [],\n                categoryFormatter: null,\n                series: [],\n                valuesMetadata: [],\n                legendData: null,\n                hasHighlights: false,\n                categoryMetadata: null,\n                scalarCategoryAxis: false,\n                borderSettings: null,\n                labelSettings: dataLabelUtils.getDefaultColumnLabelSettings(is100PctStacked),\n                axesLabels: { x: null, y: null },\n                hasDynamicSeries: false,\n                defaultDataPointColor: null,\n                isMultiMeasure: false,\n            };\n\n            if (dataViews.length > 0) {\n                var dataView = dataViews[0];\n\n                if (dataView && dataView.categorical) {\n                    var dataViewCat = this.dataViewCat = dataView.categorical;\n                    /*\n                    var dvCategories = dataViewCat.categories;\n                    var categoryMetadata = (dvCategories && dvCategories.length > 0)\n                        ? dvCategories[0].source\n                        : null;\n                    var categoryType = AxisHelper.getCategoryValueType(categoryMetadata);\n                    */\n                    this.data = MekkoColumnChart.converter(\n                        dataViewCat,\n                        this.cartesianVisualHost.getSharedColors(),\n                        true,//s100PctStacked,\n                        false,//CartesianChart.getIsScalar(dataView.metadata ? dataView.metadata.objects : null, columnChartProps.categoryAxis.axisType, categoryType),\n                        this.supportsOverflow,\n                        dataView.metadata,\n                        this.chartType);\n\n                    var series: ColumnChartSeries[] = this.data.series;\n                    for (var i: number = 0, ilen: number = series.length; i < ilen; i++) {\n                        var currentSeries: ColumnChartSeries = series[i];\n                        if (this.interactivityService) {\n                            this.interactivityService.applySelectionStateToData(currentSeries.data);\n                        }\n                    }\n                }\n            }\n        }\n\n        public calculateLegend(): LegendData {\n            // if we're in interactive mode, return the interactive legend\n            if (this.interactivity && this.interactivity.isInteractiveLegend) {\n                return this.createInteractiveMekkoLegendDataPoints(0);\n            }\n            var legendData = this.data ? this.data.legendData : null;\n            var MekkoLegendDataPoints = legendData ? legendData.dataPoints : [];\n\n            if (ArrayExtensions.isUndefinedOrEmpty(MekkoLegendDataPoints))\n                return null;\n\n            return legendData;\n        }\n\n        public hasLegend(): boolean {\n            return this.data && (this.data.hasDynamicSeries || (this.data.series && this.data.series.length > 1));\n        }\n\n        public enumerateObjectInstances(enumeration: ObjectEnumerationBuilder, options: EnumerateVisualObjectInstancesOptions): void {\n            switch (options.objectName) {\n                case 'dataPoint':\n                    if (!GradientUtils.hasGradientRole(this.dataViewCat))\n                        this.enumerateDataPoints(enumeration);\n                    break;\n                case 'labels':\n                    this.enumerateDataLabels(enumeration);\n                    break;\n            }\n        }\n\n        private enumerateDataLabels(enumeration: ObjectEnumerationBuilder): void {\n            var data = this.data,\n                labelSettings = this.data.labelSettings,\n                seriesCount = data.series.length;\n\n            //Draw default settings\n            dataLabelUtils.enumerateDataLabels(this.getLabelSettingsOptions(enumeration, labelSettings, false));\n\n            if (seriesCount === 0) {\n                return;\n            }\n\n            //Draw series settings\n            if (!data.hasDynamicSeries && (seriesCount > 1 || !data.categoryMetadata)) {\n                for (var i = 0; i < seriesCount; i++) {\n                    var series: ColumnChartSeries = data.series[i],\n                        labelSettings: VisualDataLabelsSettings = (series.labelSettings) ? series.labelSettings : this.data.labelSettings;\n\n                    //enumeration.pushContainer({ displayName: series.displayName });\n                    dataLabelUtils.enumerateDataLabels(this.getLabelSettingsOptions(enumeration, labelSettings, true, series));\n                    //enumeration.popContainer();\n                }\n            }\n        }\n\n        private getLabelSettingsOptions(enumeration: ObjectEnumerationBuilder, labelSettings: VisualDataLabelsSettings, isSeries: boolean, series?: ColumnChartSeries): VisualDataLabelsSettingsOptions {\n            var is100PctStacked: boolean = true;\n            return {\n                enumeration: enumeration,\n                dataLabelsSettings: labelSettings,\n                show: !isSeries,\n                displayUnits: is100PctStacked,\n                precision: true,\n                selector: series && series.identity ? series.identity.getSelector() : null\n            };\n        }\n\n        private enumerateDataPoints(enumeration: ObjectEnumerationBuilder): void {\n            var data: MekkoColumnChartData = this.data;\n            if (!data || !data.series) {\n                return;\n            }\n\n            var seriesCount = data.series.length;\n\n            if (seriesCount === 0) {\n                return;\n            }\n\n            if (data.hasDynamicSeries || seriesCount > 1 || !data.categoryMetadata) {\n                for (var i: number = 0; i < seriesCount; i++) {\n                    var series: ColumnChartSeries = data.series[i];\n                    enumeration.pushInstance({\n                        objectName: 'dataPoint',\n                        displayName: series.displayName,\n                        selector: ColorHelper.normalizeSelector(series.identity.getSelector()),\n                        properties: {\n                            fill: { solid: { color: series.color } }\n                        },\n                    });\n                }\n            }\n            else {\n                // For single-category, single-measure column charts, the user can color the individual bars.\n                var singleSeriesData: ColumnChartDataPoint[] = data.series[0].data;\n                var categoryFormatter: IValueFormatter = data.categoryFormatter;\n\n                // Add default color and show all slices\n                enumeration.pushInstance({\n                    objectName: 'dataPoint',\n                    selector: null,\n                    properties: {\n                        defaultColor: { solid: { color: data.defaultDataPointColor || this.colors.getColorByIndex(0).value } }\n                    }\n                }).pushInstance({\n                    objectName: 'dataPoint',\n                    selector: null,\n                    properties: {\n                        showAllDataPoints: !!data.showAllDataPoints\n                    }\n                });\n\n                for (var i: number = 0; i < singleSeriesData.length; i++) {\n                    var singleSeriesDataPoints = singleSeriesData[i],\n                        categoryValue: any = data.categories[i];\n                    enumeration.pushInstance({\n                        objectName: 'dataPoint',\n                        displayName: categoryFormatter ? categoryFormatter.format(categoryValue) : categoryValue,\n                        selector: ColorHelper.normalizeSelector(singleSeriesDataPoints.identity.getSelector(), /*isSingleSeries*/true),\n                        properties: {\n                            fill: { solid: { color: singleSeriesDataPoints.color } }\n                        },\n                    });\n                }\n            }\n        }\n\n        public calculateAxesProperties(options: MekkoCalculateScaleAndDomainOptions): IAxisProperties[] {\n            var data: MekkoColumnChartData = this.data;\n            this.currentViewport = options.viewport;\n            var margin: IMargin = this.margin = options.margin;\n\n            var origCatgSize = (data && data.categories) ? data.categories.length : 0;\n            var chartLayout: CategoryLayout = data ? this.getCategoryLayout(origCatgSize, options) : {\n                categoryCount: 0,\n                categoryThickness: CartesianChart.MinOrdinalRectThickness,\n                outerPaddingRatio: CartesianChart.OuterPaddingRatio,\n                isScalar: false\n            };\n            this.categoryAxisType = chartLayout.isScalar ? axisType.scalar : null;\n            this.columnChart.setData(data);\n\n            var preferredPlotArea = this.getPreferredPlotArea(chartLayout.isScalar, chartLayout.categoryCount, chartLayout.categoryThickness);\n\n            /* preferredPlotArea would be same as currentViewport width when there is no scrollbar.\n             In that case we want to calculate the available plot area for the shapes by subtracting the margin from available viewport */\n            if (preferredPlotArea.width === this.currentViewport.width) {\n                preferredPlotArea.width -= (margin.left + margin.right);\n            }\n            preferredPlotArea.height -= (margin.top + margin.bottom);\n\n            var is100Pct: boolean = true;\n\n            // When the category axis is scrollable the height of the category axis and value axis will be different\n            // The height of the value axis would be same as viewportHeight\n            var chartContext: MekkoColumnChartContext = {\n                height: preferredPlotArea.height,\n                width: preferredPlotArea.width,\n                duration: 0,\n                hostService: this.hostService,\n                unclippedGraphicsContext: this.unclippedGraphicsContext,\n                mainGraphicsContext: this.mainGraphicsContext,\n                labelGraphicsContext: this.labelGraphicsContext,\n                margin: this.margin,\n                layout: chartLayout,\n                animator: this.animator,\n                interactivityService: this.interactivityService,\n                viewportHeight: this.currentViewport.height - (margin.top + margin.bottom),\n                viewportWidth: this.currentViewport.width - (margin.left + margin.right),\n                is100Pct: is100Pct,\n                isComboChart: true,\n            };\n            this.ApplyInteractivity(chartContext);\n            this.columnChart.setupVisualProps(chartContext);\n\n            var isBarChart = EnumExtensions.hasFlag(this.chartType, flagBar);\n\n            if (isBarChart) {\n                var temp = options.forcedXDomain;\n                options.forcedXDomain = options.forcedYDomain;\n                options.forcedYDomain = temp;\n            }\n\n            this.xAxisProperties = this.columnChart.setXScale(is100Pct, options.forcedTickCount, options.forcedXDomain, isBarChart ? options.valueAxisScaleType : options.categoryAxisScaleType);\n            this.yAxisProperties = this.columnChart.setYScale(is100Pct, options.forcedTickCount, options.forcedYDomain, isBarChart ? options.categoryAxisScaleType : options.valueAxisScaleType);\n\n            if (options.showCategoryAxisLabel && this.xAxisProperties.isCategoryAxis || options.showValueAxisLabel && !this.xAxisProperties.isCategoryAxis) {\n                this.xAxisProperties.axisLabel = data.axesLabels.x;\n            }\n            else {\n                this.xAxisProperties.axisLabel = null;\n            }\n            if (options.showValueAxisLabel && !this.yAxisProperties.isCategoryAxis || options.showCategoryAxisLabel && this.yAxisProperties.isCategoryAxis) {\n                this.yAxisProperties.axisLabel = data.axesLabels.y;\n            }\n            else {\n                this.yAxisProperties.axisLabel = null;\n            }\n\n            return [this.xAxisProperties, this.yAxisProperties];\n        }\n\n        public getPreferredPlotArea(isScalar: boolean, categoryCount: number, categoryThickness: number): IViewport {\n            var viewport: IViewport = {\n                height: this.currentViewport.height,\n                width: this.currentViewport.width\n            };\n\n            if (this.isScrollable && !isScalar) {\n                var preferredWidth = CartesianChart.getPreferredCategorySpan(categoryCount, categoryThickness);\n                if (EnumExtensions.hasFlag(this.chartType, flagBar)) {\n                    viewport.height = Math.max(preferredWidth, viewport.height);\n                }\n                else\n                    viewport.width = Math.max(preferredWidth, viewport.width);\n            }\n            return viewport;\n        }\n\n        private ApplyInteractivity(chartContext: MekkoColumnChartContext): void {\n            var interactivity = this.interactivity;\n            if (interactivity) {\n                if (interactivity.dragDataPoint) {\n                    chartContext.onDragStart = (datum: ColumnChartDataPoint) => {\n                        if (!datum.identity)\n                            return;\n\n                        this.hostService.onDragStart({\n                            event: <any>d3.event,\n                            data: {\n                                data: datum.identity.getSelector()\n                            }\n                        });\n                    };\n                }\n\n                if (interactivity.isInteractiveLegend) {\n                    var dragMove = () => {\n                        var mousePoint = d3.mouse(this.mainGraphicsContext[0][0]); // get the x and y for the column area itself\n                        var x: number = mousePoint[0];\n                        var y: number = mousePoint[1];\n                        var index: number = this.columnChart.getClosestColumnIndex(x, y);\n                        this.selectColumn(index);\n                    };\n\n                    var ColumnChartSvg: EventTarget = ColumnChart.getInteractiveColumnChartDomElement(this.element);\n\n                    //set click interaction on the visual\n                    this.svg.on('click', dragMove);\n                    //set click interaction on the background\n                    d3.select(ColumnChartSvg).on('click', dragMove);\n                    var drag = d3.behavior.drag()\n                        .origin(Object)\n                        .on(\"drag\", dragMove);\n                    //set drag interaction on the visual\n                    this.svg.call(drag);\n                    //set drag interaction on the background\n                    d3.select(ColumnChartSvg).call(drag);\n                }\n            }\n        }\n\n        private selectColumn(indexOfColumnSelected: number, force: boolean = false): void {\n            if (!force && this.lastInteractiveSelectedColumnIndex === indexOfColumnSelected) return; // same column, nothing to do here\n\n            var legendData: LegendData = this.createInteractiveMekkoLegendDataPoints(indexOfColumnSelected);\n            var MekkoLegendDataPoints: MekkoLegendDataPoint[] = legendData.dataPoints;\n            this.cartesianVisualHost.updateLegend(legendData);\n            if (MekkoLegendDataPoints.length > 0) {\n                this.columnChart.selectColumn(indexOfColumnSelected, this.lastInteractiveSelectedColumnIndex);\n            }\n            this.lastInteractiveSelectedColumnIndex = indexOfColumnSelected;\n        }\n\n        private createInteractiveMekkoLegendDataPoints(columnIndex: number): LegendData {\n            var data: MekkoColumnChartData = this.data;\n            if (!data || ArrayExtensions.isUndefinedOrEmpty(data.series)) {\n                return { dataPoints: [] };\n            }\n\n            var formatStringProp = columnChartProps.general.formatString;\n            var MekkoLegendDataPoints: MekkoLegendDataPoint[] = [];\n            var category = data.categories && data.categories[columnIndex];\n            var allSeries: ColumnChartSeries[] = data.series;\n            var dataPoints = data.legendData && data.legendData.dataPoints;\n            var converterStrategy = new ColumnChartConverterHelper(this.dataViewCat);\n\n            for (var i: number = 0, len = allSeries.length; i < len; i++) {\n                var measure = converterStrategy.getValueBySeriesAndCategory(i, columnIndex);\n                var valueMetadata = data.valuesMetadata[i];\n                var formattedLabel = converterHelper.getFormattedLegendLabel(valueMetadata, this.dataViewCat.values, formatStringProp);\n                var dataPointColor: string;\n                if (allSeries.length === 1) {\n                    var series = allSeries[0];\n                    dataPointColor = series.data.length > columnIndex && series.data[columnIndex].color;\n                } else {\n                    dataPointColor = dataPoints.length > i && dataPoints[i].color;\n                }\n\n                MekkoLegendDataPoints.push({\n                    color: dataPointColor,\n                    icon: LegendIcon.Box,\n                    label: formattedLabel,\n                    category: data.categoryFormatter ? data.categoryFormatter.format(category) : category,\n                    measure: valueFormatter.format(measure, valueFormatter.getFormatString(valueMetadata, formatStringProp)),\n                    identity: SelectionId.createNull(),\n                    selected: false,\n                });\n            }\n\n            return { dataPoints: MekkoLegendDataPoints };\n        }\n\n        public overrideXScale(xProperties: IAxisProperties): void {\n            this.xAxisProperties = xProperties;\n        }\n\n        public render(suppressAnimations: boolean): MekkoVisualRenderResult {\n            var MekkoColumnChartDrawInfo = this.columnChart.drawColumns(!suppressAnimations /* useAnimations */);\n            var data: MekkoColumnChartData = this.data;\n\n            var margin = this.margin;\n            var viewport = this.currentViewport;\n            var height = viewport.height - (margin.top + margin.bottom);\n            var width = viewport.width - (margin.left + margin.right);\n\n            this.mainGraphicsContext\n                .attr('height', height)\n                .attr('width', width);\n\n            TooltipManager.addTooltip(MekkoColumnChartDrawInfo.shapesSelection, (tooltipEvent: TooltipEvent) => tooltipEvent.data.tooltipInfo);\n            var allDataPoints: ColumnChartDataPoint[] = [];\n            var behaviorOptions: ColumnBehaviorOptions = undefined;\n            if (this.interactivityService) {\n                for (var i: number = 0, ilen = data.series.length; i < ilen; i++) {\n                    allDataPoints = allDataPoints.concat(data.series[i].data);\n                }\n                behaviorOptions = {\n                    datapoints: allDataPoints,\n                    bars: MekkoColumnChartDrawInfo.shapesSelection,\n                    hasHighlights: data.hasHighlights,\n                    eventGroup: this.mainGraphicsContext,\n                    mainGraphicsContext: this.mainGraphicsContext,\n                    viewport: MekkoColumnChartDrawInfo.viewport,\n                    axisOptions: MekkoColumnChartDrawInfo.axisOptions,\n                    showLabel: data.labelSettings.show\n                };\n            }\n\n            if (this.interactivity && this.interactivity.isInteractiveLegend) {\n                if (this.data.series.length > 0) {\n                    this.selectColumn(0, true); // start with the first column\n                }\n            }\n            SVGUtil.flushAllD3TransitionsIfNeeded(this.options);\n            return {\n                dataPoints: allDataPoints,\n                behaviorOptions: behaviorOptions,\n                labelDataPoints: MekkoColumnChartDrawInfo.labelDataPoints,\n                labelsAreNumeric: true\n            };\n        }\n\n        public onClearSelection(): void {\n            if (this.interactivityService) {\n                this.interactivityService.clearSelection();\n            }\n        }\n\n        public getVisualCategoryAxisIsScalar(): boolean {\n            return this.data ? this.data.scalarCategoryAxis : false;\n        }\n\n        public getSupportedCategoryAxisType(): string {\n            var metaDataColumn = this.data ? this.data.categoryMetadata : undefined;\n            var valueType = AxisHelper.getCategoryValueType(metaDataColumn);\n            var isOrdinal = AxisHelper.isOrdinal(valueType);\n            return isOrdinal ? axisType.categorical : axisType.both;\n        }\n\n        public setFilteredData(startIndex: number, endIndex: number): CartesianData {\n            var data = Prototype.inherit(this.data);\n            data.series = ColumnChart.sliceSeries(data.series, endIndex, startIndex);\n            data.categories = data.categories.slice(startIndex, endIndex);\n            this.columnChart.setData(data);\n            return data;\n        }\n    }\n\n    class ColumnChartConverterHelper implements IColumnChartConverterStrategy {\n        private dataView: DataViewCategorical;\n\n        constructor(dataView: DataViewCategorical) {\n            this.dataView = dataView;\n        }\n\n\t\t  private static hasRole(column: DataViewMetadataColumn, name: string): boolean {\n            var roles = column.roles;\n            return roles && roles[name];\n        }\n\n        public getLegend(colors: IDataColorPalette, defaultColor?: string): LegendSeriesInfo {\n            var legend: MekkoLegendDataPoint[] = [];\n            var seriesSources: DataViewMetadataColumn[] = [];\n            var seriesObjects: DataViewObjects[][] = [];\n            var grouped: boolean = false;\n\n            var colorHelper = new ColorHelper(colors, columnChartProps.dataPoint.fill, defaultColor);\n            var legendTitle = undefined;\n            if (this.dataView && this.dataView.values) {\n                var allValues = this.dataView.values;\n                var valueGroups = allValues.grouped();\n\n                var hasDynamicSeries = !!(allValues && allValues.source);\n\n                var formatStringProp = columnChartProps.general.formatString;\n                for (var valueGroupsIndex = 0, valueGroupsLen = valueGroups.length; valueGroupsIndex < valueGroupsLen; valueGroupsIndex++) {\n                    var valueGroup = valueGroups[valueGroupsIndex],\n                        valueGroupObjects = valueGroup.objects,\n                        values = valueGroup.values;\n\n                    for (var valueIndex = 0, valuesLen = values.length; valueIndex < valuesLen; valueIndex++) {\n                        var series: DataViewValueColumn = values[valueIndex];\n                        var source: DataViewMetadataColumn = series.source;\n                        // Gradient measures do not create series.\n                        if (ColumnChartConverterHelper.hasRole(source, 'Width') && !ColumnChartConverterHelper.hasRole(source, 'Y')) {\n                            continue;\n                        }\n\n                        seriesSources.push(source);\n                        seriesObjects.push(series.objects);\n\n                        var selectionId = series.identity ?\n                            SelectionId.createWithIdAndMeasure(series.identity, source.queryName) :\n                            SelectionId.createWithMeasure(this.getMeasureNameByIndex(valueIndex));\n\n                        var label = converterHelper.getFormattedLegendLabel(source, allValues, formatStringProp);\n\n                        var color = hasDynamicSeries\n                            ? colorHelper.getColorForSeriesValue(valueGroupObjects || source.objects, allValues.identityFields, source.groupName)\n                            : colorHelper.getColorForMeasure(valueGroupObjects || source.objects, source.queryName);\n\n                        legend.push({\n                            icon: LegendIcon.Box,\n                            color: color,\n                            label: label,\n                            identity: selectionId,\n                            selected: false,\n                        });\n\n                        if (series.identity && source.groupName !== undefined) {\n                            grouped = true;\n                        }\n                    }\n                }\n\n                var dvValues: DataViewValueColumns = this.dataView.values;\n                legendTitle = dvValues && dvValues.source ? dvValues.source.displayName : \"\";\n            }\n\n            var legendData = {\n                title: legendTitle,\n                dataPoints: legend,\n                grouped: grouped,\n            };\n\n            return {\n                legend: legendData,\n                seriesSources: seriesSources,\n                seriesObjects: seriesObjects,\n            };\n        }\n\n        public getValueBySeriesAndCategory(series: number, category: number): number {\n            return this.dataView.values[series].values[category];\n        }\n\n        public getMeasureNameByIndex(index: number): string {\n            return this.dataView.values[index].source.queryName;\n        }\n\n        public hasHighlightValues(series: number): boolean {\n            var column = this.dataView && this.dataView.values ? this.dataView.values[series] : undefined;\n            return column && !!column.highlights;\n        }\n\n        public getHighlightBySeriesAndCategory(series: number, category: number): number {\n            return this.dataView.values[series].highlights[category];\n        }\n    }\n\n    export interface MekkoBehaviorOptions {\n        layerOptions: any[];\n        clearCatcher: D3.Selection;\n    }\n\n    export class MekkoChartBehavior implements IInteractiveBehavior {\n        private behaviors: IInteractiveBehavior[];\n\n        constructor(behaviors: IInteractiveBehavior[]) {\n            this.behaviors = behaviors;\n        }\n\n        public bindEvents(options: MekkoBehaviorOptions, selectionHandler: ISelectionHandler): void {\n            var behaviors = this.behaviors;\n            for (var i: number = 0, ilen: number = behaviors.length; i < ilen; i++) {\n                behaviors[i].bindEvents(options.layerOptions[i], selectionHandler);\n            }\n\n            options.clearCatcher.on('click', () => {\n                selectionHandler.handleClearSelection();\n            });\n        }\n\n        public renderSelection(hasSelection: boolean) {\n            for (var i: number = 0; i < this.behaviors.length; i++) {\n                this.behaviors[i].renderSelection(hasSelection);\n            }\n        }\n    }\n}\n","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import SelectionManager = utility.SelectionManager;\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import ValueFormatter = powerbi.visuals.valueFormatter;\n\n    export interface SankeyDiagramConstructorOptions {\n        svg?: D3.Selection;\n        margin?: IMargin;\n        curvatureOfLinks?: number;\n    }\n\n    export interface SankeyDiagramLabel {\n        name: string;\n        formattedName: string;\n        width: number;\n        height: number;\n        colour: string;\n    }\n\n    export interface SankeyDiagramTooltipData {\n        tooltipData: TooltipDataItem[];\n    }\n\n    export interface SankeyDiagramScale {\n        x: number;\n        y: number;\n    }\n\n    export interface SankeyDiagramSettings {\n        scale?: SankeyDiagramScale;\n        fontSize: number;\n        isVisibleLabels?: boolean;\n        colourOfLabels: string;\n    }\n\n    export interface SankeyDiagramNode extends SankeyDiagramTooltipData {\n        label: SankeyDiagramLabel;\n        inputWeight: number;\n        outputWeight: number;\n        links: SankeyDiagramLink[];\n        x?: number;\n        y?: number;\n        width?: number;\n        height?: number;\n        colour: string;\n        selectionIds: SelectionId[];\n    }\n\n    export interface SankeyDiagramLink extends SankeyDiagramTooltipData {\n        source: SankeyDiagramNode;\n        destination: SankeyDiagramNode;\n        weigth: number;\n        height?: number;\n        dySource?: number;\n        dyDestination?: number;\n        colour: string;\n        selectionId: SelectionId;\n    }\n\n    export interface SankeyDiagramDataView {\n        nodes: SankeyDiagramNode[];\n        links: SankeyDiagramLink[];\n        settings: SankeyDiagramSettings;\n    }\n\n    export interface SankeyDiagramRoleNames {\n        rows: string;\n        columns: string;\n        values: string;\n    }\n\n    interface SankeyDiagramDataPoint {\n        source: any;\n        destination: any;\n        weigth: number;\n    }\n\n    interface SankeyDiagramProperty {\n        [propertyName: string]: DataViewObjectPropertyIdentifier;\n    }\n\n    interface SankeyDiagramProperties {\n        [objectName: string]: SankeyDiagramProperty;\n    }\n\n    export class SankeyDiagram implements IVisual {\n        private static ClassName: string = \"sankeyDiagram\";\n\n        private static Nodes: ClassAndSelector = {\n            \"class\": \"nodes\",\n            selector: \".nodes\"\n        };\n\n        private static Node: ClassAndSelector = {\n            \"class\": \"node\",\n            selector: \".node\"\n        };\n\n        private static NodeRect: ClassAndSelector = {\n            \"class\": \"nodeRect\",\n            selector: \".nodeRect\"\n        };\n\n        private static NodeLabel: ClassAndSelector = {\n            \"class\": \"nodeLabel\",\n            selector: \".nodeLabel\"\n        };\n\n        private static Links: ClassAndSelector = {\n            \"class\": \"links\",\n            selector: \".links\"\n        };\n\n        private static Link: ClassAndSelector = {\n            \"class\": \"link\",\n            selector: \".link\"\n        };\n\n        private static DefaultColourOfNode: string = \"rgb(62, 187, 162)\";\n        private static DefaultColourOfLink: string = \"black\";\n\n        private static DefaultSettings: SankeyDiagramSettings = {\n            isVisibleLabels: true,\n            scale: { x: 1, y: 1 },\n            colourOfLabels: \"black\",\n            fontSize: 12\n        };\n\n        private static MinWidthOfLabel: number = 35;\n\n        private static NodePadding: number = 5;\n        private static LabelPadding: number = 4;\n\n        public static RoleNames: SankeyDiagramRoleNames = {\n            rows: \"Source\",\n            columns: \"Destination\",\n            values: \"Weight\"\n        };\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [{\n                name: SankeyDiagram.RoleNames.rows,\n                kind: VisualDataRoleKind.Grouping,\n                displayName: SankeyDiagram.RoleNames.rows\n            }, {\n                name: SankeyDiagram.RoleNames.columns,\n                kind: VisualDataRoleKind.Grouping,\n                displayName: SankeyDiagram.RoleNames.columns\n            }, {\n                name: SankeyDiagram.RoleNames.values,\n                kind: VisualDataRoleKind.Measure,\n                displayName: SankeyDiagram.RoleNames.values\n            }],\n            dataViewMappings: [{\n                conditions: [\n                    { \"Source\": { min: 0, max: 1 }, \"Destination\": { min: 0, max: 1 }, \"Weight\": { min: 0, max: 0 } },\n                    { \"Source\": { min: 0, max: 1 }, \"Destination\": { min: 0, max: 1 }, \"Weight\": { min: 1, max: 1 } }\n                ],\n                categorical: {\n                    categories: { \n                        for: { in: SankeyDiagram.RoleNames.rows },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        select: [\n                            { bind: { to: SankeyDiagram.RoleNames.columns } },\n                            { bind: { to: SankeyDiagram.RoleNames.values } }\n                        ]\n                    }\n                }\n            }],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter(\"Visual_General\"),\n                    properties: {\n                        formatString: { type: { formatting: { formatString: true } } }\n                    }\n                },\n                labels: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPointsLabels'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter(\"Visual_Show\"),\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } }\n                        }\n                    }\n                },\n                links: {\n                    displayName: \"Links\",\n                    properties: {\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                }\n            }\n        };\n\n        private static Properties: SankeyDiagramProperties = SankeyDiagram.getProperties(SankeyDiagram.capabilities);\n        public static getProperties(capabilities: VisualCapabilities): any {\n            var result = {};\n            for(var objectKey in capabilities.objects) {\n                result[objectKey] = {};\n                for(var propKey in capabilities.objects[objectKey].properties) {\n                    result[objectKey][propKey] = <DataViewObjectPropertyIdentifier> { \n                        objectName: objectKey,\n                        propertyName: propKey\n                    };\n                }\n            }\n\n            return result;\n        }\n\n        private margin: IMargin = {\n            top: 10,\n            right: 10,\n            bottom: 10,\n            left: 10\n        };\n\n        private nodeWidth: number = 21.5;\n        private curvatureOfLinks: number = 0.5;\n\n        private root: D3.Selection;\n        private svg: D3.Selection;\n        private main: D3.Selection;\n        private nodes: D3.Selection;\n        private links: D3.Selection;\n\n        private colours: IDataColorPalette;\n\n        private viewport: IViewport;\n\n        private get textProperties(): TextProperties{\n            return {\n                fontFamily: this.root.style(\"font-family\"),\n                fontSize: jsCommon.PixelConverter.fromPoint(this.dataView ? this.dataView.settings.fontSize : SankeyDiagram.DefaultSettings.fontSize)\n            };\n        }\n\n        private dataView: SankeyDiagramDataView;\n\n        private selectionManager: SelectionManager;\n\n        constructor(constructorOptions?: SankeyDiagramConstructorOptions) {\n            if (constructorOptions) {\n                this.svg = constructorOptions.svg;\n                this.margin = constructorOptions.margin || this.margin;\n                this.curvatureOfLinks = constructorOptions.curvatureOfLinks || this.curvatureOfLinks;\n            }\n        }\n\n        public init(visualsInitOptions: VisualInitOptions): void {\n            if (this.svg) {\n                this.root = this.svg;\n            } else {\n                this.root = d3.select(visualsInitOptions.element.get(0))\n                    .append(\"svg\");\n            }\n\n            this.selectionManager = new SelectionManager({ hostServices: visualsInitOptions.host });\n\n            var style: IVisualStyle = visualsInitOptions.style;\n\n            this.colours = style && style.colorPalette\n                ? style.colorPalette.dataColors\n                : new DataColorPalette();\n\n            this.root.classed(SankeyDiagram.ClassName, true);\n\n            this.main = this.root.append(\"g\");\n\n            this.links = this.main\n                .append(\"g\")\n                .classed(SankeyDiagram.Links[\"class\"], true);\n\n            this.nodes = this.main\n                .append(\"g\")\n                .classed(SankeyDiagram.Nodes[\"class\"], true);\n        }\n\n        public update(visualUpdateOptions: VisualUpdateOptions): void {\n            if (!visualUpdateOptions ||\n                !visualUpdateOptions.dataViews) {\n                return;\n            }\n\n            var dataView: DataView = visualUpdateOptions.dataViews[0],\n                sankeyDiagramDataView: SankeyDiagramDataView;\n\n            this.updateViewport(visualUpdateOptions.viewport);\n\n            sankeyDiagramDataView = this.converter(dataView);\n\n            this.findNodePosition(sankeyDiagramDataView);\n\n            this.dataView = sankeyDiagramDataView;\n\n            this.render(sankeyDiagramDataView);\n        }\n\n        private updateViewport(viewport: IViewport): void {\n            var height: number,\n                width: number;\n\n            height = this.getPositiveNumber(viewport.height);\n            width = this.getPositiveNumber(viewport.width);\n\n            this.viewport = {\n                height: this.getPositiveNumber(height - this.margin.top - this.margin.bottom),\n                width: this.getPositiveNumber(width - this.margin.left - this.margin.right)\n            };\n\n            this.updateElements(height, width);\n        }\n\n        private getPositiveNumber(value: number): number {\n            return value < 0 || isNaN(value) || value === Infinity || value === -Infinity\n                ? 0\n                : value;\n        }\n\n        private updateElements(height: number, width: number): void {\n            this.root.attr({\n                \"height\": height,\n                \"width\": width\n            });\n\n            this.main.attr(\"transform\", SVGUtil.translate(this.margin.left, this.margin.top));\n        }\n\n        public converter(dataView: DataView): SankeyDiagramDataView {\n            if (!dataView ||\n                !dataView.categorical ||\n                !dataView.categorical.categories ||\n                !dataView.categorical.categories[0] ||\n                !dataView.categorical.categories[1] ||\n                !dataView.categorical.categories[0].values ||\n                !dataView.categorical.categories[1].values) {\n                return {\n                    nodes: [],\n                    links: [],\n                    settings: {\n                        scale: { x: 1, y: 1 },\n                        colourOfLabels: SankeyDiagram.DefaultSettings.colourOfLabels,\n                        fontSize: SankeyDiagram.DefaultSettings.fontSize\n                    }\n                };\n            }\n\n            var nodes: SankeyDiagramNode[] = [],\n                links: SankeyDiagramLink[] = [],\n                dataPoints: SankeyDiagramDataPoint[] = [],\n                categories: any[] = dataView.categorical.categories[0].values,\n                secondCategories: any[] = dataView.categorical.categories[1].values,\n                valuesColumn: DataViewValueColumn = dataView.categorical.values && dataView.categorical.values[0],\n                weightValues: number[] = valuesColumn && valuesColumn.values && valuesColumn.values.map(x=> x || 0) || [],\n                allCategories: any[],\n                valueFormatterForCategories: IValueFormatter,\n                formatOfWeigth: string = \"g\",\n                valuesFormatterForWeigth: IValueFormatter,\n                objects: DataViewObjects,\n                linksObjects: DataViewObjects[] = dataView.categorical.categories[0].objects || [],\n                labelColour: string,\n                settings: SankeyDiagramSettings,\n                shiftOfColour: number,\n                identities: DataViewScopeIdentity[] = [];\n\n            if (dataView.categorical.categories[0].identity) {\n                identities = identities.concat(dataView.categorical.categories[0].identity);\n            }\n\n            if (dataView.categorical.categories[1].identity) {\n                identities = identities.concat(dataView.categorical.categories[1].identity);\n            }\n\n            objects = this.getObjectsFromDataView(dataView);\n\n            labelColour = this.getColour(\n                SankeyDiagram.Properties[\"labels\"][\"fill\"],\n                SankeyDiagram.DefaultSettings.colourOfLabels,\n                objects);\n\n            if (valuesColumn && valuesColumn.source) {\n                formatOfWeigth = ValueFormatter.getFormatString(\n                    valuesColumn.source,\n                    SankeyDiagram.Properties[\"general\"][\"formatString\"]);\n            }\n\n            dataPoints = categories.map((item: any, index: number) => {\n                return {\n                    source: item,\n                    destination: secondCategories[index],\n                    weigth: valuesColumn ? Math.max(weightValues[index] || 0, 0) : 1\n                };\n            });\n\n            allCategories = categories.concat(secondCategories);\n\n            valueFormatterForCategories = ValueFormatter.create({\n                format: ValueFormatter.getFormatString(\n                    dataView.categorical.categories[0].source,\n                    SankeyDiagram.Properties[\"general\"][\"formatString\"]),\n                value: allCategories[0],\n                value2: allCategories[allCategories.length - 1]\n            });\n\n            valuesFormatterForWeigth = ValueFormatter.create({\n                format: formatOfWeigth,\n                value: Math.max(d3.max(weightValues) || 1, 1),\n            });\n\n            allCategories.forEach((item: any, index: number) => {\n                if (!nodes.some((node: SankeyDiagramNode) => {\n                    if (item === node.label.name) {\n                        node.selectionIds.push(SelectionId.createWithId(identities[index]));\n\n                        return true;\n                    }\n\n                    return false;\n                })) {\n                    var formattedValue: string = valueFormatterForCategories.format(item),\n                        label: SankeyDiagramLabel,\n                        selectionId: SelectionId,\n                        textProperties: TextProperties = {\n                            text: formattedValue,\n                            fontFamily: this.textProperties.fontFamily,\n                            fontSize: this.textProperties.fontSize\n                        };\n\n                    label = {\n                        name: item,\n                        formattedName: valueFormatterForCategories.format(item),\n                        width: TextMeasurementService.measureSvgTextWidth(textProperties),\n                        height: TextMeasurementService.estimateSvgTextHeight(textProperties),\n                        colour: labelColour\n                    };\n\n                    selectionId = SelectionId.createWithId(identities[index]);\n\n                    nodes.push({\n                        label: label,\n                        links: [],\n                        inputWeight: 0,\n                        outputWeight: 0,\n                        width: this.nodeWidth,\n                        height: 0,\n                        colour: SankeyDiagram.DefaultColourOfNode,\n                        tooltipData: [],\n                        selectionIds: [selectionId]\n                    });\n                }\n            });\n\n            shiftOfColour = this.colours.getAllColors().length / nodes.length;\n\n            nodes.forEach((node: SankeyDiagramNode, index: number) => {\n                node.colour = this.colours.getColorByIndex(Math.floor(index * shiftOfColour)).value;\n            });\n\n            dataPoints.forEach((dataPoint: SankeyDiagramDataPoint, index: number) => {\n                var sourceNode: SankeyDiagramNode,\n                    destinationNode: SankeyDiagramNode,\n                    link: SankeyDiagramLink,\n                    linkColour: string;\n\n                if (dataPoint.source === dataPoint.destination) {\n                    return;\n                }\n\n                nodes.forEach((node: SankeyDiagramNode) => {\n                    if (node.label.name === dataPoint.source) {\n                        sourceNode = node;\n                    }\n\n                    if (node.label.name === dataPoint.destination) {\n                        destinationNode = node;\n                    }\n                });\n\n                linkColour = this.getColour(\n                    SankeyDiagram.Properties[\"links\"][\"fill\"],\n                    SankeyDiagram.DefaultColourOfLink,\n                    linksObjects[index]);\n\n                link = {\n                    source: sourceNode,\n                    destination: destinationNode,\n                    weigth: dataPoint.weigth,\n                    height: dataPoint.weigth,\n                    colour: linkColour,\n                    tooltipData: this.getTooltipDataForLink(\n                        valuesFormatterForWeigth,\n                        sourceNode.label.formattedName,\n                        destinationNode.label.formattedName,\n                        dataPoint.weigth),\n                    selectionId: SelectionId.createWithId(identities[index])\n                };\n\n                links.push(link);\n\n                sourceNode.links.push(link);\n                destinationNode.links.push(link);\n\n                this.updateValueOfNode(sourceNode);\n                this.updateValueOfNode(destinationNode);\n\n                sourceNode.tooltipData = this.getTooltipForNode(\n                    valuesFormatterForWeigth,\n                    sourceNode.label.formattedName,\n                    sourceNode.inputWeight ? sourceNode.inputWeight : sourceNode.outputWeight);\n\n                destinationNode.tooltipData = this.getTooltipForNode(\n                    valuesFormatterForWeigth,\n                    destinationNode.label.formattedName,\n                    destinationNode.inputWeight ? destinationNode.inputWeight : destinationNode.outputWeight);\n            });\n\n            settings = this.parseSettings(objects);\n\n            settings.colourOfLabels = labelColour;\n\n            return {\n                nodes: nodes,\n                links: links,\n                settings: settings\n            };\n        }\n\n        private getObjectsFromDataView(dataView: DataView): DataViewObjects {\n            if (!dataView ||\n                    !dataView.metadata ||\n                    !dataView.metadata.columns ||\n                    !dataView.metadata.objects) {\n                return null;\n            }\n\n            return dataView.metadata.objects;\n        }\n\n        private getColour(properties: DataViewObjectPropertyIdentifier, defaultColor: string, objects: DataViewObjects): string {\n            var colorHelper: ColorHelper;\n\n            colorHelper = new ColorHelper(this.colours, properties, defaultColor);\n\n            return colorHelper.getColorForMeasure(objects, \"\");\n        }\n\n        private getTooltipDataForLink(\n            valueFormatter: IValueFormatter,\n            sourceNodeName: string,\n            destinationNodeName: string,\n            linkWeight: number): TooltipDataItem[] {\n\n            var formattedLinkWeight: string;\n\n            if (valueFormatter && valueFormatter.format) {\n                formattedLinkWeight = valueFormatter.format(linkWeight);\n            } else {\n                formattedLinkWeight = linkWeight.toString();\n            }\n\n            return [{\n                displayName: SankeyDiagram.RoleNames.rows,\n                value: sourceNodeName\n            }, {\n                displayName: SankeyDiagram.RoleNames.columns,\n                value: destinationNodeName\n            }, {\n                displayName: SankeyDiagram.RoleNames.values,\n                value: formattedLinkWeight\n            }];\n        }\n\n        private updateValueOfNode(node: SankeyDiagramNode): void {\n            node.inputWeight = node.links.reduce((previousValue: number, currentValue: SankeyDiagramLink) => {\n                return previousValue + (currentValue.destination === node ? currentValue.weigth : 0);\n            }, 0);\n\n            node.outputWeight = node.links.reduce((previousValue: number, currentValue: SankeyDiagramLink) => {\n                return previousValue + (currentValue.source === node ? currentValue.weigth : 0);\n            }, 0);\n        }\n\n        private getTooltipForNode(\n            valueFormatter: IValueFormatter,\n            nodeName: string,\n            nodeWeight: number): TooltipDataItem[] {\n\n            var formattedNodeWeigth: string;\n\n            if (valueFormatter && valueFormatter.format) {\n                formattedNodeWeigth = valueFormatter.format(nodeWeight);\n            } else {\n                formattedNodeWeigth = nodeWeight.toString();\n            }\n\n            return [{\n                displayName: \"Name\",\n                value: nodeName\n            }, {\n                displayName: SankeyDiagram.RoleNames.values,\n                value: formattedNodeWeigth\n            }];\n        }\n\n        private parseSettings(objects: DataViewObjects): SankeyDiagramSettings {\n            var isVisibleLabels: boolean = false;\n\n            isVisibleLabels = DataViewObjects.getValue(\n                objects,\n                SankeyDiagram.Properties[\"labels\"][\"show\"],\n                SankeyDiagram.DefaultSettings.isVisibleLabels);\n\n            return {\n                isVisibleLabels: isVisibleLabels,\n                scale: {\n                    x: SankeyDiagram.DefaultSettings.scale.x,\n                    y: SankeyDiagram.DefaultSettings.scale.y\n                },\n                colourOfLabels: SankeyDiagram.DefaultSettings.colourOfLabels,\n                fontSize: DataViewObjects.getValue<number>(objects, \n                    SankeyDiagram.Properties[\"labels\"][\"fontSize\"],\n                    SankeyDiagram.DefaultSettings.fontSize)\n            };\n        }\n\n        private findNodePosition(sankeyDiagramDataView: SankeyDiagramDataView): void {\n            this.findNodePositionByX(sankeyDiagramDataView);\n            this.findNodePositionByY(sankeyDiagramDataView);\n        }\n\n        private findNodePositionByX(sankeyDiagramDataView: SankeyDiagramDataView): void {\n            var nodes: SankeyDiagramNode[] = sankeyDiagramDataView.nodes,\n                nextNodes: SankeyDiagramNode[] = [],\n                previousNodes: SankeyDiagramNode[] = [],\n                x: number = 0,\n                isRecursiveDependencies: boolean = false;\n\n            while (nodes.length > 0) {\n                nextNodes = [];\n\n                nodes.forEach((node: SankeyDiagramNode) => {\n                    node.x = x;\n\n                    node.links.forEach((link: SankeyDiagramLink) => {\n                        if (node === link.source && node !== link.destination) {\n                            if (nextNodes.every((item: SankeyDiagramNode) => {\n                                return item !== link.destination;\n                            })) {\n                                nextNodes.push(link.destination);\n                            }\n                        }\n                    });\n                });\n\n                isRecursiveDependencies = nextNodes.length === previousNodes.length && \n                    previousNodes.every((previousNode: SankeyDiagramNode) => {\n                        return nextNodes.some((nextNode: SankeyDiagramNode) => {\n                            return nextNode === previousNode;\n                        });\n                    });\n\n                if (isRecursiveDependencies) {\n                    previousNodes.forEach((element: SankeyDiagramNode) => {\n                        element.x = x;\n\n                        x++;\n                    });\n\n                    nodes = [];\n                } else {\n                    nodes = nextNodes;\n\n                    previousNodes = nodes;\n\n                    x++;\n                }\n            }\n\n            sankeyDiagramDataView.settings.scale.x = this.getScaleByAxisX(x - 1);\n\n            this.scaleByAxisX(sankeyDiagramDataView.nodes, sankeyDiagramDataView.settings.scale.x);\n        }\n\n        private scaleByAxisX(nodes: SankeyDiagramNode[], scale: number): void {\n            nodes.forEach((node: SankeyDiagramNode) => {\n                node.x *= scale;\n            });\n        }\n\n        private getScaleByAxisX(numberOfColumns: number = 1): number {\n            return this.getPositiveNumber((this.viewport.width - this.nodeWidth) / numberOfColumns);\n        }\n\n        private findNodePositionByY(sankeyDiagramDataView: SankeyDiagramDataView): void {\n            var nodes: SankeyDiagramNode[] = sankeyDiagramDataView.nodes,\n                links: SankeyDiagramLink[] = sankeyDiagramDataView.links,\n                currentX: number = 0,\n                index: number = 0,\n                maxIndex: number = 0,\n                sumValueOfNodes: number = 0,\n                maxValueOfNodes: number = 0;\n \n            nodes = nodes.sort((firstNode: SankeyDiagramNode, secondNode: SankeyDiagramNode) => {\n                return firstNode.x - secondNode.x;\n            });\n\n            nodes.forEach((node: SankeyDiagramNode) => {\n                if (currentX !== node.x) {\n                    index = 0;\n                    currentX = node.x;\n                    sumValueOfNodes = 0;\n                }\n\n                sumValueOfNodes += Math.max(node.inputWeight, node.outputWeight);\n\n                if (sumValueOfNodes > maxValueOfNodes) {\n                    maxValueOfNodes = sumValueOfNodes;\n                }\n\n                if (index > maxIndex) {\n                    maxIndex = index;\n                }\n\n                index++;\n            });\n\n            sankeyDiagramDataView.settings.scale.y = this.getScaleByAxisY(maxIndex + 1, maxValueOfNodes);\n\n            this.scaleByAxisY(nodes, links, sankeyDiagramDataView.settings.scale.y);\n        }\n\n        private getScaleByAxisY(numberOfRows: number, sumValueOfNodes: number): number {\n            return this.getPositiveNumber((this.viewport.height - numberOfRows * SankeyDiagram.NodePadding) / sumValueOfNodes);\n        }\n\n        private scaleByAxisY(\n            nodes: SankeyDiagramNode[],\n            links: SankeyDiagramLink[],\n            scale: number): void {\n\n            var shiftByAxisY: number = 0,\n                currentX: number = 0,\n                index: number = 0;\n\n            nodes.forEach((node: SankeyDiagramNode) => {\n                if (currentX !== node.x) {\n                    currentX = node.x;\n                    shiftByAxisY = 0;\n                    index = 0;\n                }\n\n                node.height = Math.max(node.inputWeight, node.outputWeight) * scale;\n\n                node.y = shiftByAxisY + SankeyDiagram.NodePadding * index;\n\n                shiftByAxisY += node.height;\n\n                index++;\n            });\n\n            nodes.forEach((node: SankeyDiagramNode) => {\n                node.links = node.links.sort((firstLink: SankeyDiagramLink, secondLink: SankeyDiagramLink) => {\n                    var firstY: number,\n                        secondY: number;\n\n                    firstY = firstLink.source === node\n                        ? firstLink.destination.y\n                        : firstLink.source.y;\n\n                    secondY = secondLink.source === node\n                        ? secondLink.destination.y\n                        : secondLink.source.y;\n\n                    return firstY - secondY;\n                });\n\n                var shiftByAxisYOfLeftLink: number = 0,\n                    shiftByAxisYOfRightLink: number = 0;\n\n                node.links.forEach((link: SankeyDiagramLink) => {\n                    var shiftByAxisY: number = 0;\n\n                    link.height = link.weigth * scale;\n\n                    if (link.source.x < node.x || link.destination.x < node.x) {\n                        shiftByAxisY = shiftByAxisYOfLeftLink;\n\n                        shiftByAxisYOfLeftLink += link.height;\n                    } else if (link.source.x > node.x || link.destination.x > node.x) {\n                        shiftByAxisY = shiftByAxisYOfRightLink;\n\n                        shiftByAxisYOfRightLink += link.height;\n                    }\n\n                    if (link.source === node) {\n                        link.dySource = shiftByAxisY;\n                    } else if (link.destination === node) {\n                        link.dyDestination = shiftByAxisY;\n                    }\n                });\n            });\n        }\n\n        private render(sankeyDiagramDataView: SankeyDiagramDataView): void {\n            var nodesSelection: D3.UpdateSelection,\n                linksSelection: D3.UpdateSelection;\n\n            linksSelection = this.renderLinks(sankeyDiagramDataView);\n            nodesSelection = this.renderNodes(sankeyDiagramDataView);\n\n            this.bindSelectionHandler(sankeyDiagramDataView, nodesSelection, linksSelection);\n        }\n\n        private renderNodes(sankeyDiagramDataView: SankeyDiagramDataView): D3.UpdateSelection {\n            var nodesEnterSelection: D3.Selection,\n                nodesSelection: D3.UpdateSelection,\n                nodeElements: D3.Selection;\n\n            nodeElements = this.main\n                .select(SankeyDiagram.Nodes.selector)\n                .selectAll(SankeyDiagram.Node.selector);\n\n            nodesSelection = nodeElements.data(sankeyDiagramDataView.nodes.filter(x => x.height > 0));\n\n            nodesEnterSelection = nodesSelection\n                .enter()\n                .append(\"g\");\n\n            nodesSelection\n                .attr(\"transform\", (node: SankeyDiagramNode) => {\n                    return SVGUtil.translate(node.x, node.y);\n                })\n                .classed(SankeyDiagram.Node[\"class\"], true);\n\n            nodesEnterSelection\n                .append(\"rect\")\n                .classed(SankeyDiagram.NodeRect[\"class\"], true);\n\n            nodesEnterSelection\n                .append(\"text\")\n                .classed(SankeyDiagram.NodeLabel[\"class\"], true);\n\n            nodesSelection\n                .select(SankeyDiagram.NodeRect.selector)\n                .style({\n                    \"fill\": (node: SankeyDiagramNode) => node.colour,\n                    \"stroke\": (node: SankeyDiagramNode) => d3.rgb(node.colour).darker(1.5)\n                })\n                .attr({\n                    x: 0,\n                    y: 0,\n                    height: (node: SankeyDiagramNode) => node.height,\n                    width: (node: SankeyDiagramNode) => node.width\n                });\n\n            nodesSelection\n                .select(SankeyDiagram.NodeLabel.selector)\n                .attr({\n                    x: (node: SankeyDiagramNode) => this.getLabelPositionByAxisX(node),\n                    y: (node: SankeyDiagramNode) => node.height / 2,\n                    dy: \"0.35em\"\n                })\n                .style(\"fill\", (node: SankeyDiagramNode) => node.label.colour)\n                .style(\"font-size\", this.textProperties.fontSize)\n                .style(\"display\", (node: SankeyDiagramNode) => {\n                    var isNotVisibleLabel: boolean = false, \n                        labelPositionByAxisX: number = this.getCurrentPositionOfLabelByAxisX(node);\n\n                    isNotVisibleLabel = \n                        labelPositionByAxisX >= this.viewport.width ||\n                        labelPositionByAxisX <= 0 ||\n                        (node.height + SankeyDiagram.NodePadding) < node.label.height;\n\n                    if (isNotVisibleLabel || !sankeyDiagramDataView.settings.isVisibleLabels\n                        || sankeyDiagramDataView.settings.scale.x / 2 <  SankeyDiagram.MinWidthOfLabel) {\n                        return \"none\";\n                    }\n\n                    return null;\n                })\n                .style(\"text-anchor\", (node: SankeyDiagramNode) => {\n                    if (this.isLabelLargerWidth(node)) {\n                        return \"end\";\n                    }\n\n                    return null;\n                })\n                .text((node: SankeyDiagramNode) => {\n                    var maxWidth: number = sankeyDiagramDataView.settings.scale.x / 2 - node.width - SankeyDiagram.NodePadding;\n\n                    if (this.getCurrentPositionOfLabelByAxisX(node) > maxWidth) {\n                        return TextMeasurementService.getTailoredTextOrDefault({\n                            text: node.label.formattedName,\n                            fontFamily: this.textProperties.fontFamily,\n                            fontSize: this.textProperties.fontSize\n                        }, maxWidth);\n                    }\n\n                    return node.label.formattedName;\n                });\n\n            nodesSelection\n                .exit()\n                .remove();\n\n            this.renderTooltip(nodesSelection);\n\n            return nodesSelection;\n        }\n\n        private getLabelPositionByAxisX(node: SankeyDiagramNode): number {\n            if (this.isLabelLargerWidth(node)) {\n                return -(SankeyDiagram.LabelPadding);\n            }\n\n            return node.width + SankeyDiagram.LabelPadding;\n        }\n\n        private isLabelLargerWidth(node: SankeyDiagramNode): boolean {\n            var shiftByAxisX: number = node.x + node.width + SankeyDiagram.LabelPadding;\n\n            return shiftByAxisX + node.label.width > this.viewport.width;\n        }\n\n        private getCurrentPositionOfLabelByAxisX(node: SankeyDiagramNode): number {\n            var labelPositionByAxisX: number = this.getLabelPositionByAxisX(node);\n\n            labelPositionByAxisX = labelPositionByAxisX > 0\n                ? labelPositionByAxisX + node.x + node.label.width + node.width\n                : node.x + labelPositionByAxisX - node.label.width - node.width;\n\n            return labelPositionByAxisX;\n        }\n\n        private renderLinks(sankeyDiagramDataView: SankeyDiagramDataView): D3.UpdateSelection {\n            var linksSelection: D3.UpdateSelection,\n                linksElements: D3.Selection;\n\n            linksElements = this.main\n                .select(SankeyDiagram.Links.selector)\n                .selectAll(SankeyDiagram.Link.selector);\n\n            linksSelection = linksElements.data(sankeyDiagramDataView.links.filter(x => x.height > 0));\n\n            linksSelection\n                .enter()\n                .append(\"path\")\n                .classed(SankeyDiagram.Link[\"class\"], true);\n\n            linksSelection\n                .attr(\"d\", (link: SankeyDiagramLink) => {\n                    return this.getSvgPath(link);\n                })\n                .style({\n                    \"stroke-width\": (link: SankeyDiagramLink) => link.height,\n                    \"stroke\": (link: SankeyDiagramLink) => link.colour\n                });\n\n            linksSelection\n                .exit()\n                .remove();\n\n            this.renderTooltip(linksSelection);\n\n            return linksSelection;\n        }\n\n        private getSvgPath(link: SankeyDiagramLink): string {\n            var x0: number,\n                x1: number,\n                xi: D3.Transition.BaseInterpolate,\n                x2: number,\n                x3: number,\n                y0: number,\n                y1: number;\n\n            if (link.destination.x < link.source.x) {\n                x0 = link.source.x;\n                x1 = link.destination.x + link.destination.width;\n            } else {\n                x0 = link.source.x + link.source.width;\n                x1 = link.destination.x;\n            }\n\n            xi = d3.interpolateNumber(x0, x1);\n            x2 = xi(this.curvatureOfLinks);\n            x3 = xi(1 - this.curvatureOfLinks);\n            y0 = link.source.y + link.dySource + link.height / 2;\n            y1 = link.destination.y + link.dyDestination + link.height / 2;\n\n            return `M ${x0} ${y0} C ${x2} ${y0}, ${x3} ${y1}, ${x1} ${y1}`;\n        }\n\n        private renderTooltip(selection: D3.UpdateSelection): void {\n            TooltipManager.addTooltip(selection, (tooltipEvent: TooltipEvent) => {\n                return (<SankeyDiagramTooltipData> tooltipEvent.data).tooltipData;\n            });\n        }\n\n        private bindSelectionHandler(\n            sankeyDiagramDataView: SankeyDiagramDataView,\n            nodesSelection: D3.UpdateSelection,\n            linksSelection: D3.UpdateSelection): void {\n\n            nodesSelection.on(\"click\", (node: SankeyDiagramNode) => {\n                var selectionIds = _.isEqual(\n                        node.selectionIds.map(x=>x.getKey()),\n                        this.selectionManager.getSelectionIds().map(x=>x.getKey()))\n                    ? []\n                    : node.selectionIds;\n\n                this.selectMany(selectionIds, true).then(() => this.setSelection(nodesSelection, linksSelection));\n\n                d3.event.stopPropagation();\n            });\n\n            linksSelection.on(\"click\", (link: SankeyDiagramLink) => {\n                this.selectionManager.select(link.selectionId, d3.event.ctrlKey).then(() =>\n                    this.setSelection(nodesSelection, linksSelection));\n\n                d3.event.stopPropagation();\n            });\n\n            this.root.on(\"click\", () => {\n                this.selectionManager.clear().then(() => this.setSelection(nodesSelection, linksSelection));\n            });\n\n            this.setSelection(nodesSelection, linksSelection);\n        }\n\n        private selectMany(selectionIds: SelectionId[], clear: boolean = false): JQueryPromise<{}> {\n            if(clear) {\n                return this.selectionManager.clear().then(() => this.selectMany(selectionIds, false));\n            }\n\n            var selectionDeffered = selectionIds.map(id => this.selectionManager.select(id, true));\n            return (<JQueryPromise<{}>>$.when.apply(null, selectionDeffered));\n        }\n\n        private setSelection(nodes: D3.UpdateSelection, links: D3.UpdateSelection): void {\n\n            var selectionIds: SelectionId[] = this.selectionManager.getSelectionIds();\n\n            nodes.classed(\"selected\", selectionIds.length > 0);\n            links.classed(\"selected\", false);\n\n            if (selectionIds.length === 0) {\n                return;\n            }\n\n            var selectedNodesSelection = nodes.filter((node: SankeyDiagramNode) => selectionIds\n                .some((selectedId: SelectionId) => node.selectionIds\n                .some( x => x.getKey() === selectedId.getKey())));\n\n            var selectedLinksSelection = links.filter((link: SankeyDiagramLink) =>\n                 selectionIds.some((selectionId: SelectionId) => selectionId.getKey() === link.selectionId.getKey()));\n\n            selectedNodesSelection.classed(\"selected\", false);\n            selectedLinksSelection.classed(\"selected\", true);\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            var enumeration = new ObjectEnumerationBuilder();\n\n            if (!this.dataView) {\n                return [];\n            }\n\n            switch (options.objectName) {\n                case \"labels\": {\n                    this.enumerateLabels(enumeration);\n                    break;\n                }\n                case \"links\": {\n                    this.enumerateLinks(enumeration);\n                    break;\n                }\n            }\n\n            return enumeration.complete();\n        }\n\n        private enumerateLabels(enumeration: ObjectEnumerationBuilder): void {\n            var settings: SankeyDiagramSettings = this.dataView.settings,\n                labels: VisualObjectInstance;\n\n            if (!settings) {\n                return;\n            }\n\n            labels = {\n                objectName: \"labels\",\n                displayName: \"labels\",\n                selector: null,\n                properties: {\n                    show: settings.isVisibleLabels,\n                    fill: settings.colourOfLabels,\n                    fontSize: settings.fontSize\n                }\n            };\n\n            enumeration.pushInstance(labels);\n        }\n\n        private enumerateLinks(enumeration: ObjectEnumerationBuilder): void {\n            var links: SankeyDiagramLink[] = this.dataView.links;\n\n            if (!links || !(links.length > 0)) {\n                return;\n            }\n\n            links.forEach((link: SankeyDiagramLink) => {\n                enumeration.pushInstance({\n                    objectName: \"links\",\n                    displayName: `${link.source.label.formattedName} - ${link.destination.label.formattedName}`,\n                    selector: ColorHelper.normalizeSelector(link.selectionId.getSelector(), false),\n                    properties: {\n                        fill: { solid: { color: link.colour } }\n                    }\n                });\n            });\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import PixelConverter = jsCommon.PixelConverter;\n\n    export let bulletChartProps = {\n        values: {\n            targetValue: <DataViewObjectPropertyIdentifier>{ objectName: 'values', propertyName: 'targetValue' },\n            minimumPercent: <DataViewObjectPropertyIdentifier>{ objectName: 'values', propertyName: 'minimumPercent' },\n            needsImprovementPercent: <DataViewObjectPropertyIdentifier>{ objectName: 'values', propertyName: 'needsImprovementPercent' },\n            satisfactoryPercent: <DataViewObjectPropertyIdentifier>{ objectName: 'values', propertyName: 'satisfactoryPercent' },\n            goodPercent: <DataViewObjectPropertyIdentifier>{ objectName: 'values', propertyName: 'goodPercent' },\n            veryGoodPercent: <DataViewObjectPropertyIdentifier>{ objectName: 'values', propertyName: 'veryGoodPercent' },\n            maximumPercent: <DataViewObjectPropertyIdentifier>{ objectName: 'values', propertyName: 'maximumPercent' },\n            targetValue2: <DataViewObjectPropertyIdentifier>{ objectName: 'values', propertyName: 'targetValue2' },\n        },\n        orientation: {\n            orientation: <DataViewObjectPropertyIdentifier>{ objectName: 'orientation', propertyName: 'orientation' },\n        },\n        colors: {\n            badColor: <DataViewObjectPropertyIdentifier>{ objectName: 'colors', propertyName: 'badColor' },\n            needsImprovementColor: <DataViewObjectPropertyIdentifier>{ objectName: 'colors', propertyName: 'needsImprovementColor' },\n            satisfactoryColor: <DataViewObjectPropertyIdentifier>{ objectName: 'colors', propertyName: 'satisfactoryColor' },\n            goodColor: <DataViewObjectPropertyIdentifier>{ objectName: 'colors', propertyName: 'goodColor' },\n            veryGoodColor: <DataViewObjectPropertyIdentifier>{ objectName: 'colors', propertyName: 'veryGoodColor' },\n            bulletColor: <DataViewObjectPropertyIdentifier>{ objectName: 'colors', propertyName: 'bulletColor' },\n        },\n        axis: {\n            axis: <DataViewObjectPropertyIdentifier>{ objectName: 'axis', propertyName: 'axis' },\n            axisColor: <DataViewObjectPropertyIdentifier>{ objectName: 'axis', propertyName: 'axisColor' },\n            measureUnits: <DataViewObjectPropertyIdentifier>{ objectName: 'axis', propertyName: 'measureUnits' },\n            unitsColor: <DataViewObjectPropertyIdentifier>{ objectName: 'axis', propertyName: 'unitsColor' },\n        },\n        formatString: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'formatString' },\n        labels: {\n            fontSize: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'fontSize' },\n            show: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'show' },\n            labelColor: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'labelColor' }\n        }\n    };\n\n    export interface BarData {\n        scale: any;\n        barIndex: number;\n        categoryLabel: string;\n        axis: any;\n        x: number;\n        y: number;\n        key: string;\n    }\n\n    export interface BarRect extends SelectableDataPoint {\n        barIndex: number;\n        start: number;\n        end: number;\n        fill: string;\n        tooltipInfo?: TooltipDataItem[];\n        key: string;\n    }\n\n    export interface TargetValue {\n        barIndex: number;\n        value: number;\n        value2: number;\n        fill: string;\n        key: string;\n    }\n\n    export interface ScaledValues {\n        firstScale: number;\n        secondScale: number;\n        thirdScale: number;\n        fourthScale: number;\n        fifthScale: number;\n    }\n\n    export interface BarValueRect extends BarRect {\n    }\n\n    export interface BulletChartSettings {\n        values: {\n            targetValue: number;\n            minimumPercent: number;\n            needsImprovementPercent: number;\n            satisfactoryPercent: number;\n            goodPercent: number;\n            veryGoodPercent: number;\n            maximumPercent: number;\n            targetValue2: number;\n        };\n        orientation: {\n            orientation: string;\n            reverse: boolean;\n            vertical: boolean;\n        };\n        colors: {\n            badColor: string;\n            needsImprovementColor: string;\n            satisfactoryColor: string;\n            goodColor: string;\n            veryGoodColor: string;\n            bulletColor: string;\n        };\n\n        axis: {\n            axis: boolean;\n            axisColor: string;\n            measureUnits: string;\n            unitsColor: string;\n        };\n        labelSettings: VisualDataLabelsSettings;\n    }\n\n    //Model\n    export interface BulletChartModel {\n        bars: BarData[];\n        bulletChartSettings: BulletChartSettings;\n        bulletValueFormatString: string;\n        barRects: BarRect[];\n        valueRects: BarValueRect[];\n        targetValues: TargetValue[];\n    }\n\n    export let bulletChartRoleNames = {\n        value: 'Value',\n        targetValue: 'TargetValue',\n        minValue: 'Minimum',\n        needsImprovementValue: 'NeedsImprovement',\n        satisfactoryValue: 'Satisfactory',\n        goodValue: 'Good',\n        veryGoodValue: 'VeryGood',\n        maxValue: 'Maximum',\n        targetValue2: 'TargetValue2',\n    };\n\n    module Orientation {\n        export const HORIZONTALLEFT: string = 'Horizontal Left';\n        export const HORIZONTALRIGHT: string = 'Horizontal Right';\n        export const VERTICALTOP: string = 'Vertical Top';\n        export const VERTICALBOTTOM: string = 'Vertical Bottom';\n\n        export var type: IEnumType = createEnumType([\n            { value: HORIZONTALLEFT, displayName: HORIZONTALLEFT },\n            { value: HORIZONTALRIGHT, displayName: HORIZONTALRIGHT },\n            { value: VERTICALTOP, displayName: VERTICALTOP },\n            { value: VERTICALBOTTOM, displayName: VERTICALBOTTOM }\n        ]);\n    }\n\n    export class BulletChart implements IVisual {\n        private static ScrollBarSize = 13;\n        private static SpaceRequiredForBar = 60;\n        private static SpaceRequiredForBarVertically = 100;\n        private static StartMarginHorizontal = 30;\n        private static StartMarginVertical = 50;\n        private static BulletSize = 25;\n        private static DefaultSubtitleFontSizeInPt = 9;\n        private static BarMargin = 10;\n        private static MaxLabelWidth = 80;\n        private static MaxLabelHeight = 60;\n        private static SubtitleMargin = 10;\n        private static AxisFontSizeInPt = 8;\n\n        private static BiggestLabelWidth = 0;\n        private static BiggestLabelHeight = 0;\n        private static MarkerMarginHorizontal = BulletChart.BulletSize / 3;\n        private static MarkerMarginVertical = BulletChart.BulletSize / 4;\n\n        private static FontFamily: string = \"Segoe UI\";\n        private baselineDelta: number = 0;\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: 'Category',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Category',\n                }, {\n                    name: 'Value',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Value',\n                }, {\n                    name: 'TargetValue',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Target Value',\n                }, {\n                    name: 'Minimum',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Minimum',\n                }, {\n                    name: 'NeedsImprovement',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Needs Improvement',\n                }, {\n                    name: 'Satisfactory',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Satisfactory',\n                }, {\n                    name: 'Good',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Good',\n                }, {\n                    name: 'VeryGood',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Very Good',\n                }, {\n                    name: 'Maximum',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Maximum',\n                }, {\n                    name: 'TargetValue2',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Target Value 2'\n                }\n            ],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter('Visual_General'),\n                    properties: {\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        },\n                    },\n                },\n                values: {\n                    displayName: 'Data values',\n                    properties: {\n                        targetValue: {\n                            displayName: 'Target Value',\n                            type: { numeric: true }\n                        },\n                        targetValue2: {\n                            displayName: 'Target Value 2',\n                            type: { numeric: true },\n                        },\n                        minimumPercent: {\n                            displayName: 'Minimum %',\n                            type: { numeric: true }\n                        },\n                        needsImprovementPercent: {\n                            displayName: 'Needs Improvement %',\n                            type: { numeric: true },\n                        },\n                        satisfactoryPercent: {\n                            displayName: 'Satisfactory %',\n                            type: { numeric: true }\n                        },\n                        goodPercent: {\n                            displayName: 'Good %',\n                            type: { numeric: true }\n                        },\n                        veryGoodPercent: {\n                            displayName: 'Very Good %',\n                            type: { numeric: true },\n                        },\n                        maximumPercent: {\n                            displayName: 'Maximum %',\n                            type: { numeric: true }\n                        },\n                    }\n                },\n                labels: {\n                    displayName: 'Category labels',\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true },\n                        },\n                        labelColor: {\n                            displayName: data.createDisplayNameGetter('Visual_LabelsFill'),\n                            description: data.createDisplayNameGetter('Visual_LabelsFillDescription'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } },\n                        },\n                    },\n                },\n                orientation: {\n                    displayName: 'Orientation',\n                    properties: {\n                        orientation: {\n                            displayName: 'Orientation',\n                            type: { enumeration: Orientation.type }\n                        }\n                    }\n                },\n                colors: {\n                    displayName: 'Colors',\n                    properties: {\n                        badColor: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Bad Color'\n                        },\n                        needsImprovementColor: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Needs Improvement Color',\n                        },\n                        satisfactoryColor: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Satisfactory Color'\n                        },\n                        goodColor: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Good Color'\n                        },\n                        veryGoodColor: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Very Good Color',\n                        },\n                        bulletColor: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Bullet Color'\n                        }\n                    },\n                },\n                axis: {\n                    displayName: 'Axis',\n                    properties: {\n                        axis: {\n                            displayName: 'Axis',\n                            type: { bool: true }\n                        },\n                        axisColor: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Axis Color'\n                        },\n                        measureUnits: {\n                            type: { text: true },\n                            displayName: 'Measure Units '\n                        },\n                        unitsColor: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Units Color'\n                        },\n                    }\n                }\n            },\n            dataViewMappings: [{\n                conditions: [\n                    {\n                        'Category': { max: 1 }, 'Value': { max: 1 }, 'TargetValue': { max: 1 }, 'Minimum': { max: 1 }, 'NeedsImprovement': { max: 1 },\n                        'Satisfactory': { max: 1 }, 'Good': { max: 1 }, 'VeryGood': { max: 1 }, 'Maximum': { max: 1 }, 'TargetValue2': { max: 1 },\n                    },\n                ],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        select: [\n                            { bind: { to: 'Value' } },\n                            { bind: { to: 'TargetValue' } },\n                            { bind: { to: 'TargetValue2' } },\n                            { bind: { to: 'Minimum' } },\n                            { bind: { to: 'NeedsImprovement' } },\n                            { bind: { to: 'Satisfactory' } },\n                            { bind: { to: 'Good' } },\n                            { bind: { to: 'VeryGood' } },\n                            { bind: { to: 'Maximum' } },\n                        ]\n                    },\n                },\n            }],\n            supportsHighlight: true,\n            sorting: {\n                default: {},\n            },\n            drilldown: {\n                roles: ['Category']\n            }\n        };\n\n        //Variables\n        private clearCatcher: D3.Selection;\n        private bulletBody: D3.Selection;\n        private scrollContainer: D3.Selection;\n        private labelGraphicsContext: D3.Selection;\n        private bulletGraphicsContext: D3.Selection;\n        private model: BulletChartModel;\n        private behavior: BulletWebBehavior;\n        private interactivityService: IInteractivityService;\n        private hostService: IVisualHostServices;\n\n        private get reverse(): boolean {\n            return this.model.bulletChartSettings.orientation.reverse;\n        }\n\n        private get vertical(): boolean {\n            return this.model.bulletChartSettings.orientation.vertical;\n        }\n\n        public static DefaultStyleProperties(): BulletChartSettings {\n            return {\n                values: {\n                    targetValue: 0,\n                    targetValue2: 0,\n                    minimumPercent: 0,\n                    needsImprovementPercent: 25,\n                    satisfactoryPercent: 50,\n                    goodPercent: 100,\n                    veryGoodPercent: 125,\n                    maximumPercent: 200,\n                },\n                orientation: {\n                    orientation: Orientation.HORIZONTALLEFT,\n                    reverse: false,\n                    vertical: false\n                },\n                colors: {\n                    badColor: 'Darkred',\n                    needsImprovementColor: 'Red',\n                    satisfactoryColor: 'Yellow',\n                    goodColor: 'Green',\n                    veryGoodColor: 'Darkgreen',\n                    bulletColor: 'Black'\n                },\n                axis: {\n                    axis: true,\n                    axisColor: 'Grey',\n                    measureUnits: '',\n                    unitsColor: 'Grey',\n                },\n                labelSettings: {\n                    fontSize: 11,\n                    show: true,\n                    labelColor: 'Black',\n                },\n            };\n        }\n\n        private viewport: IViewport;\n\n        private get viewportIn(): IViewport {\n            return <IViewport>{\n                width: this.viewport.width,\n                height: this.viewport.height\n            };\n        }\n\n        private get viewportScroll(): IViewport {\n            let viewportIn = this.viewportIn;\n            return <IViewport>{\n                width: viewportIn.width - BulletChart.ScrollBarSize,\n                height: viewportIn.height - BulletChart.ScrollBarSize\n            };\n        }\n\n        private static getTextProperties(text: string, fontSize: number): TextProperties {\n            return <TextProperties>{\n                fontFamily: BulletChart.FontFamily,\n                fontSize: PixelConverter.fromPoint(fontSize),\n                text: text,\n            };\n        }\n        \n        // Convert a DataView into a view model\n        public static converter(dataView: DataView, options: VisualUpdateOptions): BulletChartModel {\n            let defaultSettings = BulletChart.DefaultStyleProperties();\n            let bulletModel: BulletChartModel = <BulletChartModel>{\n                bulletValueFormatString: null,\n                bulletChartSettings: defaultSettings,\n                bars: [],\n                barRects: [],\n                valueRects: [],\n                targetValues: [],\n            };\n\n            if (!dataView || !dataView.categorical || !dataView.categorical.values || dataView.categorical.values.length === 0\n                || !dataView.metadata || !dataView.metadata.columns || dataView.metadata.columns.length === 0) {\n                return bulletModel;\n            }\n\n            let objects = dataView.metadata.objects;\n            let settings = bulletModel.bulletChartSettings;\n\n            if (objects) {\n                settings.values.targetValue = DataViewObjects.getValue<number>(objects, bulletChartProps.values.targetValue, defaultSettings.values.targetValue);\n                settings.values.targetValue2 = DataViewObjects.getValue<number>(objects, bulletChartProps.values.targetValue2, defaultSettings.values.targetValue2);\n                settings.values.minimumPercent = DataViewObjects.getValue<number>(objects, bulletChartProps.values.minimumPercent, defaultSettings.values.minimumPercent);\n                settings.values.needsImprovementPercent = DataViewObjects.getValue<number>(objects, bulletChartProps.values.needsImprovementPercent, defaultSettings.values.needsImprovementPercent);\n                settings.values.satisfactoryPercent = DataViewObjects.getValue<number>(objects, bulletChartProps.values.satisfactoryPercent, defaultSettings.values.satisfactoryPercent);\n                settings.values.goodPercent = DataViewObjects.getValue<number>(objects, bulletChartProps.values.goodPercent, defaultSettings.values.goodPercent);\n                settings.values.veryGoodPercent = DataViewObjects.getValue<number>(objects, bulletChartProps.values.veryGoodPercent, defaultSettings.values.veryGoodPercent);\n                settings.values.maximumPercent = DataViewObjects.getValue<number>(objects, bulletChartProps.values.maximumPercent, defaultSettings.values.maximumPercent);\n\n                settings.orientation.orientation = DataViewObjects.getValue<string>(objects, bulletChartProps.orientation.orientation, defaultSettings.orientation.orientation);\n\n                settings.colors.badColor = DataViewObjects.getFillColor(objects, bulletChartProps.colors.badColor, defaultSettings.colors.badColor);\n                settings.colors.needsImprovementColor = DataViewObjects.getFillColor(objects, bulletChartProps.colors.needsImprovementColor, defaultSettings.colors.needsImprovementColor);\n                settings.colors.satisfactoryColor = DataViewObjects.getFillColor(objects, bulletChartProps.colors.satisfactoryColor, defaultSettings.colors.satisfactoryColor);\n                settings.colors.goodColor = DataViewObjects.getFillColor(objects, bulletChartProps.colors.goodColor, defaultSettings.colors.goodColor);\n                settings.colors.veryGoodColor = DataViewObjects.getFillColor(objects, bulletChartProps.colors.veryGoodColor, defaultSettings.colors.veryGoodColor);\n                settings.colors.bulletColor = DataViewObjects.getFillColor(objects, bulletChartProps.colors.bulletColor, defaultSettings.colors.bulletColor);\n\n                settings.axis.axis = DataViewObjects.getValue<boolean>(objects, bulletChartProps.axis.axis, defaultSettings.axis.axis);\n                settings.axis.axisColor = DataViewObjects.getFillColor(objects, bulletChartProps.axis.axisColor, defaultSettings.axis.axisColor);\n                settings.axis.measureUnits = TextMeasurementService.getTailoredTextOrDefault(BulletChart.getTextProperties(\n                    DataViewObjects.getValue<string>(objects, bulletChartProps.axis.measureUnits, defaultSettings.axis.measureUnits), BulletChart.DefaultSubtitleFontSizeInPt), BulletChart.MaxLabelWidth);\n                settings.axis.unitsColor = DataViewObjects.getFillColor(objects, bulletChartProps.axis.unitsColor, defaultSettings.axis.unitsColor);\n\n                settings.labelSettings.fontSize = DataViewObjects.getValue<number>(objects, bulletChartProps.labels.fontSize, defaultSettings.labelSettings.fontSize);\n                settings.labelSettings.show = DataViewObjects.getValue<boolean>(objects, bulletChartProps.labels.show, defaultSettings.labelSettings.show);\n                settings.labelSettings.labelColor = DataViewObjects.getFillColor(objects, bulletChartProps.labels.labelColor, defaultSettings.labelSettings.labelColor);\n            }\n            if (settings.orientation.orientation === Orientation.HORIZONTALRIGHT || settings.orientation.orientation === Orientation.VERTICALBOTTOM)\n                settings.orientation.reverse = true;\n\n            if (settings.orientation.orientation === Orientation.VERTICALTOP || settings.orientation.orientation === Orientation.VERTICALBOTTOM)\n                settings.orientation.vertical = true;\n\n            let categories: DataViewCategoryColumn,\n                categoryValues: any[],\n                categoryValuesLen: number = 1,\n                categoryFormatString: string;\n\n            if (dataView.categorical.categories) {\n                categories = dataView.categorical.categories[0];\n                categoryValues = categories.values;\n                categoryValuesLen = categoryValues.length;\n                categoryFormatString = valueFormatter.getFormatString(categories.source, bulletChartProps.formatString);\n            }\n\n            bulletModel.bulletValueFormatString = valueFormatter.getFormatString(dataView.categorical.values[0].source, bulletChartProps.formatString);\n\n            for (let idx = 0; idx < categoryValuesLen; idx++) {\n                let toolTipItems = [];\n                let category: string, value: number, targetValue: number, targetValue2: number, minimum: number, satisfactory: number,\n                    good: number, maximum: number, needsImprovement: number, veryGood: number;\n                let highlight: boolean = false,\n                    categoryIdentity: DataViewScopeIdentity;\n\n                if (categoryValues) {\n                    let categoryValue = categoryValues[idx];\n\n                    category = valueFormatter.format(categoryValue, categoryFormatString);\n                    categoryIdentity = categories.identity ? categories.identity[idx] : null;\n\n                    let textProperties = BulletChart.getTextProperties(category, settings.labelSettings.fontSize);\n                    category = TextMeasurementService.getTailoredTextOrDefault(textProperties, BulletChart.MaxLabelWidth - BulletChart.StartMarginHorizontal);\n\n                    let labelWidth = TextMeasurementService.measureSvgTextWidth(textProperties);\n                    let labelHeight = TextMeasurementService.estimateSvgTextHeight(textProperties);\n\n                    BulletChart.BiggestLabelWidth = Math.max(BulletChart.BiggestLabelWidth, labelWidth);\n                    BulletChart.BiggestLabelHeight = Math.max(BulletChart.BiggestLabelHeight, labelHeight);\n                }\n\n                let values = dataView.categorical.values;\n                targetValue = settings.values.targetValue;\n                targetValue2 = settings.values.targetValue2;\n\n                for (let i = 0; i < values.length; i++) {\n                    let col = values[i].source;\n                    let currentVal = values[i].values[idx] || 0;\n\n                    if (col && col.roles) {\n                        if (col.roles[bulletChartRoleNames.value]) {\n                            if (values[i].highlights)\n                                highlight = values[i].highlights[idx] !== null;\n                            toolTipItems.push({ value: currentVal, metadata: values[i] });\n                            value = currentVal;\n                        } else if (col.roles[bulletChartRoleNames.targetValue]) {\n                            toolTipItems.push({ value: currentVal, metadata: values[i] });\n                            targetValue = currentVal;\n                        } else if (col.roles[bulletChartRoleNames.targetValue2]) {\n                            toolTipItems.push({ value: currentVal, metadata: values[i] });\n                            targetValue2 = currentVal;\n                        } else if (col.roles[bulletChartRoleNames.minValue])\n                            minimum = currentVal;\n                        else if (col.roles[bulletChartRoleNames.needsImprovementValue])\n                            needsImprovement = currentVal;\n                        else if (col.roles[bulletChartRoleNames.satisfactoryValue])\n                            satisfactory = currentVal;\n                        else if (col.roles[bulletChartRoleNames.goodValue])\n                            good = currentVal;\n                        else if (col.roles[bulletChartRoleNames.veryGoodValue])\n                            veryGood = currentVal;\n                        else if (col.roles[bulletChartRoleNames.maxValue])\n                            maximum = currentVal;\n                    }\n                }\n\n                if (!minimum)\n                    minimum = settings.values.minimumPercent * targetValue / 100;\n                if (!needsImprovement)\n                    needsImprovement = settings.values.needsImprovementPercent * targetValue / 100;\n                if (!satisfactory)\n                    satisfactory = settings.values.satisfactoryPercent * targetValue / 100;\n                if (!good)\n                    good = settings.values.goodPercent * targetValue / 100;\n                if (!veryGood)\n                    veryGood = settings.values.veryGoodPercent * targetValue / 100;\n                if (!maximum)\n                    maximum = settings.values.maximumPercent * targetValue / 100;\n\n                let viewportLength = (settings.orientation.vertical ? (options.viewport.height - BulletChart.MaxLabelHeight) : (options.viewport.width - BulletChart.MaxLabelWidth)) -\n                    BulletChart.StartMarginHorizontal - BulletChart.ScrollBarSize;\n                let sortedRanges = [minimum, needsImprovement, satisfactory, good, veryGood, maximum].sort(d3.descending);\n                let scale = (d3.scale.linear()\n                    .clamp(true)\n                    .domain([minimum, Math.max(sortedRanges[0], targetValue, value)])\n                    .range(settings.orientation.vertical ? [viewportLength, 0] : [0, viewportLength]));\n\n                // Scalles without\n                let firstScale = scale(minimum);\n                let secondScale = scale(needsImprovement);\n                let thirdScale = scale(satisfactory);\n                let fourthScale = scale(good);\n                let fifthScale = scale(veryGood);\n                let lastScale = scale(maximum);\n                let valueScale = scale(value);\n\n                let firstColor = settings.colors.badColor, secondColor = settings.colors.needsImprovementColor,\n                    thirdColor = settings.colors.satisfactoryColor, fourthColor = settings.colors.goodColor, lastColor = settings.colors.veryGoodColor;\n\n                BulletChart.addItemToBarArray(bulletModel.barRects, idx, firstScale, secondScale, firstColor, toolTipItems, categoryIdentity);\n                BulletChart.addItemToBarArray(bulletModel.barRects, idx, secondScale, thirdScale, secondColor, toolTipItems, categoryIdentity);\n                BulletChart.addItemToBarArray(bulletModel.barRects, idx, thirdScale, fourthScale, thirdColor, toolTipItems, categoryIdentity);\n                BulletChart.addItemToBarArray(bulletModel.barRects, idx, fourthScale, fifthScale, fourthColor, toolTipItems, categoryIdentity);\n                BulletChart.addItemToBarArray(bulletModel.barRects, idx, fifthScale, lastScale, lastColor, toolTipItems, categoryIdentity);\n                BulletChart.addItemToBarArray(bulletModel.valueRects, idx, firstScale, valueScale, settings.colors.bulletColor, toolTipItems, categoryIdentity);\n\n                // markerValue\n                bulletModel.targetValues.push({\n                    barIndex: idx,\n                    value: scale(targetValue),\n                    fill: settings.colors.bulletColor,\n                    key: SelectionId.createWithIdAndMeasure(categoryIdentity, scale(targetValue).toString()).getKey(),\n                    value2: scale(targetValue2),\n                });\n\n                let xAxis = null;\n                if (settings.axis.axis) {\n                    xAxis = d3.svg.axis();\n                    xAxis.orient(settings.orientation.vertical ? \"left\" : \"bottom\");\n                    let minTickSize = Math.round(Math.max(3, viewportLength / 100));\n                    let axisValues = [value, targetValue, good, satisfactory, maximum, minimum, needsImprovement, veryGood]\n                        .filter(x => !isNaN(x));\n                    xAxis.tickFormat(valueFormatter.create({\n                        format: bulletModel.bulletValueFormatString,\n                        value: axisValues.length ? Math.max.apply(null, axisValues) : 0\n                    }).format);\n                    xAxis.ticks(minTickSize);\n                    xAxis.scale(scale);\n                }\n\n                let bar: BarData = {\n                    scale: scale,\n                    barIndex: idx,\n                    categoryLabel: category,\n                    x: (settings.orientation.vertical) ? BulletChart.StartMarginVertical + BulletChart.SpaceRequiredForBarVertically * idx : BulletChart.StartMarginHorizontal,\n                    y: (settings.orientation.vertical) ? BulletChart.StartMarginVertical : BulletChart.StartMarginHorizontal + BulletChart.SpaceRequiredForBar * idx,\n                    axis: xAxis,\n                    key: SelectionId.createWithIdAndMeasure(categoryIdentity, idx.toString()).getKey(),\n                };\n\n                bulletModel.bars.push(bar);\n            }\n\n            return bulletModel;\n        }\n\n        private static addItemToBarArray(collection: BarRect[], barIndex: number, start: number, end: number, fill: string, tooltipInfo?: any[], categoryIdentity?: any): void {\n            collection.push({\n                barIndex: barIndex,\n                start: start,\n                end: end,\n                fill: fill,\n                tooltipInfo: TooltipBuilder.createTooltipInfo(bulletChartProps.formatString, null, null, null, null, tooltipInfo),\n                selected: false,\n                identity: SelectionId.createWithId(categoryIdentity),\n                key: SelectionId.createWithIdAndMeasure(categoryIdentity, start + \" \" + end).getKey(),\n            });\n        }\n \n        /* One time setup*/\n        public init(options: VisualInitOptions): void {\n            let body = d3.select(options.element.get(0));\n            this.hostService = options.host;\n\n            this.bulletBody = body\n                .append('div')\n                .classed('bulletChart', true);\n\n            this.scrollContainer = this.bulletBody.append('svg')\n                .classed('bullet-scroll-region', true);\n            this.clearCatcher = appendClearCatcher(this.scrollContainer);\n\n            this.labelGraphicsContext = this.scrollContainer.append('g');\n            this.bulletGraphicsContext = this.scrollContainer.append('g');\n\n            this.behavior = new BulletWebBehavior();\n\n            this.interactivityService = createInteractivityService(options.host);\n        }\n\n        /* Called for data, size, formatting changes*/\n        public update(options: VisualUpdateOptions) {\n            if (!options.dataViews || !options.dataViews[0]) return;\n            BulletChart.BiggestLabelHeight = BulletChart.BiggestLabelWidth = 0;\n            let dataView = options.dataViews[0];\n            this.viewport = options.viewport;\n            this.model = BulletChart.converter(dataView, options);\n\n            //TODO: Calculating the baseline delta of the text. needs to be removed once the TExtMeasurementService.estimateSVGTextBaselineDelta is available.\n            this.baselineDelta = TextMeasurementHelper.estimateSvgTextBaselineDelta(BulletChart.getTextProperties(\"1\", this.model.bulletChartSettings.labelSettings.fontSize));\n\n            this.ClearViewport();\n            if (!this.model) {\n                return;\n            }\n\n            if (this.interactivityService) {\n                this.interactivityService.applySelectionStateToData(this.model.barRects);\n            }\n\n            this.bulletBody.style({\n                'height': this.viewportIn.height + 'px',\n                'width': this.viewportIn.width + 'px',\n            });\n            if (this.vertical) {\n                this.scrollContainer.attr({\n                    width: (this.model.bars.length * BulletChart.SpaceRequiredForBarVertically) + 'px',\n                    height: this.viewportScroll.height + 'px'\n                });\n            }\n            else {\n                this.scrollContainer.attr({\n                    height: (this.model.bars.length * BulletChart.SpaceRequiredForBar) + 'px',\n                    width: this.viewportScroll.width + 'px'\n                });\n            }\n\n            if (this.vertical)\n                this.setUpBulletsVertically(this.bulletBody, this.model, this.reverse);\n            else\n                this.setUpBulletsHorizontally(this.bulletBody, this.model, this.reverse);\n        }\n\n        private ClearViewport() {\n            this.labelGraphicsContext.selectAll(\"text\").remove();\n            this.bulletGraphicsContext.selectAll(\"rect\").remove();\n            this.bulletGraphicsContext.selectAll('axis').remove();\n            this.bulletGraphicsContext.selectAll('path').remove();\n            this.bulletGraphicsContext.selectAll('line').remove();\n            this.bulletGraphicsContext.selectAll('tick').remove();\n            this.bulletGraphicsContext.selectAll('g').remove();\n        }\n\n        private calculateLabelWidth(barData: BarData, bar?: BarRect, reversed?: boolean) {\n            if (reversed)\n                return BulletChart.StartMarginHorizontal + ((bar) ? bar.start : 0);\n\n            let textSize = TextMeasurementService.measureSvgTextWidth(BulletChart.getTextProperties(barData.categoryLabel, this.model.bulletChartSettings.labelSettings.fontSize));\n            if (textSize > BulletChart.BiggestLabelWidth)\n                return barData.x + BulletChart.MaxLabelWidth + ((bar) ? bar.start : 0);\n            return barData.x + BulletChart.BiggestLabelWidth + BulletChart.BarMargin + ((bar) ? bar.start : 0);\n        }\n\n        private calculateLabelHeight(barData: BarData, bar?: BarRect, reversed?: boolean) {\n            if (reversed)\n                return BulletChart.StartMarginVertical + ((bar) ? bar.end : 0);\n\n            let textSize = TextMeasurementService.measureSvgTextHeight(BulletChart.getTextProperties(barData.categoryLabel, this.model.bulletChartSettings.labelSettings.fontSize));\n            if (textSize > BulletChart.BiggestLabelHeight)\n                return barData.y + BulletChart.MaxLabelHeight + ((bar) ? bar.end : 0);\n            return barData.y + textSize + BulletChart.BarMargin + ((bar) ? bar.end : 0);\n        }\n\n        private setUpBulletsHorizontally(bulletBody: D3.Selection, model: BulletChartModel, reveresed: boolean) {\n            let bars = model.bars;\n            let rects = model.barRects;\n            let valueRects = model.valueRects;\n            let targetValues = model.targetValues;\n            let barSelection = this.labelGraphicsContext.selectAll('text').data(bars, (d: BarData) => d.key);\n            let rectSelection = this.bulletGraphicsContext.selectAll('rect.range').data(rects, (d: BarRect) => d.key);\n\n            // Draw bullets\n            let bullets = rectSelection.enter().append('rect').attr({\n                'x': ((d: BarRect) => { return this.calculateLabelWidth(bars[d.barIndex], d, reveresed); }),\n                'y': ((d: BarRect) => bars[d.barIndex].y - BulletChart.BulletSize / 2),\n                'width': ((d: BarRect) => d.end - d.start),\n                'height': BulletChart.BulletSize,\n            }).classed('range', true).style({\n                'fill': ((d: BarRect) => d.fill)\n            });\n\n            rectSelection.exit();\n\n            // Draw value rects\n            let valueSelection = this.bulletGraphicsContext.selectAll('rect').data(valueRects, (d: BarValueRect) => d.key);\n            valueSelection.enter().append('rect').attr({\n                'x': ((d: BarValueRect) => { return this.calculateLabelWidth(bars[d.barIndex], d, reveresed); }),\n                'y': ((d: BarValueRect) => bars[d.barIndex].y - BulletChart.BulletSize / 8),\n                'width': ((d: BarValueRect) => d.end - d.start),\n                'height': BulletChart.BulletSize * 1 / 4,\n            }).classed('value', true).style({\n                'fill': ((d: BarValueRect) => d.fill),\n            });\n\n            valueSelection.exit();\n            // Draw markers\n            let markerSelection = this.bulletGraphicsContext.selectAll('values').data(targetValues, (d: TargetValue) => d.key);\n            markerSelection.enter().append('line').attr({\n                'x1': ((d: TargetValue) => { return this.calculateLabelWidth(bars[d.barIndex], null, reveresed) + d.value; }),\n                'x2': ((d: TargetValue) => { return this.calculateLabelWidth(bars[d.barIndex], null, reveresed) + d.value; }),\n                'y1': ((d: TargetValue) => bars[d.barIndex].y - BulletChart.MarkerMarginHorizontal),\n                'y2': ((d: TargetValue) => bars[d.barIndex].y + BulletChart.MarkerMarginHorizontal),\n            }).style({\n                'stroke': ((d: TargetValue) => d.fill),\n                'stroke-width': 2,\n            });\n\n            markerSelection.enter().append('line').attr({\n                'x1': ((d: TargetValue) => { return this.calculateLabelWidth(bars[d.barIndex], null, reveresed) + d.value2; }),\n                'x2': ((d: TargetValue) => { return this.calculateLabelWidth(bars[d.barIndex], null, reveresed) + d.value2; }),\n                'y1': ((d: TargetValue) => bars[d.barIndex].y - BulletChart.MarkerMarginHorizontal),\n                'y2': ((d: TargetValue) => bars[d.barIndex].y + BulletChart.MarkerMarginHorizontal),\n            }).style({\n                'stroke': ((d: TargetValue) => d.fill),\n                'stroke-width': 2,\n                'transform': 'rotate(45deg)',\n                'transform-origin': '50% 50% 0',\n            });\n\n            markerSelection.enter().append('line').attr({\n                'x1': ((d: TargetValue) => { return this.calculateLabelWidth(bars[d.barIndex], null, reveresed) + d.value2; }),\n                'x2': ((d: TargetValue) => { return this.calculateLabelWidth(bars[d.barIndex], null, reveresed) + d.value2; }),\n                'y1': ((d: TargetValue) => bars[d.barIndex].y - BulletChart.MarkerMarginHorizontal),\n                'y2': ((d: TargetValue) => bars[d.barIndex].y + BulletChart.MarkerMarginHorizontal),\n            }).style({\n                'stroke': ((d: TargetValue) => d.fill),\n                'stroke-width': 2,\n                'transform': 'rotate(315deg)',\n                'transform-origin': '50% 50% 0',\n            });\n\n            markerSelection.exit();\n\n            // Draw axes\n            if (model.bulletChartSettings.axis.axis) {\n                // Using var instead of let since you can't pass let parameters to functions inside loops.\n                // needs to be changed to let when typescript 1.8 comes out.\n                for (var idx = 0; idx < bars.length; idx++) {\n                    var bar = bars[idx];\n                    this.bulletGraphicsContext.append(\"g\").attr({\n                        'transform': () => {\n                            let xLocation = this.calculateLabelWidth(bar, null, reveresed);\n                            let yLocation = bar.y + BulletChart.BulletSize / 2;\n\n                            return 'translate(' + xLocation + ',' + yLocation + ')';\n                        },\n                    }).classed(\"axis\", true).call(bar.axis.scale(bar.scale)).style({\n                        'fill': model.bulletChartSettings.axis.axisColor,\n                        'font-size': PixelConverter.fromPoint(BulletChart.AxisFontSizeInPt)\n                    }).selectAll('line').style({\n                        'stroke': model.bulletChartSettings.axis.axisColor,\n                    });\n                }\n            }\n\n            // Draw Labels\n            if (model.bulletChartSettings.labelSettings.show) {\n                barSelection.enter().append('text').classed(\"title\", true).attr({\n                    'x': ((d: BarData) => {\n                        if (reveresed)\n                            return this.bulletGraphicsContext.node<SVGElement>().getBoundingClientRect().width + BulletChart.StartMarginHorizontal;\n                        return d.x;\n                    }),\n                    'y': ((d: BarData) => d.y + this.baselineDelta),\n                    'fill': model.bulletChartSettings.labelSettings.labelColor,\n                    'font-size': PixelConverter.fromPoint(model.bulletChartSettings.labelSettings.fontSize),\n                }).text((d: BarData) => d.categoryLabel);\n            }\n\n            // Draw measure label\n            if (model.bulletChartSettings.axis.measureUnits) {\n                barSelection.enter().append('text').attr({\n                    'x': ((d: BarData) => {\n                        if (reveresed)\n                            return this.bulletGraphicsContext.node<SVGElement>().getBoundingClientRect().width - BulletChart.StartMarginHorizontal + BulletChart.SubtitleMargin;\n                        return d.x - BulletChart.SubtitleMargin;\n                    }),\n                    'y': ((d: BarData) => d.y + BulletChart.BulletSize),\n                    'fill': model.bulletChartSettings.axis.unitsColor,\n                    'font-size': PixelConverter.fromPoint(BulletChart.DefaultSubtitleFontSizeInPt)\n                }).text(model.bulletChartSettings.axis.measureUnits);\n            }\n\n            if (this.interactivityService) {\n                let behaviorOptions: BulletBehaviorOptions = {\n                    rects: bullets,\n                    valueRects: valueSelection,\n                    clearCatcher: this.clearCatcher,\n                    interactivityService: this.interactivityService,\n                    bulletChartSettings: this.model.bulletChartSettings,\n                    hasHighlights: false,\n                };\n\n                let targetCollection = this.model.barRects.concat(this.model.valueRects);\n                this.interactivityService.bind(targetCollection, this.behavior, behaviorOptions);\n            }\n\n            barSelection.exit();\n            TooltipManager.addTooltip(valueSelection, (tooltipEvent: TooltipEvent) => tooltipEvent.data.tooltipInfo, true);\n            TooltipManager.addTooltip(rectSelection, (tooltipEvent: TooltipEvent) => tooltipEvent.data.tooltipInfo, true);\n        }\n\n        private setUpBulletsVertically(bulletBody: D3.Selection, model: BulletChartModel, reveresed: boolean) {\n            let bars = model.bars;\n            let rects = model.barRects;\n            let valueRects = model.valueRects;\n            let targetValues = model.targetValues;\n            let barSelection = this.labelGraphicsContext.selectAll('text').data(bars, (d: BarData) => d.key);\n            let rectSelection = this.bulletGraphicsContext.selectAll('rect.range').data(rects, (d: BarRect) => d.key);\n\n            // Draw bullets\n            let bullets = rectSelection.enter().append('rect').attr({\n                'x': ((d: BarRect) => bars[d.barIndex].x),\n                'y': ((d: BarRect) => { return this.calculateLabelHeight(bars[d.barIndex], d, reveresed); }),\n                'height': ((d: BarRect) => d.start - d.end),\n                'width': BulletChart.BulletSize,\n            }).classed('range', true).style({\n                'fill': ((d: BarRect) => d.fill)\n            });\n\n            rectSelection.exit();\n\n            // Draw value rects\n            let valueSelection = this.bulletGraphicsContext.selectAll('rect').data(valueRects, (d: BarValueRect) => d.key);\n            valueSelection.enter().append('rect').attr({\n                'x': ((d: BarValueRect) => bars[d.barIndex].x + BulletChart.BulletSize / 3),\n                'y': ((d: BarValueRect) => { return this.calculateLabelHeight(bars[d.barIndex], d, reveresed); }),\n                'height': ((d: BarValueRect) => d.start - d.end),\n                'width': BulletChart.BulletSize * 1 / 4,\n            }).classed('value', true).style({\n                'fill': ((d: BarValueRect) => d.fill),\n            });\n\n            valueSelection.exit();\n\n            // Draw markers\n            let markerSelection = this.bulletGraphicsContext.selectAll('values').data(targetValues, (d: TargetValue) => d.key);\n            markerSelection.enter().append('line').attr({\n                'x2': ((d: TargetValue) => bars[d.barIndex].x + (BulletChart.MarkerMarginVertical * 3)),\n                'x1': ((d: TargetValue) => bars[d.barIndex].x + BulletChart.MarkerMarginVertical),\n                'y2': ((d: TargetValue) => { return this.calculateLabelHeight(bars[d.barIndex], null, reveresed) + d.value; }),\n                'y1': ((d: TargetValue) => { return this.calculateLabelHeight(bars[d.barIndex], null, reveresed) + d.value; }),\n            }).style({\n                'stroke': ((d: TargetValue) => d.fill),\n                'stroke-width': 2,\n            });\n\n            markerSelection.enter().append('line').attr({\n                'y1': ((d: TargetValue) => { return this.calculateLabelHeight(bars[d.barIndex], null, reveresed) + d.value2; }),\n                'y2': ((d: TargetValue) => { return this.calculateLabelHeight(bars[d.barIndex], null, reveresed) + d.value2; }),\n                'x1': ((d: TargetValue) => bars[d.barIndex].x + BulletChart.MarkerMarginVertical),\n                'x2': ((d: TargetValue) => bars[d.barIndex].x + (BulletChart.MarkerMarginVertical * 3)),\n            }).style({\n                'stroke': ((d: TargetValue) => d.fill),\n                'stroke-width': 2,\n                'transform': 'rotate(45deg)',\n                'transform-origin': '50% 50% 0',\n            });\n\n            markerSelection.enter().append('line').attr({\n                'y1': ((d: TargetValue) => { return this.calculateLabelHeight(bars[d.barIndex], null, reveresed) + d.value2; }),\n                'y2': ((d: TargetValue) => { return this.calculateLabelHeight(bars[d.barIndex], null, reveresed) + d.value2; }),\n                'x1': ((d: TargetValue) => bars[d.barIndex].x + BulletChart.MarkerMarginVertical),\n                'x2': ((d: TargetValue) => bars[d.barIndex].x + (BulletChart.MarkerMarginVertical * 3)),\n            }).style({\n                'stroke': ((d: TargetValue) => d.fill),\n                'stroke-width': 2,\n                'transform': 'rotate(315deg)',\n                'transform-origin': '50% 50% 0',\n            });\n\n            markerSelection.exit();\n\n            // // Draw axes\n            if (model.bulletChartSettings.axis.axis) {\n\n                // Using var instead of let since you can't pass let parameters to functions inside loops.\n                // needs to be changed to let when typescript 1.8 comes out.\n                for (var idx = 0; idx < bars.length; idx++) {\n                    var bar = bars[idx];\n                    this.bulletGraphicsContext.append(\"g\").attr({\n                        'transform': () => {\n                            let xLocation = bar.x;\n                            let yLocation = this.calculateLabelHeight(bar, null, reveresed);\n                            // let yLocation = bar.y + BulletChart.BulletSize / 2;\n                            return 'translate(' + xLocation + ',' + yLocation + ')';\n                        },\n                    }).classed(\"axis\", true).call(bar.axis.scale(bar.scale)).style({\n                        'fill': model.bulletChartSettings.axis.axisColor,\n                        'font-size': PixelConverter.fromPoint(BulletChart.AxisFontSizeInPt),\n                    }).selectAll('line').style({\n                        'stroke': model.bulletChartSettings.axis.axisColor,\n                    });\n                }\n            }\n\n            // Draw Labels\n            if (model.bulletChartSettings.labelSettings.show) {\n                barSelection.enter().append('text').classed(\"title\", true).attr({\n                    'x': ((d: BarData) => d.x),\n                    'y': ((d: BarData) => {\n                        if (reveresed)\n                            return this.bulletGraphicsContext.node<SVGElement>().getBoundingClientRect().height + BulletChart.StartMarginVertical + BulletChart.BulletSize;\n                        return d.y + TextMeasurementService.estimateSvgTextHeight(BulletChart.getTextProperties(d.categoryLabel,\n                            model.bulletChartSettings.labelSettings.fontSize)) / 2;\n                    }),\n                    'fill': model.bulletChartSettings.labelSettings.labelColor,\n                    'font-size': PixelConverter.fromPoint(model.bulletChartSettings.labelSettings.fontSize),\n                }).text((d: BarData) => d.categoryLabel);\n            }\n\n            // Draw measure label\n            if (model.bulletChartSettings.axis.measureUnits) {\n                barSelection.enter().append('text').attr({\n                    'x': ((d: BarData) => d.x + BulletChart.BulletSize),\n                    'y': ((d: BarData) => {\n                        if (reveresed)\n                            return this.bulletGraphicsContext.node<SVGElement>().getBoundingClientRect().height + BulletChart.StartMarginVertical + BulletChart.SubtitleMargin;\n                        return d.y + BulletChart.StartMarginVertical + BulletChart.SubtitleMargin;\n                    }),\n                    'fill': model.bulletChartSettings.axis.unitsColor,\n                    'font-size': PixelConverter.fromPoint(BulletChart.DefaultSubtitleFontSizeInPt)\n                }).text(model.bulletChartSettings.axis.measureUnits);\n            }\n\n            if (this.interactivityService) {\n                let behaviorOptions: BulletBehaviorOptions = {\n                    rects: bullets,\n                    valueRects: valueSelection,\n                    clearCatcher: this.clearCatcher,\n                    interactivityService: this.interactivityService,\n                    bulletChartSettings: this.model.bulletChartSettings,\n                    hasHighlights: false,\n                };\n\n                let targetCollection = this.model.barRects.concat(this.model.valueRects);\n                this.interactivityService.bind(targetCollection, this.behavior, behaviorOptions);\n            }\n\n            barSelection.exit();\n            TooltipManager.addTooltip(valueSelection, (tooltipEvent: TooltipEvent) => tooltipEvent.data.tooltipInfo, true);\n            TooltipManager.addTooltip(rectSelection, (tooltipEvent: TooltipEvent) => tooltipEvent.data.tooltipInfo, true);\n        }\n\n        /*About to remove your visual, do clean up here */\n        public destroy() { }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstance[] {\n            let data = this.model;\n            if (!data) {\n                return;\n            }\n\n            let objectName = options.objectName;\n            switch (objectName) {\n                case 'labels':\n                    return this.enumerateLabels(data);\n                case 'values':\n                    return this.enumerateValues(data);\n                case 'orientation':\n                    return this.enumerateOrientation(data);\n                case 'axis':\n                    return this.enumerateAxis(data);\n                case 'colors':\n                    return this.enumerateColors(data);\n            }\n        }\n\n        private enumerateLabels(data: BulletChartModel): VisualObjectInstance[] {\n            return [{\n                selector: null,\n                objectName: 'labels',\n                properties: {\n                    show: this.model.bulletChartSettings.labelSettings.show,\n                    labelColor: this.model.bulletChartSettings.labelSettings.labelColor,\n                    fontSize: this.model.bulletChartSettings.labelSettings.fontSize,\n                }\n            }];\n        }\n\n        private enumerateValues(data: BulletChartModel): VisualObjectInstance[] {\n            return [{\n                selector: null,\n                objectName: 'values',\n                properties: {\n                    targetValue: this.model.bulletChartSettings.values.targetValue,\n                    targetValue2: this.model.bulletChartSettings.values.targetValue2,\n                    minimumPercent: this.model.bulletChartSettings.values.minimumPercent,\n                    needsImprovementPercent: this.model.bulletChartSettings.values.needsImprovementPercent,\n                    satisfactoryPercent: this.model.bulletChartSettings.values.satisfactoryPercent,\n                    goodPercent: this.model.bulletChartSettings.values.goodPercent,\n                    veryGoodPercent: this.model.bulletChartSettings.values.veryGoodPercent,\n                    maximumPercent: this.model.bulletChartSettings.values.maximumPercent,\n                }\n            }];\n        }\n\n        private enumerateOrientation(data: BulletChartModel): VisualObjectInstance[] {\n            return [{\n                selector: null,\n                objectName: 'orientation',\n                properties: {\n                    orientation: this.model.bulletChartSettings.orientation.orientation\n                }\n            }];\n        }\n\n        private enumerateAxis(data: BulletChartModel): VisualObjectInstance[] {\n            return [{\n                selector: null,\n                objectName: 'axis',\n                properties: {\n                    axis: this.model.bulletChartSettings.axis.axis,\n                    axisColor: this.model.bulletChartSettings.axis.axisColor,\n                    measureUnits: this.model.bulletChartSettings.axis.measureUnits,\n                    unitsColor: this.model.bulletChartSettings.axis.unitsColor,\n                }\n            }];\n        }\n\n        private enumerateColors(data: BulletChartModel): VisualObjectInstance[] {\n            return [{\n                selector: null,\n                objectName: 'colors',\n                properties: {\n                    badColor: this.model.bulletChartSettings.colors.badColor,\n                    needsImprovementColor: this.model.bulletChartSettings.colors.needsImprovementColor,\n                    satisfactoryColor: this.model.bulletChartSettings.colors.satisfactoryColor,\n                    goodColor: this.model.bulletChartSettings.colors.goodColor,\n                    veryGoodColor: this.model.bulletChartSettings.colors.veryGoodColor,\n                    bulletColor: this.model.bulletChartSettings.colors.bulletColor,\n                }\n            }];\n        }\n    }\n\n    //TODO: This module should be removed once TextMeasruementService exports the \"estimateSvgTextBaselineDelta\" function.\n    export module TextMeasurementHelper {\n\n        interface CanvasContext {\n            font: string;\n            measureText(text: string): { width: number };\n        }\n\n        interface CanvasElement extends HTMLElement {\n            getContext(name: string);\n        }\n\n        let spanElement: JQuery;\n        let svgTextElement: D3.Selection;\n        let canvasCtx: CanvasContext;\n\n        export function estimateSvgTextBaselineDelta(textProperties: TextProperties): number {\n            let rect = estimateSvgTextRect(textProperties);\n            return rect.y + rect.height;\n        }\n\n        function ensureDOM(): void {\n            if (spanElement)\n                return;\n\n            spanElement = $('<span/>');\n            $('body').append(spanElement);\n            //The style hides the svg element from the canvas, preventing canvas from scrolling down to show svg black square.\n            svgTextElement = d3.select($('body').get(0))\n                .append('svg')\n                .style({\n                    'height': '0px',\n                    'width': '0px',\n                    'position': 'absolute'\n                })\n                .append('text');\n            canvasCtx = (<CanvasElement>$('<canvas/>').get(0)).getContext(\"2d\");\n        }\n\n        function measureSvgTextRect(textProperties: TextProperties): SVGRect {\n            debug.assertValue(textProperties, 'textProperties');\n\n            ensureDOM();\n\n            svgTextElement.style(null);\n            svgTextElement\n                .text(textProperties.text)\n                .attr({\n                    'visibility': 'hidden',\n                    'font-family': textProperties.fontFamily,\n                    'font-size': textProperties.fontSize,\n                    'font-weight': textProperties.fontWeight,\n                    'font-style': textProperties.fontStyle,\n                    'white-space': textProperties.whiteSpace || 'nowrap'\n                });\n\n            // We're expecting the browser to give a synchronous measurement here\n            // We're using SVGTextElement because it works across all browsers \n            return svgTextElement.node<SVGTextElement>().getBBox();\n        }\n\n        function estimateSvgTextRect(textProperties: TextProperties): SVGRect {\n            debug.assertValue(textProperties, 'textProperties');\n\n            let estimatedTextProperties: TextProperties = {\n                fontFamily: textProperties.fontFamily,\n                fontSize: textProperties.fontSize,\n                text: \"M\",\n            };\n\n            let rect = measureSvgTextRect(estimatedTextProperties);\n\n            return rect;\n        }\n    }\n\n    export interface BulletBehaviorOptions {\n        rects: D3.Selection;\n        valueRects: D3.Selection;\n        clearCatcher: D3.Selection;\n        interactivityService: IInteractivityService;\n        bulletChartSettings: BulletChartSettings;\n        hasHighlights: boolean;\n    }\n\n    export class BulletWebBehavior implements IInteractiveBehavior {\n        private options: BulletBehaviorOptions;\n\n        public bindEvents(options: BulletBehaviorOptions, selectionHandler: ISelectionHandler) {\n            this.options = options;\n            let clearCatcher = options.clearCatcher;\n\n            options.valueRects.on('click', (d: BarValueRect, i: number) => {\n                d3.event.stopPropagation();\n                selectionHandler.handleSelection(d, d3.event.ctrlKey);\n            });\n\n            options.rects.on('click', (d: BarRect, i: number) => {\n                d3.event.stopPropagation();\n                selectionHandler.handleSelection(d, d3.event.ctrlKey);\n            });\n\n            clearCatcher.on('click', () => {\n                selectionHandler.handleClearSelection();\n            });\n        }\n\n        public renderSelection(hasSelection: boolean) {\n            let options = this.options;\n\n            options.valueRects.style(\"opacity\", (d: BarValueRect) => {\n                return hasSelection ? (d.selected ? '1' : '0.4') : '1';\n            });\n\n            options.rects.style(\"opacity\", (d: BarRect) => {\n                return hasSelection ? (d.selected ? '1' : '0.4') : '1';\n            });\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/ https://github.com/jasondavies/d3-cloud\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\n\nmodule powerbi.visuals.samples {\n    import ValueFormatter = powerbi.visuals.valueFormatter;\n    import getAnimationDuration = AnimatorCommon.GetAnimationDuration;\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n\n    type D3Element =\n        D3.UpdateSelection\n        | D3.Selection\n        | D3.Selectors\n        | D3.Transition.Transition;\n\n    export enum WordCloudScaleType {\n        logn,\n        sqrt,\n        value\n    };\n\n    export interface WordCloudText {\n        text: string;\n        count: number;\n        index: number;\n        selectionId: SelectionId;\n        color: string;\n    }\n\n    export interface WordCloudDataPoint extends IPoint {\n        text: string;\n        xOff: number;\n        yOff: number;\n        rotate?: number;\n        size: number;\n        padding: number;\n        width: number;\n        height: number;\n        sprite?: number[];\n        x0: number;\n        y0: number;\n        x1: number;\n        y1: number;\n        color: string;\n        selectionId: SelectionId;\n        wordIndex: number;\n    }\n\n    export interface WordCloudData {\n        settings: WordCloudSettings;\n        texts: WordCloudText[];\n    }\n\n    export interface WordCloudDataView {\n        data: WordCloudDataPoint[];\n        leftBorder: IPoint;\n        rightBorder: IPoint;\n    }\n\n    export interface WordCloudConstructorOptions {\n        svg?: D3.Selection;\n        animator?: IGenericAnimator;\n        margin?: IMargin;\n    }\n\n    export interface WordCloudSettings {\n        minFontSize: number;\n        maxFontSize: number;\n        minAngle?: number;\n        maxAngle?: number;\n        maxNumberOfOrientations?: number;\n        valueFormatter?: IValueFormatter;\n        isRotateText: boolean;\n        isBrokenText: boolean;\n        isRemoveStopWords: boolean;\n        stopWords: string;\n        isDefaultStopWords: boolean;\n        stopWordsArray: string[];\n        maxNumberOfWords: number;\n    }\n\n    class VisualLayout {\n        private marginValue: IMargin;\n        private viewportValue: IViewport;\n        private viewportInValue: IViewport;\n\n        public defaultMargin: IMargin;\n        public defaultViewport: IViewport;\n\n        constructor(defaultViewport?: IViewport, defaultMargin?: IMargin) {\n            this.defaultViewport = defaultViewport || { width: 0, height: 0 };\n            this.defaultMargin = defaultMargin || { top: 0, bottom: 0, right: 0, left: 0 };\n        }\n\n        public get margin(): IMargin {\n            return this.marginValue || (this.margin = this.defaultMargin);\n        }\n\n        public set margin(value: IMargin) {\n            this.marginValue = VisualLayout.restrictToMinMax(value);\n            this.update();\n        }\n\n        public get viewport(): IViewport {\n            return this.viewportValue || (this.viewportValue = this.defaultViewport);\n        }\n\n        public set viewport(value: IViewport) {\n            this.viewportValue = VisualLayout.restrictToMinMax(value);\n            this.update();\n        }\n\n        public get viewportIn(): IViewport {\n            return this.viewportInValue || this.viewport;\n        }\n\n        public get viewportInIsZero(): boolean {\n            return this.viewportIn.width === 0 || this.viewportIn.height === 0;\n        }\n\n        private update(): void {\n            this.viewportInValue = VisualLayout.restrictToMinMax({\n                width: this.viewport.width - (this.margin.left + this.margin.right),\n                height: this.viewport.height - (this.margin.top + this.margin.bottom)\n            });\n        }\n\n        private static restrictToMinMax<T>(value: T): T {\n            let result = $.extend({}, value);\n            d3.keys(value).forEach(x => result[x] = Math.max(0, value[x]));\n            return result;\n        }\n    }\n\n    export class WordCloud implements IVisual {\n        private static ClassName: string = \"wordCloud\";\n\n        private static Properties: any = {\n            general: {\n                formatString: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"general\",\n                    propertyName: \"formatString\"\n                },\n                maxNumberOfWords: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"general\",\n                    propertyName: \"maxNumberOfWords\"\n                },\n                minFontSize: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"general\",\n                    propertyName: \"minFontSize\"\n                },\n                maxFontSize: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"general\",\n                    propertyName: \"maxFontSize\"\n                },\n                isBrokenText: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"general\",\n                    propertyName: \"isBrokenText\"\n                },\n            },\n            dataPoint: {\n                fill: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"dataPoint\",\n                    propertyName: \"fill\"\n                }\n            },\n            stopWords: {\n                show: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"stopWords\",\n                    propertyName: \"show\"\n                },\n                isDefaultStopWords: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"stopWords\",\n                    propertyName: \"isDefaultStopWords\"\n                },\n                words: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"stopWords\",\n                    propertyName: \"words\"\n                },\n            },\n            rotateText: {\n                show: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"rotateText\",\n                    propertyName: \"show\"\n                },\n                minAngle: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"rotateText\",\n                    propertyName: \"minAngle\"\n                },\n                maxAngle: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"rotateText\",\n                    propertyName: \"maxAngle\"\n                },\n                maxNumberOfOrientations: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"rotateText\",\n                    propertyName: \"maxNumberOfOrientations\"\n                }\n            }\n        };\n\n        private static Words: ClassAndSelector = {\n            \"class\": \"words\",\n            selector: \".words\"\n        };\n\n        private static Word: ClassAndSelector = {\n            \"class\": \"word\",\n            selector: \".word\"\n        };\n\n        private static Size: string = \"px\";\n        private static StopWordsDelemiter: string = \" \";\n\n        private static Radians: number = Math.PI / 180;\n\n        private static MinAngle: number = -180;\n        private static MaxAngle: number = 180;\n\n        private static MaxNumberOfWords: number = 2500;\n\n        private static MinOpacity: number = 0.2;\n        private static MaxOpacity: number = 1;\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [{\n                name: \"Category\",\n                kind: VisualDataRoleKind.Grouping,\n                displayName: \"Category\"\n            }, {\n                    name: \"Values\",\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: \"Values\"\n                }],\n            dataViewMappings: [{\n                conditions: [{\n                    \"Category\": {\n                        min: 1,\n                        max: 1\n                    },\n                    \"Values\": {\n                        min: 0,\n                        max: 1\n                    }\n                }],\n                categorical: {\n                    categories: {\n                        for: { in: \"Category\" },\n                        dataReductionAlgorithm: { top: { count: WordCloud.MaxNumberOfWords } }\n                    },\n                    values: {\n                        for: { in: \"Values\" }\n                    }\n                }\n            }],\n            sorting: {\n                implicit: {\n                    clauses: [{\n                        role: \"Values\",\n                        direction: 2 /*SortDirection.Descending*/ //Constant SortDirection.Descending currently is not supported on the msit\n                    }]\n                }\n            },\n            objects: {\n                general: {\n                    displayName: \"General\",\n                    properties: {\n                        formatString: {\n                            type: {\n                                formatting: {\n                                    formatString: true\n                                }\n                            }\n                        },\n                        maxNumberOfWords: {\n                            displayName: \"Max number of words\",\n                            type: { numeric: true }\n                        },\n                        minFontSize: {\n                            displayName: \"Min Font\",\n                            type: { numeric: true }\n                        },\n                        maxFontSize: {\n                            displayName: \"Max Font\",\n                            type: { numeric: true }\n                        },\n                        isBrokenText: {\n                            displayName: \"Word-breaking\",\n                            type: { bool: true }\n                        },\n                        isRemoveStopWords: {\n                            displayName: \"Stop Words\",\n                            type: { bool: true }\n                        }\n                    }\n                },\n                dataPoint: {\n                    displayName: \"Data colors\",\n                    properties: {\n                        fill: {\n                            displayName: \"Fill\",\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                stopWords: {\n                    displayName: \"Stop Words\",\n                    properties: {\n                        show: {\n                            displayName: \"Show\",\n                            type: { bool: true }\n                        },\n                        isDefaultStopWords: {\n                            displayName: \"Default Stop Words\",\n                            type: { bool: true }\n                        },\n                        words: {\n                            displayName: \"Words\",\n                            type: { text: true }\n                        }\n                    }\n                },\n                rotateText: {\n                    displayName: \"Rotate Text\",\n                    properties: {\n                        show: {\n                            displayName: \"Show\",\n                            type: { bool: true }\n                        },\n                        minAngle: {\n                            displayName: \"Min Angle\",\n                            type: { numeric: true }\n                        },\n                        maxAngle: {\n                            displayName: \"Max Angle\",\n                            type: { numeric: true }\n                        },\n                        maxNumberOfOrientations: {\n                            displayName: \"Max number of orientations\",\n                            type: { numeric: true }\n                        }\n                    }\n                }\n            }\n        };\n\n        private static Punctuation: string[] = [\n            \"!\", \".\", \":\", \"'\", \";\", \",\", \"!\",\n            \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\",\n            \"(\", \")\", \"[\", \"]\", \"\\\"\", \"\\\\\", \"/\",\n            \"-\", \"_\", \"+\", \"=\"\n        ];\n\n        private static StopWords: string[] = [\n            \"a\", \"able\", \"about\", \"across\", \"after\", \"all\", \"almost\", \"also\", \"am\", \"among\", \"an\",\n            \"and\", \"any\", \"are\", \"as\", \"at\", \"be\", \"because\", \"been\", \"but\", \"by\", \"can\", \"cannot\",\n            \"could\", \"did\", \"do\", \"does\", \"either\", \"else\", \"ever\", \"every\", \"for\", \"from\", \"get\",\n            \"got\", \"had\", \"has\", \"have\", \"he\", \"her\", \"hers\", \"him\", \"his\", \"how\", \"however\", \"i\",\n            \"if\", \"in\", \"into\", \"is\", \"it\", \"its\", \"just\", \"least\", \"let\", \"like\", \"likely\", \"may\",\n            \"me\", \"might\", \"most\", \"must\", \"my\", \"neither\", \"no\", \"nor\", \"not\", \"of\", \"off\", \"often\",\n            \"on\", \"only\", \"or\", \"other\", \"our\", \"own\", \"rather\", \"said\", \"say\", \"says\", \"she\", \"should\",\n            \"since\", \"so\", \"some\", \"than\", \"that\", \"the\", \"their\", \"them\", \"then\", \"there\", \"these\",\n            \"they\", \"this\", \"tis\", \"to\", \"too\", \"twas\", \"us\", \"wants\", \"was\", \"we\", \"were\", \"what\",\n            \"when\", \"where\", \"which\", \"while\", \"who\", \"whom\", \"why\", \"will\", \"with\", \"would\", \"yet\",\n            \"you\", \"your\"\n        ];\n\n        private static DefaultSettings: WordCloudSettings = {\n            minFontSize: 20,\n            maxFontSize: 100,\n            minAngle: -60,\n            maxAngle: 90,\n            maxNumberOfOrientations: 2,\n            isRotateText: false,\n            isBrokenText: true,\n            isRemoveStopWords: false,\n            stopWordsArray: [],\n            stopWords: undefined,\n            isDefaultStopWords: false,\n            maxNumberOfWords: 200\n        };\n\n        private static RenderDelay: number = 50;\n\n        private static DefaultMargin: IMargin = {\n            top: 10,\n            right: 10,\n            bottom: 10,\n            left: 10\n        };\n\n        private settings: WordCloudSettings;\n        private wordCloudTexts: WordCloudText[];\n        private wordCloudDataView: WordCloudDataView;\n        private data: WordCloudData;\n        private dataBeforeRender: WordCloudDataPoint[];\n\n        private durationAnimations: number = 500;\n\n        private specialViewport: IViewport;\n\n        private fakeViewport: IViewport = {\n            width: 1500,\n            height: 1000\n        };\n\n        private canvasViewport: IViewport = {\n            width: 128,\n            height: 2048\n        };\n\n        public static colors: IDataColorPalette;\n        private root: D3.Selection;\n        private svg: D3.Selection;\n        private main: D3.Selection;\n        private wordsContainerSelection: D3.Selection;\n        private wordsSelection: D3.UpdateSelection;\n\n        private canvas: HTMLCanvasElement;\n\n        private fontFamily: string;\n\n        private animator: IGenericAnimator;\n\n        private layout: VisualLayout;\n\n        private hostService: IVisualHostServices;\n        private selectionManager: utility.SelectionManager;\n\n        private visualUpdateOptions: VisualUpdateOptions;\n\n        constructor(options?: WordCloudConstructorOptions) {\n            if (options) {\n                this.svg = options.svg || this.svg;\n                this.layout = new VisualLayout(null, options.margin || WordCloud.DefaultMargin);\n\n                if (options.animator)\n                    this.animator = options.animator;\n            }\n        }\n\n        public init(options: VisualInitOptions): void {\n            if (this.svg)\n                this.root = this.svg;\n            else\n                this.root = d3.select(options.element.get(0)).append(\"svg\");\n\n            WordCloud.colors = options.style.colorPalette.dataColors;\n            this.hostService = options.host;\n            this.selectionManager = new utility.SelectionManager({ hostServices: this.hostService });\n\n            if (!this.layout)\n                this.layout = new VisualLayout(null, WordCloud.DefaultMargin);\n\n            this.root.classed(WordCloud.ClassName, true);\n\n            this.root.on(\"click\", () => {\n                this.selectionManager.clear();\n                this.setSelection(this.wordsSelection);\n            });\n\n            this.fontFamily = this.root.style(\"font-family\");\n\n            this.main = this.root.append(\"g\");\n\n            this.wordsContainerSelection = this.main\n                .append(\"g\")\n                .classed(WordCloud.Words[\"class\"], true);\n\n            this.canvas = document.createElement(\"canvas\");\n        }\n\n        public converter(dataView: DataView): WordCloudData {\n            if (!dataView ||\n                !dataView.categorical ||\n                !dataView.categorical.categories ||\n                !dataView.categorical.categories[0] ||\n                !dataView.categorical.categories[0].values ||\n                !dataView.categorical.categories[0].values.length ||\n                !(dataView.categorical.categories[0].values.length > 0))\n                return null;\n\n            let categories: string[] = dataView.categorical.categories[0].values,\n                settings: WordCloudSettings = WordCloud.parseSettings(dataView, categories[0]),\n                frequencies: number[],\n                texts: WordCloudText[];\n            if (!settings)\n                return null;\n\n            if (!_.isEmpty(dataView.categorical.values) &&\n                !_.isEmpty(dataView.categorical.values[0]) &&\n                !_.isEmpty(dataView.categorical.values[0].values))\n                frequencies = dataView.categorical.values[0].values;\n\n            texts = categories.map((item: string, index: number) => {\n                let color, categoryObject = dataView.categorical.categories[0];\n                if (categoryObject.objects && categoryObject.objects[index])\n                    color = this.getColor(WordCloud.Properties.dataPoint.fill, explore.util.getRandomColor(), categoryObject.objects[index]);\n                else {\n                    if (this.wordCloudTexts && this.wordCloudTexts[index])\n                        color = this.wordCloudTexts[index].color;\n                    else\n                        color = explore.util.getRandomColor();\n                }\n\n                return <WordCloudText>{\n                    text: item,\n                    count: (frequencies && frequencies[index] && !isNaN(frequencies[index])) ? frequencies[index] : 1,\n                    index: index,\n                    selectionId: SelectionId.createWithId(dataView.categorical.categories[0].identity[index]),\n                    color: color,\n                };\n            });\n\n            return <WordCloudData>{\n                settings: settings,\n                texts: texts\n            };\n        }\n\n        private getColor(properties: any, defaultColor: string, objects: DataViewObjects): string {\n            let colorHelper: ColorHelper;\n\n            colorHelper = new ColorHelper(WordCloud.colors, properties, defaultColor);\n\n            return explore.util.hexToRgb(colorHelper.getColorForMeasure(objects, \"\"));\n        }\n\n        private static parseSettings(dataView: DataView, value: any): WordCloudSettings {\n            if (!dataView ||\n                !dataView.metadata ||\n                !dataView.metadata.columns ||\n                !dataView.metadata.columns[0])\n                return null;\n\n            let objects: DataViewObjects = dataView.metadata.objects,\n                valueFormatter: IValueFormatter,\n                minFontSize: number,\n                maxFontSize: number,\n                minAngle: number,\n                maxAngle: number,\n                maxNumberOfOrientations: number,\n                isRotateText: boolean = false,\n                isBrokenText: boolean = true,\n                isRemoveStopWords: boolean = true,\n                stopWords: string,\n                stopWordsArray: string[],\n                isDefaultStopWords: boolean = false,\n                maxNumberOfWords: number;\n\n            maxNumberOfWords = WordCloud.getNumberFromObjects(\n                objects,\n                WordCloud.Properties.general.maxNumberOfWords,\n                WordCloud.DefaultSettings.maxNumberOfWords);\n\n            minFontSize = WordCloud.getNumberFromObjects(\n                objects,\n                WordCloud.Properties.general.minFontSize,\n                WordCloud.DefaultSettings.minFontSize);\n\n            maxFontSize = WordCloud.getNumberFromObjects(\n                objects,\n                WordCloud.Properties.general.maxFontSize,\n                WordCloud.DefaultSettings.maxFontSize);\n\n            minAngle = WordCloud.getNumberFromObjects(\n                objects,\n                WordCloud.Properties.rotateText.minAngle,\n                WordCloud.DefaultSettings.minAngle);\n\n            maxAngle = WordCloud.getNumberFromObjects(\n                objects,\n                WordCloud.Properties.rotateText.maxAngle,\n                WordCloud.DefaultSettings.maxAngle);\n\n            isRotateText = DataViewObjects.getValue<boolean>(\n                objects,\n                WordCloud.Properties.rotateText.show,\n                WordCloud.DefaultSettings.isRotateText);\n\n            maxNumberOfOrientations = WordCloud.getNumberFromObjects(\n                objects,\n                WordCloud.Properties.rotateText.maxNumberOfOrientations,\n                WordCloud.DefaultSettings.maxNumberOfOrientations);\n\n            valueFormatter = ValueFormatter.create({\n                format: ValueFormatter.getFormatString(\n                    dataView.categorical.categories[0].source,\n                    WordCloud.Properties.general.formatString),\n                value: value\n            });\n\n            isBrokenText = DataViewObjects.getValue<boolean>(\n                objects,\n                WordCloud.Properties.general.isBrokenText,\n                WordCloud.DefaultSettings.isBrokenText);\n\n            isRemoveStopWords = DataViewObjects.getValue<boolean>(\n                objects,\n                WordCloud.Properties.stopWords.show,\n                WordCloud.DefaultSettings.isRemoveStopWords);\n\n            stopWords = DataViewObjects.getValue(\n                objects,\n                WordCloud.Properties.stopWords.words,\n                WordCloud.DefaultSettings.stopWords);\n\n            if (typeof stopWords === \"string\")\n                stopWordsArray = stopWords.split(WordCloud.StopWordsDelemiter);\n            else\n                stopWordsArray = WordCloud.DefaultSettings.stopWordsArray;\n\n            isDefaultStopWords = DataViewObjects.getValue<boolean>(\n                objects,\n                WordCloud.Properties.stopWords.isDefaultStopWords,\n                WordCloud.DefaultSettings.isDefaultStopWords);\n\n            return {\n                minFontSize: minFontSize,\n                maxFontSize: maxFontSize,\n                minAngle: minAngle,\n                maxAngle: maxAngle,\n                maxNumberOfOrientations: maxNumberOfOrientations,\n                valueFormatter: valueFormatter,\n                isRotateText: isRotateText,\n                isBrokenText: isBrokenText,\n                isRemoveStopWords: isRemoveStopWords,\n                stopWords: stopWords,\n                stopWordsArray: stopWordsArray,\n                isDefaultStopWords: isDefaultStopWords,\n                maxNumberOfWords: maxNumberOfWords\n            };\n        }\n\n        private static getNumberFromObjects(objects: DataViewObjects, properties: any, defaultValue: number): number {\n            return objects ? DataViewObjects.getValue<number>(objects, properties, defaultValue) : defaultValue;\n        }\n\n        private parseNumber(\n            value: number | string,\n            defaultValue: number = 0,\n            minValue: number = -Number.MAX_VALUE,\n            maxValue: number = Number.MAX_VALUE): number {\n            let parsedValue: number = Number(value);\n\n            if (isNaN(parsedValue) || (typeof value === \"string\" && value.length === 0))\n                return defaultValue;\n\n            if (parsedValue < minValue)\n                return minValue;\n\n            if (parsedValue > maxValue)\n                return maxValue;\n\n            return parsedValue;\n        }\n\n        private computePositions(words: WordCloudDataPoint[], onPositionsComputed: (WordCloudDataView) => void): void {\n            let context: CanvasRenderingContext2D = this.getCanvasContext(),\n                surface: number[] = [],\n                borders: IPoint[] = null,\n                maxNumberOfWords: number;\n\n            if (!words || !(words.length > 0))\n                return null;\n\n            maxNumberOfWords = Math.abs(this.parseNumber(\n                this.settings.maxNumberOfWords,\n                WordCloud.DefaultSettings.maxNumberOfWords,\n                words.length * -1,\n                words.length));\n\n            if (words.length > maxNumberOfWords)\n                words = words.slice(0, maxNumberOfWords);\n\n            for (let i: number; i < (this.specialViewport.width >> 5) * this.specialViewport.height; i++) {\n                surface[i] = 0;\n            }\n\n            setTimeout(() => this.computeCycle(words, context, surface, borders, onPositionsComputed, [], 0), 0);\n        }\n\n        private computeCycle(\n            words: WordCloudDataPoint[],\n            context: CanvasRenderingContext2D,\n            surface: number[],\n            borders: IPoint[],\n            onPositionsComputed: (WordCloudDataView) => void,\n            wordsForDraw: WordCloudDataPoint[] = [],\n            index: number = 0): void {\n            let word: WordCloudDataPoint = words[index],\n                ratio: number = 1;\n\n            if (words.length <= 10)\n                ratio = 5;\n            else if (words.length <= 25)\n                ratio = 3;\n            else if (words.length <= 75)\n                ratio = 1.5;\n            else if (words.length <= 100)\n                ratio = 1.25;\n\n            word.x = (this.specialViewport.width / ratio * (Math.random() + 0.5)) >> 1;\n            word.y = (this.specialViewport.height / ratio * (Math.random() + 0.5)) >> 1;\n\n            this.generateSprites(context, word, words, index);\n\n            if (word.sprite && this.findPosition(surface, word, borders)) {\n                wordsForDraw.push(word);\n\n                borders = this.updateBorders(word, borders);\n                word.x -= this.specialViewport.width >> 1;\n                word.y -= this.specialViewport.height >> 1;\n            }\n\n            if (++index < words.length && this.root)\n                this.computeCycle(words, context, surface, borders, onPositionsComputed, wordsForDraw, index);\n            else {\n                onPositionsComputed({\n                    data: wordsForDraw,\n                    leftBorder: borders && borders[0],\n                    rightBorder: borders && borders[1]\n                });\n            }\n        }\n\n        private updateBorders(word: WordCloudDataPoint, borders: IPoint[]): IPoint[] {\n            if (borders && borders.length === 2) {\n                let leftBorder: IPoint = borders[0],\n                    rightBorder: IPoint = borders[1];\n\n                if (word.x + word.x0 < leftBorder.x)\n                    leftBorder.x = word.x + word.x0;\n\n                if (word.y + word.y0 < leftBorder.y)\n                    leftBorder.y = word.y + word.y0;\n\n                if (word.x + word.x1 > rightBorder.x)\n                    rightBorder.x = word.x + word.x1;\n\n                if (word.y + word.y1 > rightBorder.y)\n                    rightBorder.y = word.y + word.y1;\n            } else {\n                borders = [\n                    {\n                        x: word.x + word.x0,\n                        y: word.y + word.y0\n                    }, {\n                        x: word.x + word.x1,\n                        y: word.y + word.y1\n                    }\n                ];\n            }\n\n            return borders;\n        }\n\n        private generateSprites(\n            context: CanvasRenderingContext2D,\n            currentWord: WordCloudDataPoint,\n            words: WordCloudDataPoint[],\n            index: number): void {\n            if (currentWord.sprite)\n                return;\n\n            context.clearRect(0, 0, this.canvasViewport.width << 5, this.canvasViewport.height);\n\n            let x: number = 0,\n                y: number = 0,\n                maxHeight: number = 0,\n                quantityOfWords: number = words.length,\n                pixels: Uint8ClampedArray,\n                sprite: number[] = [];\n\n            for (let i: number = index; i < quantityOfWords; i++) {\n                let currentWordData: WordCloudDataPoint = words[i],\n                    widthOfWord: number = 0,\n                    heightOfWord: number = 0;\n\n                context.save();\n                context.font = \"normal normal \" + (currentWordData.size + 1) + WordCloud.Size + \" \" + this.fontFamily;\n\n                widthOfWord = context.measureText(currentWordData.text + \"m\").width;\n                heightOfWord = currentWordData.size << 1;\n\n                if (currentWordData.rotate) {\n                    let sr: number = Math.sin(currentWordData.rotate * WordCloud.Radians),\n                        cr: number = Math.cos(currentWordData.rotate * WordCloud.Radians),\n                        widthCr: number = widthOfWord * cr,\n                        widthSr: number = widthOfWord * sr,\n                        heightCr: number = heightOfWord * cr,\n                        heightSr: number = heightOfWord * sr;\n\n                    widthOfWord = (Math.max(Math.abs(widthCr + heightSr), Math.abs(widthCr - heightSr)) + 31) >> 5 << 5;\n                    heightOfWord = Math.floor(Math.max(Math.abs(widthSr + heightCr), Math.abs(widthSr - heightCr)));\n                } else\n                    widthOfWord = (widthOfWord + 31) >> 5 << 5;\n\n                if (heightOfWord > maxHeight)\n                    maxHeight = heightOfWord;\n\n                if (x + widthOfWord >= (this.canvasViewport.width << 5)) {\n                    x = 0;\n                    y += maxHeight;\n                    maxHeight = 0;\n                }\n\n                context.translate((x + (widthOfWord >> 1)), (y + (heightOfWord >> 1)));\n\n                if (currentWordData.rotate)\n                    context.rotate(currentWordData.rotate * WordCloud.Radians);\n\n                context.fillText(currentWordData.text, 0, 0);\n\n                if (currentWordData.padding) {\n                    context.lineWidth = 2 * currentWordData.padding;\n                    context.strokeText(currentWordData.text, 0, 0);\n                }\n\n                context.restore();\n\n                currentWordData.width = widthOfWord;\n                currentWordData.height = heightOfWord;\n                currentWordData.xOff = x;\n                currentWordData.yOff = y;\n                currentWordData.x1 = widthOfWord >> 1;\n                currentWordData.y1 = heightOfWord >> 1;\n                currentWordData.x0 = -currentWordData.x1;\n                currentWordData.y0 = -currentWordData.y1;\n\n                x += widthOfWord;\n            }\n\n            pixels = context.getImageData(0, 0, this.canvasViewport.width << 5, this.canvasViewport.height).data;\n\n            sprite = [];\n\n            for (let i = quantityOfWords - 1; i >= 0; i--) {\n                let currentWordData: WordCloudDataPoint = words[i],\n                    width: number = currentWordData.width,\n                    width32: number = width >> 5,\n                    height: number = currentWordData.y1 - currentWordData.y0,\n                    x: number = 0,\n                    y: number = 0,\n                    seen: number = 0,\n                    seenRow: number = 0;\n\n                if (currentWordData.xOff + width >= (this.canvasViewport.width << 5) ||\n                    currentWordData.yOff + height >= this.canvasViewport.height) {\n                    currentWordData.sprite = null;\n\n                    continue;\n                }\n\n                for (let j = 0; j < height * width32; j++) {\n                    sprite[j] = 0;\n                }\n\n                if (currentWordData.xOff !== null)\n                    x = currentWordData.xOff;\n                else\n                    return;\n\n                y = currentWordData.yOff;\n\n                seen = 0;\n                seenRow = -1;\n\n                for (let j = 0; j < height; j++) {\n                    for (let k = 0; k < width; k++) {\n                        let l: number = width32 * j + (k >> 5),\n                            index: number = ((y + j) * (this.canvasViewport.width << 5) + (x + k)) << 2,\n                            m: number = pixels[index]\n                                ? 1 << (31 - (k % 32))\n                                : 0;\n\n                        sprite[l] |= m;\n                        seen |= m;\n                    }\n\n                    if (seen)\n                        seenRow = j;\n                    else {\n                        currentWordData.y0++;\n                        height--;\n                        j--;\n                        y++;\n                    }\n                }\n\n                currentWordData.y1 = currentWordData.y0 + seenRow;\n                currentWordData.sprite = sprite.slice(0, (currentWordData.y1 - currentWordData.y0) * width32);\n            }\n        }\n\n        private findPosition(surface: number[], word: WordCloudDataPoint, borders: IPoint[]): boolean {\n            let startPoint: IPoint = { x: word.x, y: word.y },\n                delta = Math.sqrt(this.specialViewport.width * this.specialViewport.width + this.specialViewport.height * this.specialViewport.height),\n                point: IPoint,\n                dt: number = Math.random() < 0.5 ? 1 : -1,\n                shift: number = -dt,\n                dx: number,\n                dy: number;\n\n            while (true) {\n                shift += dt;\n\n                point = this.archimedeanSpiral(shift);\n\n                dx = Math.floor(point.x);\n                dy = Math.floor(point.y);\n\n                if (Math.min(Math.abs(dx), Math.abs(dy)) >= delta)\n                    break;\n\n                word.x = startPoint.x + dx;\n                word.y = startPoint.y + dy;\n\n                if (word.x + word.x0 < 0 ||\n                    word.y + word.y0 < 0 ||\n                    word.x + word.x1 > this.specialViewport.width ||\n                    word.y + word.y1 > this.specialViewport.height)\n                    continue;\n\n                if (!borders || !this.checkIntersect(word, surface)) {\n                    if (!borders || this.checkIntersectOfRectangles(word, borders[0], borders[1])) {\n                        let sprite: number[] = word.sprite,\n                            width: number = word.width >> 5,\n                            shiftWidth: number = this.specialViewport.width >> 5,\n                            lx: number = word.x - (width << 4),\n                            sx: number = lx & 127,\n                            msx: number = 32 - sx,\n                            height: number = word.y1 - word.y0,\n                            x: number = (word.y + word.y0) * shiftWidth + (lx >> 5);\n\n                        for (let i: number = 0; i < height; i++) {\n                            let lastSprite: number = 0;\n\n                            for (let j: number = 0; j <= width; j++) {\n                                let leftMask: number = lastSprite << msx,\n                                    rightMask: number;\n\n                                if (j < width)\n                                    lastSprite = sprite[i * width + j];\n\n                                rightMask = j < width\n                                    ? lastSprite >>> sx\n                                    : 0;\n\n                                surface[x + j] |= leftMask | rightMask;\n                            }\n\n                            x += shiftWidth;\n                        }\n\n                        word.sprite = null;\n\n                        return true;\n                    }\n                }\n            }\n\n            return false;\n        }\n\n        private archimedeanSpiral(value: number): IPoint {\n            let ratio: number = this.specialViewport.width / this.specialViewport.height;\n\n            value = value * 0.1;\n\n            return {\n                x: ratio * value * Math.cos(value),\n                y: value * Math.sin(value)\n            };\n        }\n\n        private checkIntersect(word: WordCloudDataPoint, surface: number[]): boolean {\n            let shiftWidth: number = this.specialViewport.width >> 5,\n                sprite: number[] = word.sprite,\n                widthOfWord = word.width >> 5,\n                lx: number = word.x - (widthOfWord << 4),\n                sx: number = lx & 127,\n                msx: number = 32 - sx,\n                heightOfWord = word.y1 - word.y0,\n                x: number = (word.y + word.y0) * shiftWidth + (lx >> 5);\n\n            for (let i = 0; i < heightOfWord; i++) {\n                let lastSprite: number = 0;\n\n                for (let j = 0; j <= widthOfWord; j++) {\n                    let mask: number = 0,\n                        leftMask: number,\n                        intersectMask: number = 0;\n\n                    leftMask = lastSprite << msx;\n\n                    if (j < widthOfWord)\n                        lastSprite = sprite[i * widthOfWord + j];\n\n                    mask = j < widthOfWord\n                        ? lastSprite >>> sx\n                        : 0;\n\n                    intersectMask = (leftMask | mask) & surface[x + j];\n\n                    if (intersectMask)\n                        return true;\n                }\n\n                x += shiftWidth;\n            }\n\n            return false;\n        }\n\n        private checkIntersectOfRectangles(word: WordCloudDataPoint, leftBorder: IPoint, rightBorder: IPoint): boolean {\n            return (word.x + word.x1) > leftBorder.x &&\n                (word.x + word.x0) < rightBorder.x &&\n                (word.y + word.y1) > leftBorder.y &&\n                (word.y + word.y0) < rightBorder.y;\n        }\n\n        private getCanvasContext(): CanvasRenderingContext2D {\n            if (!this.canvasViewport)\n                return null;\n\n            this.canvas.width = 1;\n            this.canvas.height = 1;\n\n            let context: CanvasRenderingContext2D = this.canvas.getContext(\"2d\");\n\n            this.canvas.width = this.canvasViewport.width << 5;\n            this.canvas.height = this.canvasViewport.height;\n\n            context = this.canvas.getContext(\"2d\");\n            context.fillStyle = context.strokeStyle = \"red\";\n            context.textAlign = \"center\";\n\n            return context;\n        }\n\n        private getReducedText(texts: WordCloudText[]): WordCloudText[] {\n            let brokenStrings: WordCloudText[] = [];\n            brokenStrings = this.getBrokenWords(texts);\n\n            return brokenStrings.reduce((previousValue: WordCloudText[], currentValue: WordCloudText) => {\n                if (!previousValue.some((value: WordCloudText) => {\n                    if (value.index !== currentValue.index && value.text === currentValue.text) {\n                        value.count += currentValue.count;\n\n                        return true;\n                    }\n\n                    return false;\n                })) {\n                    previousValue.push(currentValue);\n                }\n\n                return previousValue;\n            }, []);\n        }\n\n        private getBrokenWords(words: WordCloudText[]): WordCloudText[] {\n            let brokenStrings: WordCloudText[] = [],\n                whiteSpaceRegExp: RegExp = /\\s/,\n                punctuatuinRegExp: RegExp;\n\n            if (!this.settings.isBrokenText)\n                return words;\n\n            punctuatuinRegExp = new RegExp(`[${WordCloud.Punctuation.join(\"\\\\\")}]`, \"gim\");\n\n            words.forEach((item: WordCloudText) => {\n                if (typeof item.text === \"string\") {\n                    let words: string[];\n\n                    words = item.text.replace(punctuatuinRegExp, \" \").split(whiteSpaceRegExp);\n\n                    if (this.settings.isRemoveStopWords) {\n                        let stopWords: string[] = this.settings.stopWordsArray;\n\n                        if (this.settings.isDefaultStopWords)\n                            stopWords = stopWords.concat(WordCloud.StopWords);\n\n                        words = words.filter((value: string) => {\n                            return value.length > 0 && !stopWords.some((removeWord: string) => {\n                                return value.toLocaleLowerCase() === removeWord.toLocaleLowerCase();\n                            });\n                        });\n                    }\n\n                    words.forEach((element: string) => {\n                        if (element.length > 0 && !whiteSpaceRegExp.test(element)) {\n                            brokenStrings.push({\n                                text: element,\n                                count: item.count,\n                                index: item.index,\n                                selectionId: item.selectionId,\n                                color: item.color\n                            });\n                        }\n                    });\n                } else\n                    brokenStrings.push(item);\n            });\n\n            return brokenStrings;\n        }\n\n        private getWords(values: WordCloudText[]): WordCloudDataPoint[] {\n            let sortedValues: WordCloudText[],\n                minValue: number = 0,\n                maxValue: number = 0,\n                valueFormatter: IValueFormatter = this.settings.valueFormatter;\n\n            if (!values || !(values.length >= 1))\n                return [];\n\n            sortedValues = values.sort((a: WordCloudText, b: WordCloudText) => {\n                return b.count - a.count;\n            });\n\n            minValue = sortedValues[sortedValues.length - 1].count;\n            maxValue = sortedValues[0].count;\n            let returnValues = values.map((value: WordCloudText) => {\n                return <WordCloudDataPoint>{\n                    text: valueFormatter.format(value.text),\n                    size: this.getFontSize(value.count, minValue, maxValue),\n                    x: 0,\n                    y: 0,\n                    rotate: this.getAngle(),\n                    padding: 1,\n                    width: 0,\n                    height: 0,\n                    xOff: 0,\n                    yOff: 0,\n                    x0: 0,\n                    y0: 0,\n                    x1: 0,\n                    y1: 0,\n                    color: value.color,\n                    selectionId: value.selectionId,\n                    wordIndex: value.index\n                };\n            });\n            this.dataBeforeRender = returnValues;\n            return returnValues;\n        }\n\n        private getFontSize(\n            value: number,\n            minValue: number,\n            maxValue: number,\n            scaleType: WordCloudScaleType = WordCloudScaleType.value) {\n            let weight: number,\n                fontSize: number,\n                maxFontSize: number,\n                minFontSize: number;\n\n            minFontSize = Math.abs(this.parseNumber(this.settings.minFontSize, WordCloud.DefaultSettings.minFontSize));\n            maxFontSize = Math.abs(this.parseNumber(this.settings.maxFontSize, WordCloud.DefaultSettings.maxFontSize));\n\n            if (minFontSize > maxFontSize) {\n                let buffer: number = minFontSize;\n\n                minFontSize = maxFontSize;\n                maxFontSize = buffer;\n            }\n\n            switch (scaleType) {\n                case WordCloudScaleType.logn: {\n                    weight = Math.log(value);\n                }\n                case WordCloudScaleType.sqrt: {\n                    weight = Math.sqrt(value);\n                }\n                case WordCloudScaleType.value: {\n                    weight = value;\n                }\n            }\n\n            fontSize = weight > minValue\n                ? (maxFontSize * (weight - minValue)) / (maxValue - minValue)\n                : 0;\n\n            fontSize = (fontSize * 100) / maxFontSize;\n\n            fontSize = (fontSize * (maxFontSize - minFontSize)) / 100 + minFontSize;\n\n            return fontSize;\n        }\n\n        private getAngle(): number {\n            if (!this.settings ||\n                !this.settings.isRotateText)\n                return 0;\n\n            let minAngle: number,\n                maxAngle: number,\n                maxNumberOfOrientations: number,\n                angle: number;\n\n            maxNumberOfOrientations = Math.abs(this.parseNumber(this.settings.maxNumberOfOrientations, 0));\n\n            minAngle = this.parseNumber(\n                this.settings.minAngle,\n                0,\n                WordCloud.MinAngle,\n                WordCloud.MaxAngle);\n\n            maxAngle = this.parseNumber(\n                this.settings.maxAngle,\n                0,\n                WordCloud.MinAngle,\n                WordCloud.MaxAngle);\n\n            if (minAngle > maxAngle) {\n                let buffer: number = minAngle;\n\n                minAngle = maxAngle;\n                maxAngle = buffer;\n            }\n\n            angle = Math.abs(((maxAngle - minAngle) / maxNumberOfOrientations) * Math.floor(Math.random() * maxNumberOfOrientations));\n\n            return maxNumberOfOrientations !== 0 ? minAngle + angle : 0;\n        }\n\n        public update(visualUpdateOptions: VisualUpdateOptions): void {\n            if (!visualUpdateOptions ||\n                !visualUpdateOptions.viewport ||\n                !visualUpdateOptions.dataViews ||\n                !visualUpdateOptions.dataViews[0] ||\n                !visualUpdateOptions.viewport ||\n                !(visualUpdateOptions.viewport.height >= 0) ||\n                !(visualUpdateOptions.viewport.width >= 0))\n                return;\n\n            this.visualUpdateOptions = visualUpdateOptions;\n\n            this.layout.viewport = this.visualUpdateOptions.viewport;\n            let dataView: DataView = visualUpdateOptions.dataViews[0];\n\n            if (this.layout.viewportInIsZero)\n                return;\n\n            this.durationAnimations = getAnimationDuration(\n                this.animator,\n                visualUpdateOptions.suppressAnimations);\n            this.UpdateSize();\n\n            this.data = this.converter(dataView);\n            if (!this.data)\n                return;\n\n            this.settings = this.data.settings;\n            this.wordCloudTexts = this.data.texts;\n\n            this.computePositions(\n                this.getWords(this.getReducedText(this.data.texts)),\n                (wordCloudDataView: WordCloudDataView) => this.render(wordCloudDataView));\n\n            if (visualUpdateOptions !== this.visualUpdateOptions)\n                this.update(this.visualUpdateOptions);\n        }\n\n        private UpdateSize(): void {\n            let fakeWidth: number,\n                fakeHeight: number,\n                ratio: number;\n\n            ratio = Math.sqrt((this.fakeViewport.width * this.fakeViewport.height)\n                / (this.layout.viewportIn.width * this.layout.viewportIn.height));\n\n            if (isNaN(ratio))\n                fakeHeight = fakeWidth = 1;\n            else {\n                fakeHeight = this.layout.viewportIn.height * ratio;\n                fakeWidth = this.layout.viewportIn.width * ratio;\n            }\n\n            this.specialViewport = {\n                height: fakeHeight,\n                width: fakeWidth\n            };\n\n            this.root.attr({\n                \"height\": this.layout.viewport.height,\n                \"width\": this.layout.viewport.width\n            });\n        }\n\n        private render(wordCloudDataView: WordCloudDataView): void {\n            if (!wordCloudDataView ||\n                !wordCloudDataView.data)\n                return;\n\n            this.wordCloudDataView = wordCloudDataView;\n\n            let animatedWordSelection: D3.Selection,\n                wordElements: D3.Selection = this.main\n                    .select(WordCloud.Words.selector)\n                    .selectAll(WordCloud.Word.selector);\n\n            this.wordsSelection = wordElements.data(wordCloudDataView.data);\n\n            (<D3.UpdateSelection>this.animation(this.wordsSelection, this.durationAnimations))\n                .attr(\"transform\", (item: WordCloudDataPoint) => `${SVGUtil.translate(item.x, item.y)}rotate(${item.rotate})`)\n                .style({\n                    \"font-size\": ((item: WordCloudDataPoint): string => `${item.size}${WordCloud.Size}`),\n                    \"fill\": ((item: WordCloudDataPoint): string => item.color),\n                });\n\n            animatedWordSelection = this.wordsSelection\n                .enter()\n                .append(\"svg:text\")\n                .attr(\"transform\", (item: WordCloudDataPoint) => `${SVGUtil.translate(item.x, item.y)}rotate(${item.rotate})`)\n                .style(\"font-size\", \"1px\");\n\n            this.wordsSelection.on(\"click\", (item: WordCloudDataPoint) => {\n                this.selectionManager\n                    .select(item.selectionId, d3.event.ctrlKey)\n                    .then(() => this.setSelection(this.wordsSelection));\n                d3.event.stopPropagation();\n            });\n\n            (<D3.UpdateSelection>this.animation(animatedWordSelection, this.durationAnimations))\n                .style({\n                    \"font-size\": ((item: WordCloudDataPoint): string => `${item.size}${WordCloud.Size}`),\n                    \"fill\": ((item: WordCloudDataPoint): string => item.color),\n                });\n\n            this.wordsSelection\n                .text((item: WordCloudDataPoint) => item.text)\n                .classed(WordCloud.Word[\"class\"], true);\n\n            this.wordsSelection.exit().remove();\n            this.setSelection(this.wordsSelection);\n\n            setTimeout(() => {\n                if (this.root)\n                    this.scaleMainView(wordCloudDataView, wordElements[0].length && this.durationAnimations);\n\n            }, this.durationAnimations + WordCloud.RenderDelay);\n        }\n\n        private setSelection(selection: D3.Selection): void {\n            let selectionIds: SelectionId[] = this.selectionManager.getSelectionIds();\n\n            if (selectionIds.some(x => !selection.data().some((d: WordCloudDataPoint) => d.selectionId.getKey() === x.getKey()))) {\n                this.selectionManager.clear();\n                selectionIds = [];\n            }\n\n            if (!selectionIds.length) {\n                this.setOpacity(selection, WordCloud.MaxOpacity, true);\n                return;\n            }\n\n            let selectedColumns: D3.UpdateSelection = selection.filter((x: WordCloudDataPoint) =>\n                selectionIds.some((y: SelectionId) => y.getKey() === x.selectionId.getKey()));\n\n            this.setOpacity(selection, WordCloud.MinOpacity);\n            this.setOpacity(selectedColumns, WordCloud.MaxOpacity);\n        }\n\n        private setOpacity(element: D3.Selection, opacityValue: number, disableAnimation: boolean = false): void {\n            let elementAnimation = disableAnimation ? element : this.animation(element);\n            elementAnimation.style(\"fill-opacity\", opacityValue);\n        }\n\n        private scaleMainView(wordCloudDataView: WordCloudDataView, durationAnimation: number = 0): void {\n            if (!wordCloudDataView ||\n                !wordCloudDataView.leftBorder ||\n                !wordCloudDataView.rightBorder)\n                return;\n\n            let scale: number = 1,\n                mainSVGRect: SVGRect = this.main.node()[\"getBBox\"](),\n                leftBorder: IPoint = wordCloudDataView.leftBorder,\n                rightBorder: IPoint = wordCloudDataView.rightBorder,\n                width2: number,\n                height2: number,\n                scaleByX: number,\n                scaleByY: number;\n\n            scaleByX = this.layout.viewportIn.width / Math.abs(leftBorder.x - rightBorder.x);\n            scaleByY = this.layout.viewportIn.height / Math.abs(leftBorder.y - rightBorder.y);\n\n            scale = Math.min(scaleByX, scaleByY);\n\n            width2 = this.layout.margin.left + (mainSVGRect.x * scale * -1)\n                + (this.layout.viewportIn.width - (mainSVGRect.width * scale)) / 2;\n            height2 = this.layout.margin.top + (mainSVGRect.y * scale * -1)\n                + (this.layout.viewportIn.height - (mainSVGRect.height * scale)) / 2;\n\n            (<D3.Selection>this.animation(this.main, durationAnimation))\n                .attr(\"transform\", `${SVGUtil.translate(width2, height2)}scale(${scale})`);\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstance[] {\n            let instances: VisualObjectInstance[] = [];\n\n            if (!this.settings)\n                return instances;\n\n            switch (options.objectName) {\n                case \"general\": {\n                    let general: VisualObjectInstance = {\n                        objectName: \"general\",\n                        displayName: \"general\",\n                        selector: null,\n                        properties: {\n                            maxNumberOfWords: this.settings.maxNumberOfWords,\n                            minFontSize: this.settings.minFontSize,\n                            maxFontSize: this.settings.maxFontSize,\n                            isBrokenText: this.settings.isBrokenText\n                        }\n                    };\n\n                    instances.push(general);\n                    break;\n                }\n                case \"dataPoint\": {\n                    if (!this.wordCloudDataView ||\n                        !this.wordCloudDataView.data)\n                        return;\n\n                    let dataPoints: WordCloudDataPoint[] = this.dataBeforeRender;\n                    let wordCategoriesIndex: number[] = [];\n                    dataPoints.forEach((item: WordCloudDataPoint) => {\n                        if (wordCategoriesIndex.indexOf(item.wordIndex) === -1) {\n                            wordCategoriesIndex.push(item.wordIndex);\n                            instances.push({\n                                objectName: \"dataPoint\",\n                                displayName: this.data.texts[item.wordIndex].text,\n                                selector: ColorHelper.normalizeSelector(item.selectionId.getSelector(), false),\n                                properties: {\n                                    fill: { solid: { color: item.color } }\n                                }\n                            });\n                        }\n                    });\n\n                    break;\n                }\n                case \"rotateText\": {\n                    let rotateText: VisualObjectInstance = {\n                        objectName: \"rotateText\",\n                        displayName: \"Rotate Text\",\n                        selector: null,\n                        properties: {\n                            show: this.settings.isRotateText,\n                            minAngle: this.settings.minAngle,\n                            maxAngle: this.settings.maxAngle,\n                            maxNumberOfOrientations: this.settings.maxNumberOfOrientations\n                        }\n                    };\n\n                    instances.push(rotateText);\n                    break;\n                }\n                case \"stopWords\": {\n                    let stopWords: VisualObjectInstance = {\n                        objectName: \"stopWords\",\n                        displayName: \"Stop Words\",\n                        selector: null,\n                        properties: {\n                            show: this.settings.isRemoveStopWords,\n                            isDefaultStopWords: this.settings.isDefaultStopWords,\n                            words: this.settings.stopWords ||\n                            this.settings.stopWordsArray.join(WordCloud.StopWordsDelemiter)\n                        }\n                    };\n\n                    instances.push(stopWords);\n                    break;\n                }\n            }\n\n            return instances;\n        }\n\n        private animation(\n            element: D3.Selection,\n            duration: number = 0,\n            callback?: (data: any, index: number) => void): D3.Transition.Transition | D3.Selection {\n            return element\n                .transition()\n                .duration(duration)\n                .each(\"end\", callback);\n        }\n\n        public destroy(): void {\n            this.root = null;\n            this.canvas = null;\n        }\n    }\n\n    module explore.util {\n        export function hexToRgb(hex): string {\n            // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n            let shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n            hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n                return r + r + g + g + b + b;\n            });\n\n            let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n            return result ? `rgb(${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)})` : null;\n        }\n\n        export function getRandomColor(): string {\n            let red: number = Math.floor(Math.random() * 255),\n                green: number = Math.floor(Math.random() * 255),\n                blue: number = Math.floor(Math.random() * 255);\n\n            return `rgb(${red},${green},${blue})`;\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import createClassAndSelector = jsCommon.CssConstants.createClassAndSelector;\n    import PixelConverter = jsCommon.PixelConverter;\n\n    export interface ITableView {\n        data(data: any[], dataIdFunction: (d) => {}, dataAppended: boolean): ITableView;\n        rowHeight(rowHeight: number): ITableView;\n        columnWidth(columnWidth: number): ITableView;\n        orientation(orientation: string): ITableView;\n        rows(rows: number): ITableView;\n        columns(columns: number): ITableView;\n        viewport(viewport: IViewport): ITableView;\n        render(): void;\n        empty(): void;\n    }\n\n    export module TableViewFactory {\n        export function createTableView(options): ITableView {\n            return new TableView(options);\n        }\n    }\n\n    export interface TableViewViewOptions {\n        enter: (selection: D3.Selection) => void;\n        exit: (selection: D3.Selection) => void;\n        update: (selection: D3.Selection) => void;\n        loadMoreData: () => void;\n        baseContainer: D3.Selection;\n        rowHeight: number;\n        columnWidth: number;\n        orientation: string;\n        rows: number;\n        columns: number;\n        viewport: IViewport;\n        scrollEnabled: boolean;\n    }\n\n    /**\n     * A UI Virtualized List, that uses the D3 Enter, Update & Exit pattern to update rows.\n     * It can create lists containing either HTML or SVG elements.\n     */\n    class TableView implements ITableView {\n        private getDatumIndex: (d: any) => {};\n        private _data: any[];\n        private _totalRows: number;\n        private _totalColumns: number;\n\n        private options: TableViewViewOptions;\n        private visibleGroupContainer: D3.Selection;\n        private scrollContainer: D3.Selection;\n\n        private static defaultRowHeight = 0;\n        private static defaultColumns = 1;\n\n        public constructor(options: TableViewViewOptions) {\n            // make a copy of options so that it is not modified later by caller\n            this.options = $.extend(true, {}, options);\n\n            this.options.baseContainer\n                .style('overflow-y', 'auto')\n                .attr('drag-resize-disabled', true);\n\n            this.scrollContainer = options.baseContainer\n                .append('div')\n                .attr('class', 'scrollRegion');\n            this.visibleGroupContainer = this.scrollContainer\n                .append('div')\n                .attr('class', 'visibleGroup');\n\n            TableView.SetDefaultOptions(options);\n        }\n\n        private static SetDefaultOptions(options: TableViewViewOptions) {\n            options.rowHeight = options.rowHeight || TableView.defaultRowHeight;\n        }\n\n        public rowHeight(rowHeight: number): TableView {\n            this.options.rowHeight = Math.ceil(rowHeight);\n            return this;\n        }\n        public columnWidth(columnWidth: number): TableView {\n            this.options.columnWidth = Math.ceil(columnWidth);\n            return this;\n        }\n\n        public orientation(orientation: string): TableView {\n            this.options.orientation = orientation;\n            return this;\n        }\n\n        public rows(rows: number): TableView {\n            this.options.rows = Math.ceil(rows);\n            return this;\n        }\n\n        public columns(columns: number): TableView {\n            this.options.columns = Math.ceil(columns);\n            return this;\n        }\n\n        public data(data: any[], getDatumIndex: (d) => {}, dataReset: boolean = false): ITableView {\n            this._data = data;\n            this.getDatumIndex = getDatumIndex;\n            this.setTotalRows();\n            if (dataReset) {\n                $(this.options.baseContainer.node()).scrollTop(0);\n            }\n            return this;\n        }\n\n        public viewport(viewport: IViewport): ITableView {\n            this.options.viewport = viewport;\n            return this;\n        }\n\n        public empty(): void {\n            this._data = [];\n            this.render();\n        }\n\n        private setTotalRows(): void {\n            var count = this._data.length;\n            var rows = Math.min(this.options.rows, count);\n            var columns = Math.min(this.options.columns, count);\n\n            if ((columns > 0) && (rows > 0)) {\n                this._totalColumns = columns;\n                this._totalRows = rows;\n            } else if (rows > 0) {\n                this._totalRows = rows;\n                this._totalColumns = Math.ceil(count / rows);\n            } else if (columns > 0) {\n                this._totalColumns = columns;\n                this._totalRows = Math.ceil(count / columns);\n            } else {\n                this._totalColumns = TableView.defaultColumns;\n                this._totalRows = Math.ceil(count / TableView.defaultColumns);\n            }\n        }\n\n        public render(): void {\n            var options = this.options;\n            var visibleGroupContainer = this.visibleGroupContainer;\n            var rowHeight = options.rowHeight || TableView.defaultRowHeight;\n            var groupedData: any[] = [];\n            var totalRows = options.rows; \n            var totalColumns = options.columns;\n            var totalItems: number = this._data.length;\n            var totalRows = options.rows > totalItems ? totalItems : options.rows; \n            var totalColumns = options.columns > totalItems ? totalItems : options.columns; \n\n            if (totalColumns === 0 && totalRows === 0) {\n                if (options.orientation === Orientation.HORIZONTAL)\n                {\n                    totalColumns = totalItems;\n                    totalRows = 1;\n                }\n                else\n                {\n                    totalColumns = 1;\n                    totalRows = totalItems;\n                }\n            }\n            else if (totalColumns === 0 && totalRows > 0)\n                totalColumns = Math.ceil(totalItems / totalRows);\n            else if (totalColumns > 0 && totalRows === 0)\n                totalRows = Math.ceil(totalItems / totalColumns);\n\n            if (this.options.orientation === Orientation.VERTICAL)\n            {\n                var n = totalRows;\n                totalRows = totalColumns;\n                totalColumns = n;\n            }\n\n            else if (this.options.orientation === Orientation.HORIZONTAL)\n            {\n                if (totalRows === 0) totalRows = this._totalRows;\n                if (totalColumns === 0) totalColumns = this._totalColumns;\n            }\n\n            var m: number = 0;\n            var k: number = 0;\n            for (var i: number = 0; i < totalRows; i++) {\n                if (this.options.orientation === Orientation.VERTICAL && options.rows === 0 && totalItems % options.columns > 0 && options.columns <= totalItems)\n                {\n                    if (totalItems % options.columns > i)\n                    {\n                        m = i * Math.ceil(totalItems / options.columns);\n                        k = m + Math.ceil(totalItems / options.columns);\n                        groupedData.push(this._data.slice(m, k)); \n                    }\n                    else\n                    {\n                        groupedData.push(this._data.slice(k, k + Math.floor(totalItems / options.columns)));\n                        k = k + Math.floor(totalItems / options.columns);\n                    }\n                }\n                else if (this.options.orientation === Orientation.HORIZONTAL && options.columns === 0 && totalItems % options.rows > 0 && options.rows <= totalItems)\n                {\n                    if (totalItems % options.rows > i)\n                    {\n                        m = i * Math.ceil(totalItems / options.rows);\n                        k = m + Math.ceil(totalItems / options.rows);\n                        groupedData.push(this._data.slice(m, k));\n                    }\n                    else\n                    {\n                        groupedData.push(this._data.slice(k, k + Math.floor(totalItems / options.rows)));\n                        k = k + Math.floor(totalItems / options.rows);\n                    }\n                }\n                else\n                {\n                    var k: number = i * totalColumns;\n                    groupedData.push(this._data.slice(k, k + totalColumns));\n                }\n            }\n\n            visibleGroupContainer.selectAll(\".row\").remove();\n            var cellSelection = visibleGroupContainer.selectAll(\".row\")\n                .data(groupedData)\n                .enter()\n                .append(\"div\")\n                .classed('row', true)\n                .selectAll(\".cell\")\n                .data(d => d);\n\n            cellSelection\n                .enter()\n                .append('div')\n                .classed('cell', true)\n                .call(d => options.enter(d));\n            cellSelection.order();\n\n            var cellUpdateSelection = visibleGroupContainer.selectAll('.cell:not(.transitioning)');\n\n            cellUpdateSelection.call(d => options.update(d));\n            cellUpdateSelection.style({ 'height': (rowHeight > 0) ? rowHeight + 'px' : 'auto' });\n\n            if (this.options.orientation === Orientation.VERTICAL)\n            {\n                var realColumnNumber = 0;\n                for (var i: number = 0; i < groupedData.length; i++)\n                {\n                    if (groupedData[i].length !== 0)\n                        realColumnNumber = i+1;\n                }\n\n                cellUpdateSelection.style({ 'width': '100%' });\n                var rowUpdateSelection = visibleGroupContainer.selectAll('div.row');\n                rowUpdateSelection.style({ 'width': (options.columnWidth > 0) ? options.columnWidth + 'px' : (100 / realColumnNumber) + '%' });\n            }\n            else\n                cellUpdateSelection.style({\n                    'width': (options.columnWidth > 0) ? options.columnWidth + 'px' : (100 / totalColumns) + '%'\n                });\n\n            cellSelection\n                .exit()\n                .call(d => options.exit(d))\n                .remove();\n        }\n    }\n\n    // TODO: Generate these from above, defining twice just introduces potential for error\n    export var chicletSlicerProps = {\n        general: {\n            orientation: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'orientation' },\n            columns: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'columns' },\n            rows: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'rows' },\n            showDisabled: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'showDisabled' },\n            multiselect: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'multiselect' },\n            selection: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'selection' },\n        },\n        header: {\n            show: <DataViewObjectPropertyIdentifier>{ objectName: 'header', propertyName: 'show' },\n            title: <DataViewObjectPropertyIdentifier>{ objectName: 'header', propertyName: 'title' },\n            fontColor: <DataViewObjectPropertyIdentifier>{ objectName: 'header', propertyName: 'fontColor' },\n            background: <DataViewObjectPropertyIdentifier>{ objectName: 'header', propertyName: 'background' },\n            outline: <DataViewObjectPropertyIdentifier>{ objectName: 'header', propertyName: 'outline' },\n            textSize: <DataViewObjectPropertyIdentifier>{ objectName: 'header', propertyName: 'textSize' },\n            outlineColor: <DataViewObjectPropertyIdentifier>{ objectName: 'header', propertyName: 'outlineColor' },\n            outlineWeight: <DataViewObjectPropertyIdentifier>{ objectName: 'header', propertyName: 'outlineWeight' }\n        },\n        rows: {\n            fontColor: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'fontColor' },\n            textSize: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'textSize' },\n            height: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'height' },\n            width: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'width' },\n            background: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'background' },\n            transparency: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'transparency' },\n            selectedColor: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'selectedColor' },\n            unselectedColor: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'unselectedColor' },\n            disabledColor: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'disabledColor' },\n            outline: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'outline' },\n            outlineColor: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'outlineColor' },\n            outlineWeight: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'outlineWeight' },\n            borderStyle: <DataViewObjectPropertyIdentifier>{ objectName: 'rows', propertyName: 'borderStyle' },\n        },\n        images: {\n            imageSplit: <DataViewObjectPropertyIdentifier>{ objectName: 'images', propertyName: 'imageSplit' },\n            stretchImage: <DataViewObjectPropertyIdentifier>{ objectName: 'images', propertyName: 'stretchImage' },\n            bottomImage: <DataViewObjectPropertyIdentifier>{ objectName: 'images', propertyName: 'bottomImage' },\n        },\n        selectedPropertyIdentifier: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'selected' },\n        filterPropertyIdentifier: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'filter' },\n        formatString: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'formatString' },\n        hasSavedSelection: true,\n    };\n\n    module ChicletBorderStyle {\n        export var ROUNDED: string = 'Rounded';\n        export var CUT: string = 'Cut';\n        export var SQUARE: string = 'Square';\n\n        export var type: IEnumType = createEnumType([\n            { value: ROUNDED, displayName: ChicletBorderStyle.ROUNDED },\n            { value: CUT, displayName: ChicletBorderStyle.CUT },\n            { value: SQUARE, displayName: ChicletBorderStyle.SQUARE },\n        ]);\n    }\n\n    module ChicletSlicerShowDisabled {\n        export var INPLACE: string = 'Inplace';\n        export var BOTTOM: string = 'Bottom';\n        export var HIDE: string = 'Hide';\n\n        export var type: IEnumType = createEnumType([\n            { value: INPLACE, displayName: ChicletSlicerShowDisabled.INPLACE },\n            { value: BOTTOM, displayName: ChicletSlicerShowDisabled.BOTTOM },\n            { value: HIDE, displayName: ChicletSlicerShowDisabled.HIDE },\n        ]);\n    }\n\n    module Orientation {\n        export var HORIZONTAL: string = 'Horizontal';\n        export var VERTICAL: string = 'Vertical';\n\n        export var type: IEnumType = createEnumType([\n            { value: HORIZONTAL, displayName: HORIZONTAL },\n            { value: VERTICAL, displayName: VERTICAL }\n        ]);\n    }\n\n    export interface ChicletSlicerConstructorOptions {\n        behavior?: ChicletSlicerWebBehavior;\n    }\n\n    export interface ChicletSlicerData {\n        categorySourceName: string;\n        formatString: string;\n        slicerDataPoints: ChicletSlicerDataPoint[];\n        slicerSettings: ChicletSlicerSettings;\n        hasSelectionOverride?: boolean;\n    }\n\n    export interface ChicletSlicerDataPoint extends SelectableDataPoint {\n        category?: string;\n        value?: number;\n        mouseOver?: boolean;\n        mouseOut?: boolean;\n        isSelectAllDataPoint?: boolean;\n        imageURL?: string;\n        selectable?: boolean;\n    }\n\n    export interface ChicletSlicerSettings {\n        general: {\n            orientation: string;\n            columns: number;\n            rows: number;\n            multiselect: boolean;\n            showDisabled: string;\n            selection: string;\n            getSavedSelection?: () => string[];\n            setSavedSelection?: (selectionIds: string[]) => void;\n        };\n        margin: IMargin;\n        header: {\n            borderBottomWidth: number;\n            show: boolean;\n            outline: string;\n            fontColor: string;\n            background?: string;\n            textSize: number;\n            outlineColor: string;\n            outlineWeight: number;\n            title: string;\n        };\n        headerText: {\n            marginLeft: number;\n            marginTop: number;\n        };\n        slicerText: {\n            textSize: number;\n            height: number;\n            width: number;\n            fontColor: string;\n            hoverColor: string;\n            selectedColor: string;\n            unselectedColor: string;\n            disabledColor: string;\n            marginLeft: number;\n            outline: string;\n            background?: string;\n            transparency: number;\n            outlineColor: string;\n            outlineWeight: number;\n            borderStyle: string;\n        };\n        slicerItemContainer: {\n            marginTop: number;\n            marginLeft: number;\n        };\n        images: {\n            imageSplit: number;\n            stretchImage: boolean;\n            bottomImage: boolean;\n        };\n    }\n\n    export class ChicletSlicer implements IVisual {\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: 'Category',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: powerbi.data.createDisplayNameGetter('Role_DisplayName_Field'),\n                },\n                {\n                    name: 'Values',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Values'),\n                },\n                {\n                    name: 'Image',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Image',\n                },\n            ],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter('Visual_General'),\n                    properties: {\n                        selection: {\n                            displayName: \"Selection\",\n                            type: { text: true }\n                        },\n                        orientation: {\n                            displayName: 'Orientation',\n                            type: { enumeration: Orientation.type }\n                        },\n                        columns: {\n                            displayName: 'Columns',\n                            type: { numeric: true }\n                        },\n                        rows: {\n                            displayName: 'Rows',\n                            type: { numeric: true }\n                        },\n                        showDisabled: {\n                            displayName: 'Show Disabled',\n                            type: { enumeration: ChicletSlicerShowDisabled.type }\n                        },\n                        multiselect: {\n                            displayName: 'Multiple selection',\n                            type: { bool: true }\n                        },\n                        selected: {\n                            type: { bool: true }\n                        },\n                        filter: {\n                            type: { filter: {} },\n                            rule: {\n                                output: {\n                                    property: 'selected',\n                                    selector: ['Category'],\n                                }\n                            }\n                        },\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        },\n                    },\n                },\n                header: {\n                    displayName: data.createDisplayNameGetter('Visual_Header'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        title: {\n                            displayName: 'Title',\n                            type: { text: true }\n                        },\n                        fontColor: {\n                            displayName: data.createDisplayNameGetter('Visual_FontColor'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        background: {\n                            displayName: data.createDisplayNameGetter('Visual_Background'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        outline: {\n                            displayName: data.createDisplayNameGetter('Visual_Outline'),\n                            type: { formatting: { outline: true } }\n                        },\n                        textSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { numeric: true }\n                        },\n                        outlineColor: {\n                            displayName: 'Outline Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        outlineWeight: {\n                            displayName: 'Outline Weight',\n                            type: { numeric: true }\n                        }\n                    }\n                },\n                rows: {\n                    displayName: 'Chiclets',\n                    properties: {\n                        fontColor: {\n                            displayName: 'Text color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        textSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { numeric: true }\n                        },\n                        height: {\n                            displayName: 'Height',\n                            type: { numeric: true }\n                        },\n                        width: {\n                            displayName: 'Width',\n                            type: { numeric: true }\n                        },\n                        selectedColor: {\n                            displayName: 'Selected Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        unselectedColor: {\n                            displayName: 'Unselected Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        disabledColor: {\n                            displayName: 'Disabled Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        background: {\n                            displayName: data.createDisplayNameGetter('Visual_Background'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        transparency: {\n                            displayName: \"Transparency\",\n                            description: \"Set transparency for background color\",\n                            type: { numeric: true }\n                        },\n                        outline: {\n                            displayName: data.createDisplayNameGetter('Visual_Outline'),\n                            type: { formatting: { outline: true } }\n                        },\n                        outlineColor: {\n                            displayName: 'Outline Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        outlineWeight: {\n                            displayName: 'Outline Weight',\n                            type: { numeric: true }\n                        },\n                        borderStyle: {\n                            displayName: 'Outline Style',\n                            type: { enumeration: ChicletBorderStyle.type }\n                        },\n                    }\n                },\n                images: {\n                    displayName: 'Images',\n                    properties: {\n                        imageSplit: {\n                            displayName: 'Image Split',\n                            type: { numeric: true }\n                        },\n                        stretchImage: {\n                            displayName: 'Stretch image',\n                            type: { bool: true }\n                        },\n                        bottomImage: {\n                            displayName: 'Bottom image',\n                            type: { bool: true }\n                        },\n                    }\n                },\n            },\n            dataViewMappings: [{\n                conditions: [\n                    { 'Category': { max: 1 }, 'Image': { min: 0, max: 1 }, 'Values': { min: 0, max: 1 } }],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        group: {\n                            by: 'Image',\n                            select: [{ bind: { to: 'Values' } },\n                            ],\n                            dataReductionAlgorithm: { top: {} }\n                        }\n                    },\n                    includeEmptyGroups: true\n                }\n            }],\n            supportsHighlight: true,\n            sorting: {\n                default: {},\n            },\n            suppressDefaultTitle: true,\n        };\n        private element: JQuery;\n        private currentViewport: IViewport;\n        private dataView: DataView;\n        private slicerHeader: D3.Selection;\n        private slicerBody: D3.Selection;\n        private tableView: ITableView;\n        private slicerData: ChicletSlicerData;\n        private settings: ChicletSlicerSettings;\n        private interactivityService: IInteractivityService;\n        private behavior: ChicletSlicerWebBehavior;\n        private hostServices: IVisualHostServices;\n        private waitingForData: boolean;\n        private isSelectionLoaded: boolean;\n        private isSelectionSaved: boolean;\n\n        public static DefaultFontFamily: string = 'Segoe UI, Tahoma, Verdana, Geneva, sans-serif';\n        public static DefaultFontSizeInPt: number = 11;       \n        private static cellTotalInnerPaddings = 8;\n        private static cellTotalInnerBorders = 2;\n        private static chicletTotalInnerRightLeftPaddings = 14;\n\n        private static ItemContainer: ClassAndSelector = createClassAndSelector('slicerItemContainer');\n        private static HeaderText: ClassAndSelector = createClassAndSelector('headerText');\n        private static Container: ClassAndSelector = createClassAndSelector('chicletSlicer');\n        private static LabelText: ClassAndSelector = createClassAndSelector('slicerText');\n        private static Header: ClassAndSelector = createClassAndSelector('slicerHeader');\n        private static Input: ClassAndSelector = createClassAndSelector('slicerCheckbox');\n        private static Clear: ClassAndSelector = createClassAndSelector('clear');\n        private static Body: ClassAndSelector = createClassAndSelector('slicerBody');\n      \n        public static DefaultStyleProperties(): ChicletSlicerSettings {\n            return {\n                general: {\n                    orientation: Orientation.VERTICAL,\n                    columns: 3,\n                    rows: 0,\n                    multiselect: true,\n                    showDisabled: ChicletSlicerShowDisabled.INPLACE,\n                    selection: null,\n                },\n                margin: {\n                    top: 50,\n                    bottom: 50,\n                    right: 50,\n                    left: 50\n                },\n                header: {\n                    borderBottomWidth: 1,\n                    show: true,\n                    outline: 'BottomOnly',\n                    fontColor: '#a6a6a6',\n                    background: null,\n                    textSize: 10,\n                    outlineColor: '#a6a6a6',\n                    outlineWeight: 1,\n                    title: '',\n                },\n                headerText: {\n                    marginLeft: 8,\n                    marginTop: 0\n                },\n                slicerText: {\n                    textSize: 10,\n                    height: 0,\n                    width: 0,\n                    fontColor: '#666666',\n                    hoverColor: '#212121',\n                    selectedColor: '#BDD7EE',\n                    unselectedColor: '#ffffff',\n                    disabledColor: 'grey',\n                    marginLeft: 8,\n                    outline: 'Frame',\n                    background: null,\n                    transparency: 0,\n                    outlineColor: '#000000',\n                    outlineWeight: 1,\n                    borderStyle: 'Cut',\n\n                },\n                slicerItemContainer: {\n                    // The margin is assigned in the less file. This is needed for the height calculations.\n                    marginTop: 5,\n                    marginLeft: 0,\n                },\n                images: {\n                    imageSplit: 50,\n                    stretchImage: false,\n                    bottomImage: false\n                }\n            };\n        }\n\n        constructor(options?: ChicletSlicerConstructorOptions) {\n            if (options) {\n                if (options.behavior) {\n                    this.behavior = options.behavior;\n                }\n            }\n            if (!this.behavior) {\n                this.behavior = new ChicletSlicerWebBehavior();\n            }\n        }\n\n        public static converter(dataView: DataView, localizedSelectAllText: string, interactivityService: IInteractivityService): ChicletSlicerData {\n            if (!dataView ||\n                !dataView.categorical ||\n                !dataView.categorical.categories ||\n                !dataView.categorical.categories[0] ||\n                !dataView.categorical.categories[0].values ||\n                !(dataView.categorical.categories[0].values.length > 0)) {\n                return;\n            }\n            var converter = new ChicletSlicerChartConversion.ChicletSlicerConverter(dataView, interactivityService);\n            converter.convert();\n            var slicerData: ChicletSlicerData;\n            var defaultSettings: ChicletSlicerSettings = this.DefaultStyleProperties();\n            var objects: DataViewObjects = dataView.metadata.objects;\n            if (objects) {\n                defaultSettings.general.orientation = DataViewObjects.getValue<string>(objects, chicletSlicerProps.general.orientation, defaultSettings.general.orientation);\n                defaultSettings.general.columns = DataViewObjects.getValue<number>(objects, chicletSlicerProps.general.columns, defaultSettings.general.columns);\n                defaultSettings.general.rows = DataViewObjects.getValue<number>(objects, chicletSlicerProps.general.rows, defaultSettings.general.rows);\n                defaultSettings.general.multiselect = DataViewObjects.getValue<boolean>(objects, chicletSlicerProps.general.multiselect, defaultSettings.general.multiselect);\n                defaultSettings.general.showDisabled = DataViewObjects.getValue<string>(objects, chicletSlicerProps.general.showDisabled, defaultSettings.general.showDisabled);\n                defaultSettings.general.selection = DataViewObjects.getValue(dataView.metadata.objects, chicletSlicerProps.general.selection, defaultSettings.general.selection);\n\n                defaultSettings.header.show = DataViewObjects.getValue<boolean>(objects, chicletSlicerProps.header.show, defaultSettings.header.show);\n                defaultSettings.header.title = DataViewObjects.getValue<string>(objects, chicletSlicerProps.header.title, defaultSettings.header.title);\n                defaultSettings.header.fontColor = DataViewObjects.getFillColor(objects, chicletSlicerProps.header.fontColor, defaultSettings.header.fontColor);\n                defaultSettings.header.background = DataViewObjects.getFillColor(objects, chicletSlicerProps.header.background, defaultSettings.header.background);\n                defaultSettings.header.textSize = DataViewObjects.getValue<number>(objects, chicletSlicerProps.header.textSize, defaultSettings.header.textSize);\n                defaultSettings.header.outline = DataViewObjects.getValue<string>(objects, chicletSlicerProps.header.outline, defaultSettings.header.outline);\n                defaultSettings.header.outlineColor = DataViewObjects.getFillColor(objects, chicletSlicerProps.header.outlineColor, defaultSettings.header.outlineColor);\n                defaultSettings.header.outlineWeight = DataViewObjects.getValue<number>(objects, chicletSlicerProps.header.outlineWeight, defaultSettings.header.outlineWeight);\n\n                defaultSettings.slicerText.textSize = DataViewObjects.getValue<number>(objects, chicletSlicerProps.rows.textSize, defaultSettings.slicerText.textSize);\n                defaultSettings.slicerText.height = DataViewObjects.getValue<number>(objects, chicletSlicerProps.rows.height, defaultSettings.slicerText.height);\n                defaultSettings.slicerText.width = DataViewObjects.getValue<number>(objects, chicletSlicerProps.rows.width, defaultSettings.slicerText.width);\n                defaultSettings.slicerText.selectedColor = DataViewObjects.getFillColor(objects, chicletSlicerProps.rows.selectedColor, defaultSettings.slicerText.selectedColor);\n                defaultSettings.slicerText.unselectedColor = DataViewObjects.getFillColor(objects, chicletSlicerProps.rows.unselectedColor, defaultSettings.slicerText.unselectedColor);\n                defaultSettings.slicerText.disabledColor = DataViewObjects.getFillColor(objects, chicletSlicerProps.rows.disabledColor, defaultSettings.slicerText.disabledColor);\n                defaultSettings.slicerText.background = DataViewObjects.getFillColor(objects, chicletSlicerProps.rows.background, defaultSettings.slicerText.background);\n                defaultSettings.slicerText.transparency = DataViewObjects.getValue<number>(objects, chicletSlicerProps.rows.transparency, defaultSettings.slicerText.transparency);\n                defaultSettings.slicerText.fontColor = DataViewObjects.getFillColor(objects, chicletSlicerProps.rows.fontColor, defaultSettings.slicerText.fontColor);\n                defaultSettings.slicerText.outline = DataViewObjects.getValue<string>(objects, chicletSlicerProps.rows.outline, defaultSettings.slicerText.outline);\n                defaultSettings.slicerText.outlineColor = DataViewObjects.getFillColor(objects, chicletSlicerProps.rows.outlineColor, defaultSettings.slicerText.outlineColor);\n                defaultSettings.slicerText.outlineWeight = DataViewObjects.getValue<number>(objects, chicletSlicerProps.rows.outlineWeight, defaultSettings.slicerText.outlineWeight);\n                defaultSettings.slicerText.borderStyle = DataViewObjects.getValue<string>(objects, chicletSlicerProps.rows.borderStyle, defaultSettings.slicerText.borderStyle);\n\n                defaultSettings.images.imageSplit = DataViewObjects.getValue<number>(objects, chicletSlicerProps.images.imageSplit, defaultSettings.images.imageSplit);\n                defaultSettings.images.stretchImage = DataViewObjects.getValue<boolean>(objects, chicletSlicerProps.images.stretchImage, defaultSettings.images.stretchImage);\n                defaultSettings.images.bottomImage = DataViewObjects.getValue<boolean>(objects, chicletSlicerProps.images.bottomImage, defaultSettings.images.bottomImage);\n            }\n\n            var categories: DataViewCategoricalColumn = dataView.categorical.categories[0];\n            slicerData = {\n                categorySourceName: categories.source.displayName,\n                formatString: valueFormatter.getFormatString(categories.source, chicletSlicerProps.formatString),\n                slicerSettings: defaultSettings,\n                slicerDataPoints: converter.dataPoints,\n            };\n\n            // Override hasSelection if a objects contained more scopeIds than selections we found in the data\n            slicerData.hasSelectionOverride = converter.hasSelectionOverride;\n\n            return slicerData;\n        }\n\n        public init(options: VisualInitOptions): void {\n            this.element = options.element;\n            this.currentViewport = options.viewport;\n            if (this.behavior) {\n                this.interactivityService = createInteractivityService(options.host);\n            }\n            this.hostServices = options.host;\n            this.settings = ChicletSlicer.DefaultStyleProperties();\n\n            this.initContainer();\n        }\n\n        public update(options: VisualUpdateOptions) {\n            if (!options ||\n                !options.dataViews ||\n                !options.dataViews[0] ||\n                !options.viewport) {\n                return;\n            }\n\n            var existingDataView = this.dataView;\n            this.dataView = options.dataViews[0];\n\n            var resetScrollbarPosition: boolean = true;\n            if (existingDataView) {\n                resetScrollbarPosition = !DataViewAnalysis.hasSameCategoryIdentity(existingDataView, this.dataView);\n            }\n\n            if (options.viewport.height === this.currentViewport.height\n                && options.viewport.width === this.currentViewport.width) {\n                this.waitingForData = false;\n            }\n            else {\n                this.currentViewport = options.viewport;\n            }\n\n            this.updateInternal(resetScrollbarPosition);\n        }\n\n        public onResizing(finalViewport: IViewport): void {\n            this.currentViewport = finalViewport;\n            this.updateInternal(false /* resetScrollbarPosition */);\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstance[] {\n            var data: ChicletSlicerData = this.slicerData;\n            if (!data) {\n                return;\n            }\n\n            var objectName = options.objectName;\n            switch (objectName) {\n                case 'rows':\n                    return this.enumerateRows(data);\n                case 'header':\n                    return this.enumerateHeader(data);\n                case 'general':\n                    return this.enumerateGeneral(data);\n                case 'images':\n                    return this.enumerateImages(data);\n            }\n        }\n\n        private enumerateHeader(data: ChicletSlicerData): VisualObjectInstance[] {\n            var slicerSettings: ChicletSlicerSettings = this.settings;\n            return [{\n                selector: null,\n                objectName: 'header',\n                properties: {\n                    show: slicerSettings.header.show,\n                    title: slicerSettings.header.title,\n                    fontColor: slicerSettings.header.fontColor,\n                    background: slicerSettings.header.background,\n                    textSize: slicerSettings.header.textSize,\n                    outline: slicerSettings.header.outline,\n                    outlineColor: slicerSettings.header.outlineColor,\n                    outlineWeight: slicerSettings.header.outlineWeight\n                }\n            }];\n        }\n\n        private enumerateRows(data: ChicletSlicerData): VisualObjectInstance[] {\n            var slicerSettings: ChicletSlicerSettings = this.settings;\n            return [{\n                selector: null,\n                objectName: 'rows',\n                properties: {\n                    textSize: slicerSettings.slicerText.textSize,\n                    height: slicerSettings.slicerText.height,\n                    width: slicerSettings.slicerText.width,\n                    background: slicerSettings.slicerText.background,\n                    transparency: slicerSettings.slicerText.transparency,\n                    selectedColor: slicerSettings.slicerText.selectedColor,\n                    unselectedColor: slicerSettings.slicerText.unselectedColor,\n                    disabledColor: slicerSettings.slicerText.disabledColor,\n                    outline: slicerSettings.slicerText.outline,\n                    outlineColor: slicerSettings.slicerText.outlineColor,\n                    outlineWeight: slicerSettings.slicerText.outlineWeight,\n                    fontColor: slicerSettings.slicerText.fontColor,\n                    borderStyle: slicerSettings.slicerText.borderStyle,\n                }\n            }];\n        }\n\n        private enumerateGeneral(data: ChicletSlicerData): VisualObjectInstance[] {\n            var slicerSettings: ChicletSlicerSettings = this.settings;\n\n            return [{\n                selector: null,\n                objectName: 'general',\n                properties: {\n                    orientation: slicerSettings.general.orientation,\n                    columns: slicerSettings.general.columns,\n                    rows: slicerSettings.general.rows,\n                    showDisabled: slicerSettings.general.showDisabled,\n                    multiselect: slicerSettings.general.multiselect,\n                }\n            }];\n        }\n\n        private enumerateImages(data: ChicletSlicerData): VisualObjectInstance[] {\n            var slicerSettings: ChicletSlicerSettings = this.settings;\n            return [{\n                selector: null,\n                objectName: 'images',\n                properties: {\n                    imageSplit: slicerSettings.images.imageSplit,\n                    stretchImage: slicerSettings.images.stretchImage,\n                    bottomImage: slicerSettings.images.bottomImage,\n                }\n            }];\n        }\n        private updateInternal(resetScrollbarPosition: boolean) {\n            this.updateSlicerBodyDimensions();\n\n            var localizedSelectAllText: string = 'Select All';\n            var data = ChicletSlicer.converter(this.dataView, localizedSelectAllText, this.interactivityService);\n            if (!data) {\n                this.tableView.empty();\n                return;\n            }\n\n            if (this.interactivityService) {\n                this.interactivityService.applySelectionStateToData(data.slicerDataPoints);\n            }\n\n            data.slicerSettings.header.outlineWeight = data.slicerSettings.header.outlineWeight < 0 ? 0 : data.slicerSettings.header.outlineWeight;\n            data.slicerSettings.slicerText.outlineWeight = data.slicerSettings.slicerText.outlineWeight < 0 ? 0 : data.slicerSettings.slicerText.outlineWeight;\n\n            data.slicerSettings.general.getSavedSelection = () => {\n                    try \n                    {\n                        return JSON.parse(this.slicerData.slicerSettings.general.selection) || [];\n                    }\n                    catch(ex)\n                    {\n                        return [];\n                    }\n                };\n            data.slicerSettings.general.setSavedSelection = (selectionIds: string[]) => {\n                this.isSelectionSaved = true;\n                this.hostServices.persistProperties(<VisualObjectInstancesToPersist>{\n                        merge: [{\n                        objectName: \"general\",\n                        selector: null,\n                        properties: { selection: selectionIds && JSON.stringify(selectionIds) || \"\" }\n                    }]});\n                };\n\n            if(this.slicerData) {\n                if(this.isSelectionSaved) {\n                     this.isSelectionLoaded = true;\n                } else {\n                   this.isSelectionLoaded = this.slicerData.slicerSettings.general.selection === data.slicerSettings.general.selection;\n                }\n            } else {\n                this.isSelectionLoaded = false;\n            }\n\n            this.slicerData = data;\n            this.settings = this.slicerData.slicerSettings;\n            if (this.settings.general.showDisabled === ChicletSlicerShowDisabled.BOTTOM) {\n                data.slicerDataPoints.sort(function (a, b) {\n                    if (a.selectable === b.selectable) {\n                        return 0;\n                    } else if (a.selectable && !b.selectable) {\n                        return -1;\n                    } else {\n                        return 1;\n                    }\n                });\n            } else if (this.settings.general.showDisabled === ChicletSlicerShowDisabled.HIDE) {\n                data.slicerDataPoints = data.slicerDataPoints.filter(x => x.selectable);\n            }\n\n            var height: number = this.settings.slicerText.height;\n            if (height === 0) {\n                var extraSpaceForCell = ChicletSlicer.cellTotalInnerPaddings + ChicletSlicer.cellTotalInnerBorders;\n                var textProperties = ChicletSlicer.getChicletTextProperties(this.settings.slicerText.textSize);\n                height = TextMeasurementService.estimateSvgTextHeight(textProperties) + TextMeasurementService.estimateSvgTextBaselineDelta(textProperties) + extraSpaceForCell;\n                var hasImage = _.any(data.slicerDataPoints, x=> x.imageURL !== '' && typeof x.imageURL !== \"undefined\");\n                if (hasImage)\n                    height += 100;\n            }\n\n            this.tableView\n                .rowHeight(height)\n                .columnWidth(this.settings.slicerText.width)\n                .orientation(this.settings.general.orientation)\n                .rows(this.settings.general.rows)\n                .columns(this.settings.general.columns)\n                .data(data.slicerDataPoints,\n                (d: ChicletSlicerDataPoint) => $.inArray(d, data.slicerDataPoints),\n                resetScrollbarPosition)\n                .viewport(this.getSlicerBodyViewport(this.currentViewport))\n                .render();\n\n            // if(!selectedItems.length  &&  String(savedSelection).length && this.slicerData && this.slicerData.hasSelectionOverride){\n            //     var arrSelection = String(savedSelection).split('&');\n            //     var arrSelected = jQuery.map(data.slicerDataPoints, function (d, index) { \n            //         if (arrSelection.indexOf(d.category) > -1) return d; \n            //     });\n            //     data.slicerDataPoints.forEach(function (d, index) { \n            //         if (arrSelection.indexOf(d.category) > -1){\n            //             d.selected = true;\n            //             // console.error('>>>>@@@', d, index);\n            //         }\n            //     });\n            //     if(!arrSelection.length){\n            //         this.slicerData.hasSelectionOverride = false\n            //     }\n            //     // console.error('>>> 2', 'RESTORE',   savedSelection,     arrSelected,     data.slicerDataPoints )\n            // }\n        }\n\n        private initContainer() {\n            var settings: ChicletSlicerSettings = this.settings;\n            var slicerBodyViewport: IViewport = this.getSlicerBodyViewport(this.currentViewport);\n            var slicerContainer: D3.Selection = d3.select(this.element.get(0))\n                .append('div')\n                .classed(ChicletSlicer.Container.class, true);\n\n            this.slicerHeader = slicerContainer\n                .append('div')\n                .classed(ChicletSlicer.Header.class, true);\n\n            this.slicerHeader\n                .append('span')\n                .classed(ChicletSlicer.Clear.class, true)\n                .attr('title', 'Clear');\n\n            this.slicerHeader\n                .append('div')\n                .classed(ChicletSlicer.HeaderText.class, true)\n                .style({\n                    'margin-left': PixelConverter.toString(settings.headerText.marginLeft),\n                    'margin-top': PixelConverter.toString(settings.headerText.marginTop),\n                    'border-style': this.getBorderStyle(settings.header.outline),\n                    'border-color': settings.header.outlineColor,\n                    'border-width': this.getBorderWidth(settings.header.outline, settings.header.outlineWeight),\n                    'font-size': PixelConverter.fromPoint(settings.header.textSize),\n                });\n\n            this.slicerBody = slicerContainer\n                .append('div').classed(ChicletSlicer.Body.class, true)\n                .classed('slicerBody-horizontal', settings.general.orientation === Orientation.HORIZONTAL)\n                .classed('slicerBody-vertical', settings.general.orientation === Orientation.VERTICAL)\n                .style({\n                    'height': PixelConverter.toString(slicerBodyViewport.height),\n                    'width': '100%',\n                });\n\n            var rowEnter = (rowSelection: D3.Selection) => {\n                var settings: ChicletSlicerSettings = this.settings;\n                var listItemElement = rowSelection.append('li')\n                    .classed(ChicletSlicer.ItemContainer.class, true)\n                    .style({\n                        'margin-left': PixelConverter.toString(settings.slicerItemContainer.marginLeft),\n                    });\n\n                listItemElement.append('div')\n                    .classed('slicer-img-wrapper', true);\n\n                listItemElement.append('div')\n                    .classed('slicer-text-wrapper', true)\n                    .append('span')\n                    .classed(ChicletSlicer.LabelText.class, true)\n                    .style({\n                        'font-size': PixelConverter.fromPoint(settings.slicerText.textSize),\n                    });\n            };\n\n            var rowUpdate = (rowSelection: D3.Selection) => {\n                var settings: ChicletSlicerSettings = this.settings;\n                var data = this.slicerData;\n                if (data && settings) {\n                    this.slicerHeader.classed('hidden', !settings.header.show);\n                    this.slicerHeader.select(ChicletSlicer.HeaderText.selector)\n                        .text(settings.header.title.trim() !== \"\" ? settings.header.title.trim() : this.slicerData.categorySourceName)\n                        .style({\n                            'border-style': this.getBorderStyle(settings.header.outline),\n                            'border-color': settings.header.outlineColor,\n                            'border-width': this.getBorderWidth(settings.header.outline, settings.header.outlineWeight),\n                            'color': settings.header.fontColor,\n                            'background-color': settings.header.background,\n                            'font-size': PixelConverter.fromPoint(settings.header.textSize),\n                        });\n\n                    this.slicerBody\n                        .classed('slicerBody-horizontal', settings.general.orientation === Orientation.HORIZONTAL)\n                        .classed('slicerBody-vertical', settings.general.orientation === Orientation.VERTICAL);\n\n                    var slicerText = rowSelection.selectAll(ChicletSlicer.LabelText.selector);\n                    var textProperties = ChicletSlicer.getChicletTextProperties(settings.slicerText.textSize);\n\n                    var formatString = data.formatString;\n                    slicerText.text((d: ChicletSlicerDataPoint) => {\n                        var text = valueFormatter.format(d.category, formatString);\n                        textProperties.text = text;\n                        if (this.settings.slicerText.width === 0)\n                            return powerbi.TextMeasurementService.getTailoredTextOrDefault(textProperties, (this.currentViewport.width / this.settings.general.columns) - ChicletSlicer.chicletTotalInnerRightLeftPaddings - ChicletSlicer.cellTotalInnerBorders - settings.slicerText.outlineWeight); \n                        else\n                            return TextMeasurementService.getTailoredTextOrDefault(textProperties, this.settings.slicerText.width - ChicletSlicer.chicletTotalInnerRightLeftPaddings - ChicletSlicer.cellTotalInnerBorders - settings.slicerText.outlineWeight);\n                    });\n\n                    var slicerImg = rowSelection.selectAll('.slicer-img-wrapper');\n                    slicerImg\n                        .style('height', settings.images.imageSplit + '%')\n                        .classed('hidden', (d: ChicletSlicerDataPoint) => {\n                            if (!(d.imageURL)) {\n                                return true;\n                            }\n                            if (settings.images.imageSplit < 10) {\n                                return true;\n                            }\n                        })\n                        .style('display', (d: ChicletSlicerDataPoint) => (d.imageURL) ? 'flex' : 'none')\n                        .classed('stretchImage', settings.images.stretchImage)\n                        .classed('bottomImage', settings.images.bottomImage)\n                        .style('background-image', (d: ChicletSlicerDataPoint) => {\n                            return d.imageURL ? `url(${d.imageURL})` : '';\n                        });\n\n                    rowSelection.selectAll('.slicer-text-wrapper')\n                        .style('height', (d: ChicletSlicerDataPoint) => {\n                            return d.imageURL ? (100 - settings.images.imageSplit) + '%' : '100%';\n                        })\n                        .classed('hidden', (d: ChicletSlicerDataPoint) => {\n                            if (settings.images.imageSplit > 90) {\n                                return true;\n                            }\n                        });\n\n                    rowSelection.selectAll('.slicerItemContainer').style({\n                        'color': settings.slicerText.fontColor,\n                        'border-style': this.getBorderStyle(settings.slicerText.outline),\n                        'border-color': settings.slicerText.outlineColor,\n                        'border-width': this.getBorderWidth(settings.slicerText.outline, settings.slicerText.outlineWeight),\n                        'font-size': PixelConverter.fromPoint(settings.slicerText.textSize),\n                        'border-radius': this.getBorderRadius(settings.slicerText.borderStyle),\n                    });\n\n                    if (settings.slicerText.background)\n                        this.slicerBody.style('background-color', explore.util.hexToRGBString(settings.slicerText.background, (100 - settings.slicerText.transparency) / 100));\n                    else\n                        this.slicerBody.style('background-color',null);\n\n                    if (this.interactivityService && this.slicerBody) {\n                        var slicerBody = this.slicerBody.attr('width', this.currentViewport.width);\n                        var slicerItemContainers = slicerBody.selectAll(ChicletSlicer.ItemContainer.selector);\n                        var slicerItemLabels = slicerBody.selectAll(ChicletSlicer.LabelText.selector);\n                        var slicerItemInputs = slicerBody.selectAll(ChicletSlicer.Input.selector);\n                        var slicerClear = this.slicerHeader.select(ChicletSlicer.Clear.selector);\n\n                        var behaviorOptions: ChicletSlicerBehaviorOptions = {\n                            dataPoints: data.slicerDataPoints,\n                            slicerItemContainers: slicerItemContainers,\n                            slicerItemLabels: slicerItemLabels,\n                            slicerItemInputs: slicerItemInputs,\n                            slicerClear: slicerClear,\n                            interactivityService: this.interactivityService,\n                            slicerSettings: data.slicerSettings,\n                            isSelectionLoaded: this.isSelectionLoaded\n                        };\n\n                        this.interactivityService.bind(data.slicerDataPoints, this.behavior, behaviorOptions, {\n                            overrideSelectionFromData: true,\n                            hasSelectionOverride: data.hasSelectionOverride,\n                        });\n                        this.behavior.styleSlicerInputs(rowSelection.select(ChicletSlicer.ItemContainer.selector),\n                            this.interactivityService.hasSelection());\n                    }\n                    else {\n                        this.behavior.styleSlicerInputs(rowSelection.select(ChicletSlicer.ItemContainer.selector), false);\n                    }\n                }\n            };\n\n            var rowExit = (rowSelection: D3.Selection) => {\n                rowSelection.remove();\n            };\n\n            var tableViewOptions: TableViewViewOptions = {\n                rowHeight: this.getRowHeight(),\n                columnWidth: this.settings.slicerText.width,\n                orientation: this.settings.general.orientation,\n                rows: this.settings.general.rows,\n                columns: this.settings.general.columns,\n                enter: rowEnter,\n                exit: rowExit,\n                update: rowUpdate,\n                loadMoreData: () => this.onLoadMoreData(),\n                scrollEnabled: true,\n                viewport: this.getSlicerBodyViewport(this.currentViewport),\n                baseContainer: this.slicerBody,\n            };\n\n            this.tableView = TableViewFactory.createTableView(tableViewOptions);\n        }\n\n        private onLoadMoreData(): void {\n            if (!this.waitingForData && this.dataView.metadata && this.dataView.metadata.segment) {\n                this.hostServices.loadMoreData();\n                this.waitingForData = true;\n            }\n        }\n\n        private getSlicerBodyViewport(currentViewport: IViewport): IViewport {\n            var settings = this.settings;\n            var headerHeight = (settings.header.show) ? this.getHeaderHeight() : 0;\n            var slicerBodyHeight = currentViewport.height - (headerHeight + settings.header.borderBottomWidth);\n            return {\n                height: slicerBodyHeight,\n                width: currentViewport.width\n            };\n        }\n\n        private updateSlicerBodyDimensions(): void {\n            var slicerViewport: IViewport = this.getSlicerBodyViewport(this.currentViewport);\n            this.slicerBody\n                .style({\n                    'height': PixelConverter.toString(slicerViewport.height),\n                    'width': '100%',\n                });\n        }\n\n        public static getChicletTextProperties(textSize?: number): TextProperties {\n            return <TextProperties>{\n                fontFamily: ChicletSlicer.DefaultFontFamily,\n                fontSize: PixelConverter.fromPoint(textSize || ChicletSlicer.DefaultFontSizeInPt),\n            };\n        }\n\n        private getHeaderHeight(): number {\n            return TextMeasurementService.estimateSvgTextHeight(\n                ChicletSlicer.getChicletTextProperties(this.settings.header.textSize));\n        }\n\n        private getRowHeight(): number {\n            var textSettings = this.settings.slicerText;\n            return textSettings.height !== 0\n                ? textSettings.height\n                : TextMeasurementService.estimateSvgTextHeight(ChicletSlicer.getChicletTextProperties(textSettings.textSize));\n        }\n\n        private getBorderStyle(outlineElement: string): string {\n            return outlineElement === '0px' ? 'none' : 'solid';\n        }\n\n        private getBorderWidth(outlineElement: string, outlineWeight: number): string {\n            switch (outlineElement) {\n                case 'None':\n                    return '0px';\n                case 'BottomOnly':\n                    return '0px 0px ' + outlineWeight + 'px 0px';\n                case 'TopOnly':\n                    return outlineWeight + 'px 0px 0px 0px';\n                case 'TopBottom':\n                    return outlineWeight + 'px 0px ' + outlineWeight + 'px 0px';\n                case 'LeftRight':\n                    return '0px ' + outlineWeight + 'px 0px ' + outlineWeight + 'px';\n                case 'Frame':\n                    return outlineWeight + 'px';\n                default:\n                    return outlineElement.replace(\"1\", outlineWeight.toString());\n            }\n        }\n\n        private getBorderRadius(borderType: string): string {\n            switch (borderType) {\n                case ChicletBorderStyle.ROUNDED:\n                    return \"10px\";\n                case ChicletBorderStyle.SQUARE:\n                    return \"0px\";\n                default:\n                    return \"5px\";\n            }\n        }\n    }\n\n    module ChicletSlicerChartConversion {\n        export class ChicletSlicerConverter {\n            private dataViewCategorical: DataViewCategorical;\n            private dataViewMetadata: DataViewMetadata;\n            private category: DataViewCategoryColumn;\n            private categoryIdentities: DataViewScopeIdentity[];\n            private categoryValues: any[];\n            private categoryColumnRef: data.SQExpr[];\n            private categoryFormatString: string;\n            private interactivityService: IInteractivityService;\n\n            public numberOfCategoriesSelectedInData: number;\n            public dataPoints: ChicletSlicerDataPoint[];\n            public hasSelectionOverride: boolean;\n\n            public constructor(dataView: DataView, interactivityService: IInteractivityService) {\n\n                var dataViewCategorical = dataView.categorical;\n                this.dataViewCategorical = dataViewCategorical;\n                this.dataViewMetadata = dataView.metadata;\n\n                if (dataViewCategorical.categories && dataViewCategorical.categories.length > 0) {\n                    this.category = dataViewCategorical.categories[0];\n                    this.categoryIdentities = this.category.identity;\n                    this.categoryValues = this.category.values;\n                    this.categoryColumnRef = <data.SQExpr[]> this.category.identityFields;\n                    this.categoryFormatString = valueFormatter.getFormatString(this.category.source, chicletSlicerProps.formatString);\n                }\n\n                this.dataPoints = [];\n\n                this.interactivityService = interactivityService;\n                this.hasSelectionOverride = false;\n            }\n\n            public convert(): void {\n                this.dataPoints = [];\n                this.numberOfCategoriesSelectedInData = 0;\n                // If category exists, we render labels using category values. If not, we render labels\n                // using measure labels.\n                if (this.categoryValues) {\n                    var objects = this.dataViewMetadata ? <any>this.dataViewMetadata.objects : undefined;\n\n                    var isInvertedSelectionMode = undefined;\n                    var numberOfScopeIds: number;\n                    if (objects && objects.general && objects.general.filter) {\n                        if (!this.categoryColumnRef)\n                            return;\n                        var filter = <powerbi.data.SemanticFilter>objects.general.filter;\n                        var scopeIds = powerbi.data.SQExprConverter.asScopeIdsContainer(filter, this.categoryColumnRef);\n                        if (scopeIds) {\n                            isInvertedSelectionMode = scopeIds.isNot;\n                            numberOfScopeIds = scopeIds.scopeIds ? scopeIds.scopeIds.length : 0;\n                        }\n                        else {\n                            isInvertedSelectionMode = false;\n                        }\n                    }\n\n                    if (this.interactivityService) {\n                        if (isInvertedSelectionMode === undefined) {\n                            // The selection state is read from the Interactivity service in case of SelectAll or Clear when query doesn't update the visual\n                            isInvertedSelectionMode = this.interactivityService.isSelectionModeInverted();\n                        }\n                        else {\n                            this.interactivityService.setSelectionModeInverted(isInvertedSelectionMode);\n                        }\n                    }\n\n                    var hasSelection: boolean = undefined;\n\n                    for (var idx = 0; idx < this.categoryValues.length; idx++) {\n                        var selected = isCategoryColumnSelected(chicletSlicerProps.selectedPropertyIdentifier, this.category, idx);\n                        if (selected != null) {\n                            hasSelection = selected;\n                            break;\n                        }\n                    }\n\n                    var dataViewCategorical = this.dataViewCategorical;\n                    var formatStringProp = chicletSlicerProps.formatString;\n                    var value: number = -Infinity;\n                    var imageURL: string = '';\n\n                    for (var categoryIndex: number = 0, categoryCount = this.categoryValues.length; categoryIndex < categoryCount; categoryIndex++) {\n                        var categoryIdentity = this.category.identity ? this.category.identity[categoryIndex] : null;\n                        var categoryIsSelected = isCategoryColumnSelected(chicletSlicerProps.selectedPropertyIdentifier, this.category, categoryIndex);\n                        var selectable: boolean = true;\n\n                        if (hasSelection != null) {\n                            if (isInvertedSelectionMode) {\n                                if (this.category.objects == null)\n                                    categoryIsSelected = undefined;\n\n                                if (categoryIsSelected != null) {\n                                    categoryIsSelected = hasSelection;\n                                }\n                                else if (categoryIsSelected == null)\n                                    categoryIsSelected = !hasSelection;\n                            }\n                            else {\n                                if (categoryIsSelected == null) {\n                                    categoryIsSelected = !hasSelection;\n                                }\n                            }\n                        }\n\n                        if (categoryIsSelected) {\n                            this.numberOfCategoriesSelectedInData++;\n                        }\n\n                        var categoryValue = this.categoryValues[categoryIndex];\n                        var categoryLabel = valueFormatter.format(categoryValue, this.categoryFormatString);\n\n                        if (this.dataViewCategorical.values) {\n                        \n                            // Series are either measures in the multi-measure case, or the single series otherwise\n                            for (var seriesIndex: number = 0; seriesIndex < this.dataViewCategorical.values.length; seriesIndex++) {\n                                var seriesData = dataViewCategorical.values[seriesIndex];\n                                if (seriesData.values[categoryIndex] != null) {\n                                    value = seriesData.values[categoryIndex];\n                                    if (seriesData.highlights) {\n                                        selectable = !(seriesData.highlights[categoryIndex] === null);\n                                    }\n                                    if (seriesData.source.groupName && seriesData.source.groupName !== '') {\n                                        imageURL = converterHelper.getFormattedLegendLabel(seriesData.source, dataViewCategorical.values, formatStringProp);\n                                        if (!/^(ftp|http|https):\\/\\/[^ \"]+$/.test(imageURL)) {\n                                            imageURL = undefined;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        this.dataPoints.push({\n                            identity: SelectionId.createWithId(categoryIdentity),\n                            category: categoryLabel,\n                            imageURL: imageURL,\n                            value: value,\n                            selected: categoryIsSelected,\n                            selectable: selectable\n                        });\n                    }\n                    if (numberOfScopeIds != null && numberOfScopeIds > this.numberOfCategoriesSelectedInData) {\n                        this.hasSelectionOverride = true;\n                    }\n                }\n            }\n        }\n    }\n\n    //TODO: This module should be removed once TextMeasruementService exports the \"estimateSvgTextBaselineDelta\" function.\n    export module ChicletSlicerTextMeasurementHelper {\n        interface CanvasContext {\n            font: string;\n            measureText(text: string): { width: number };\n        }\n\n        interface CanvasElement extends HTMLElement {\n            getContext(name: string);\n        }\n\n        var spanElement: JQuery;\n        var svgTextElement: D3.Selection;\n        var canvasCtx: CanvasContext;\n\n        export function estimateSvgTextBaselineDelta(textProperties: TextProperties): number {\n            var rect = estimateSvgTextRect(textProperties);\n            return rect.y + rect.height;\n        }\n\n        function ensureDOM(): void {\n            if (spanElement)\n                return;\n\n            spanElement = $('<span/>');\n            $('body').append(spanElement);\n            //The style hides the svg element from the canvas, preventing canvas from scrolling down to show svg black square.\n            svgTextElement = d3.select($('body').get(0))\n                .append('svg')\n                .style({\n                    'height': '0px',\n                    'width': '0px',\n                    'position': 'absolute'\n                })\n                .append('text');\n            canvasCtx = (<CanvasElement>$('<canvas/>').get(0)).getContext(\"2d\");\n        }\n\n        function measureSvgTextRect(textProperties: TextProperties): SVGRect {\n            debug.assertValue(textProperties, 'textProperties');\n\n            ensureDOM();\n\n            svgTextElement.style(null);\n            svgTextElement\n                .text(textProperties.text)\n                .attr({\n                    'visibility': 'hidden',\n                    'font-family': textProperties.fontFamily,\n                    'font-size': textProperties.fontSize,\n                    'font-weight': textProperties.fontWeight,\n                    'font-style': textProperties.fontStyle,\n                    'white-space': textProperties.whiteSpace || 'nowrap'\n                });\n\n            // We're expecting the browser to give a synchronous measurement here\n            // We're using SVGTextElement because it works across all browsers \n            return svgTextElement.node<SVGTextElement>().getBBox();\n        }\n\n        function estimateSvgTextRect(textProperties: TextProperties): SVGRect {\n            debug.assertValue(textProperties, 'textProperties');\n\n            var estimatedTextProperties: TextProperties = {\n                fontFamily: textProperties.fontFamily,\n                fontSize: textProperties.fontSize,\n                text: \"M\",\n            };\n\n            var rect = measureSvgTextRect(estimatedTextProperties);\n\n            return rect;\n        }\n    }\n\n    export interface ChicletSlicerBehaviorOptions {\n        slicerItemContainers: D3.Selection;\n        slicerItemLabels: D3.Selection;\n        slicerItemInputs: D3.Selection;\n        slicerClear: D3.Selection;\n        dataPoints: ChicletSlicerDataPoint[];\n        interactivityService: IInteractivityService;\n        slicerSettings: ChicletSlicerSettings;\n        isSelectionLoaded: boolean;\n    }\n\n    export class ChicletSlicerWebBehavior implements IInteractiveBehavior {\n        private slicers: D3.Selection;\n        private slicerItemLabels: D3.Selection;\n        private slicerItemInputs: D3.Selection;\n        private dataPoints: ChicletSlicerDataPoint[];\n        private interactivityService: IInteractivityService;\n        private slicerSettings: ChicletSlicerSettings;\n        private options: ChicletSlicerBehaviorOptions;\n\n        public bindEvents(options: ChicletSlicerBehaviorOptions, selectionHandler: ISelectionHandler): void {\n            var filterPropertyId = chicletSlicerProps.filterPropertyIdentifier;\n            var slicers = this.slicers = options.slicerItemContainers;\n            this.slicerItemLabels = options.slicerItemLabels;\n            this.slicerItemInputs = options.slicerItemInputs;\n            var slicerClear = options.slicerClear;\n            this.dataPoints = options.dataPoints;\n            this.interactivityService = options.interactivityService;\n            this.slicerSettings = options.slicerSettings;\n            this.options = options;\n\n            if(!this.options.isSelectionLoaded) {\n                this.loadSelection(selectionHandler);\n            }\n\n            slicers.on(\"mouseover\", (d: ChicletSlicerDataPoint) => {\n                if (d.selectable) {\n                    d.mouseOver = true;\n                    d.mouseOut = false;\n                    this.renderMouseover();\n                }\n            });\n\n            slicers.on(\"mouseout\", (d: ChicletSlicerDataPoint) => {\n                if (d.selectable) {\n                    d.mouseOver = false;\n                    d.mouseOut = true;\n                    this.renderMouseover();\n                }\n            });\n\n            slicers.on(\"click\", (d: ChicletSlicerDataPoint, index) => {\n                if (!d.selectable) {\n                    return;\n                }\n                var settings: ChicletSlicerSettings = this.slicerSettings;\n                d3.event.preventDefault();\n                if (d3.event.altKey && settings.general.multiselect) {\n                    var selectedIndexes = jQuery.map(this.dataPoints, function (d, index) { if (d.selected) return index; });\n                    var selIndex = selectedIndexes.length > 0 ? (selectedIndexes[selectedIndexes.length - 1]) : 0;\n                    if (selIndex > index) {\n                        var temp = index;\n                        index = selIndex;\n                        selIndex = temp;\n                    }\n                    selectionHandler.handleClearSelection();\n                    for (var i = selIndex; i <= index; i++) {\n                        selectionHandler.handleSelection(this.dataPoints[i], true /* isMultiSelect */);\n                    }\n                }\n                else if (d3.event.ctrlKey && settings.general.multiselect) {\n                    selectionHandler.handleSelection(d, true /* isMultiSelect */);\n                }\n                else {\n                    selectionHandler.handleSelection(d, false /* isMultiSelect */);\n                }\n                selectionHandler.persistSelectionFilter(filterPropertyId);\n                this.saveSelection(selectionHandler);\n            });\n\n            slicerClear.on(\"click\", (d: SelectableDataPoint) => {\n                selectionHandler.handleClearSelection();\n                selectionHandler.persistSelectionFilter(filterPropertyId);\n                this.saveSelection(selectionHandler);\n            });\n        }\n\n        public loadSelection(selectionHandler: ISelectionHandler): void {\n            selectionHandler.handleClearSelection();\n            var savedSelectionIds =  this.slicerSettings.general.getSavedSelection();\n            if(savedSelectionIds.length) {\n                var selectedDataPoints = this.dataPoints.filter(d => savedSelectionIds.some(x => d.identity.getKey() === x));\n                selectedDataPoints.forEach(x => selectionHandler.handleSelection(x, true));\n                selectionHandler.persistSelectionFilter(chicletSlicerProps.filterPropertyIdentifier);\n            }\n        }\n\n        public saveSelection(selectionHandler: ISelectionHandler): void {\n            var selectionIdKeys = (<SelectionId[]>(<any>selectionHandler).selectedIds).map(x=>x.getKey());\n            this.slicerSettings.general.setSavedSelection(selectionIdKeys);\n        }\n\n        public renderSelection(hasSelection: boolean): void {\n            if (!hasSelection && !this.interactivityService.isSelectionModeInverted()) {\n                this.slicers.style('background', this.slicerSettings.slicerText.unselectedColor);\n            }\n            else {\n                this.styleSlicerInputs(this.slicers, hasSelection);\n            }\n        }\n\n        private renderMouseover(): void {\n            this.slicerItemLabels.style({\n                'color': (d: ChicletSlicerDataPoint) => {\n                    if (d.mouseOver)\n                        return this.slicerSettings.slicerText.hoverColor;\n\n                    if (d.mouseOut) {\n                        if (d.selected)\n                            return this.slicerSettings.slicerText.fontColor;\n                        else\n                            return this.slicerSettings.slicerText.fontColor;\n                    }\n                }\n            });\n        }\n\n        public styleSlicerInputs(slicers: D3.Selection, hasSelection: boolean) {\n            var settings = this.slicerSettings;\n            var selectedItems = [];\n            slicers.each(function (d: ChicletSlicerDataPoint) {\n                // get selected items\n                if (d.selectable && d.selected) {\n                    selectedItems.push(d);\n                }\n                \n                d3.select(this).style({\n                    'background': d.selectable ? (d.selected ? settings.slicerText.selectedColor : settings.slicerText.unselectedColor)\n                        : settings.slicerText.disabledColor\n                });\n                d3.select(this).classed('slicerItem-disabled', !d.selectable);\n            });\n        }\n    }\n\n    module explore.util {\n        export function hexToRGBString(hex: string, transparency?: number): string {\n        \n            // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n            var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n            hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n                return r + r + g + g + b + b;\n            });\n\n            // Hex format which return the format r-g-b\n            var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n            var rgb = result ? {\n                r: parseInt(result[1], 16),\n                g: parseInt(result[2], 16),\n                b: parseInt(result[3], 16)\n            } : null;\n\n            // Wrong input\n            if (rgb === null) {\n                return '';\n            }\n\n            if (!transparency && transparency !== 0) {\n                return \"rgb(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \")\";\n            }\n            else {\n                return \"rgba(\" + rgb.r + \",\" + rgb.g + \",\" + rgb.b + \",\" + transparency + \")\";\n            }\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n\n    export interface ChordChartData {\n        dataMatrix: number[][];\n        labelDataPoints: ChordArcDescriptor[];\n        legendData?: LegendData;\n        labelFontSize: number;\n        tooltipData: ChordTooltipData[][];\n        sliceTooltipData: ChordTooltipData[];\n        tickUnit: number;\n        differentFromTo: boolean;\n        defaultDataPointColor?: string;\n        prevAxisVisible: boolean;\n        showAllDataPoints?: boolean;\n        showLabels: boolean;\n        showAxis: boolean;\n    }\n\n    export interface ChordArcDescriptor extends D3.Layout.ArcDescriptor {\n        data: ChordArcLabelData;\n    }\n\n    export interface ChordArcLabelData extends LabelEnabledDataPoint, SelectableDataPoint {\n        label: string;\n        labelColor: string;\n        barColor: string;\n        isCategory: boolean;\n    }\n\n    export interface ChordTooltipData {\n        tooltipInfo: TooltipDataItem[];\n    }\n\n    export class ChordChart implements IVisual {\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: 'Category',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'From',\n                }, {\n                    name: 'Series',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'To',\n                }, {\n                    name: 'Y',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Values'),\n                }\n            ],\n            dataViewMappings: [{\n                conditions: [\n                    { 'Category': { max: 1 }, 'Series': { max: 0 } },\n                    { 'Category': { max: 1 }, 'Series': { min: 1, max: 1 }, 'Y': { max: 1 } },\n                    { 'Category': { max: 1 }, 'Series': { max: 0 }, 'Y': { min: 0, max: 1 } },\n                ],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        group: {\n                            by: 'Series',\n                            select: [{ bind: { to: 'Y' } }],\n                            dataReductionAlgorithm: { top: {} }\n                        },\n                    },\n                    rowCount: { preferred: { min: 2 }, supported: { min: 1 } }\n                },\n            }],\n            objects: {\n                dataPoint: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPoint'),\n                    properties: {\n                        defaultColor: {\n                            displayName: data.createDisplayNameGetter('Visual_DefaultColor'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        showAllDataPoints: {\n                            displayName: data.createDisplayNameGetter('Visual_DataPoint_Show_All'),\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                    },\n                },\n                axis: {\n                    displayName: 'Axis',\n                    properties: {\n                        show: {\n                            type: { bool: true }\n                        },\n                    },\n                },\n                labels: {\n                    displayName: 'Labels',\n                    properties: {\n                        show: {\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: data.createDisplayNameGetter(\"Visual_Reference_Line_Data_Label_Color\"),\n                            description: data.createDisplayNameGetter('Visual_Reference_Line_Data_Label_Color_Description'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } },\n                        },\n                    },\n                }\n            }\n        };\n\n        public static chordChartProps = {\n            general: {\n                formatString: <DataViewObjectPropertyIdentifier>{ objectName: 'general', propertyName: 'formatString' },\n            },\n            dataPoint: {\n                defaultColor: <DataViewObjectPropertyIdentifier>{ objectName: 'dataPoint', propertyName: 'defaultColor' },\n                fill: <DataViewObjectPropertyIdentifier>{ objectName: 'dataPoint', propertyName: 'fill' },\n                showAllDataPoints: <DataViewObjectPropertyIdentifier>{ objectName: 'dataPoint', propertyName: 'showAllDataPoints' },\n            },\n            axis: {\n                show: <DataViewObjectPropertyIdentifier>{ objectName: 'axis', propertyName: 'show' },\n            },\n            labels: {\n                show: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'show' },\n                color: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'color' },\n                fontSize: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'fontSize' },\n            },\n        };\n\n        public static PolylineOpacity = 0.5;\n\n        private static OuterArcRadiusRatio = 0.9;\n        private static InnerArcRadiusRatio = 0.8;\n        private static DefaultLabelColor = \"#777777\";\n        private static DefaultLabelsFontSize = 12;\n\n        private static VisualClassName = 'chordChart';\n\n        private static sliceClass: ClassAndSelector = {\n            class: 'slice',\n            selector: '.slice',\n        };\n\n        private static chordClass: ClassAndSelector = {\n            class: 'chord',\n            selector: '.chord',\n        };\n\n        private static sliceTicksClass: ClassAndSelector = {\n            class: 'slice-ticks',\n            selector: '.slice-ticks'\n        };\n\n        private static tickPairClass: ClassAndSelector = {\n            class: 'tick-pair',\n            selector: '.tick-pair'\n        };\n\n        private static tickLineClass: ClassAndSelector = {\n            class: 'tick-line',\n            selector: '.tick-line'\n        };\n\n        private static tickTextClass: ClassAndSelector = {\n            class: 'tick-text',\n            selector: '.tick-text'\n        };\n\n        private static labelGraphicsContextClass: ClassAndSelector = {\n            class: 'labels',\n            selector: '.labels',\n        };\n\n        private static labelsClass: ClassAndSelector = {\n            class: 'data-labels',\n            selector: '.data-labels',\n        };\n\n        private static linesGraphicsContextClass: ClassAndSelector = {\n            class: 'lines',\n            selector: '.lines',\n        };\n\n        private static lineClass: ClassAndSelector = {\n            class: 'line-label',\n            selector: '.line-label',\n        };\n\n        private chordLayout: D3.Layout.ChordLayout;\n        private element: JQuery;\n\n        private svg: D3.Selection;\n        private mainGraphicsContext: D3.Selection;\n\n        private data: ChordChartData;\n        private colors: IDataColorPalette;\n        private selectionManager: utility.SelectionManager;\n        private dataView: DataView;\n        \n        /* Convert a DataView into a view model */\n        public static converter(dataView: DataView, colors: IDataColorPalette, prevAxisVisible: boolean): ChordChartData {\n            let catDv: DataViewCategorical = dataView.categorical;\n\n            let defaultDataPointColor: string = ChordChart.getDefaultDataPointColor(dataView).solid.color;\n            let labelColor = ChordChart.getLabelsColor(dataView);\n            let labelFontSize = ChordChart.getLabelsFontSize(dataView);\n\n            if (catDv && catDv.categories && catDv.categories.length > 0 && catDv.values && catDv.categories[0].values && catDv.categories[0].values[0]) {\n\n                let cat: DataViewCategoryColumn = catDv.categories[0];\n                let catValues = cat.values;\n                let values = catDv.values;\n                let dataMatrix: number[][] = [];\n\n                let legendData: LegendData = {\n                    dataPoints: [],\n                    title: values[0] && values[0].source ? values[0].source.displayName : \"\",\n                };\n\n                let toolTipData: ChordTooltipData[][] = [];\n                let sliceTooltipData: ChordTooltipData[] = [];\n\n                let max: number = 1000;\n\n                let seriesName: string[] = [];  /* series name array */\n                let seriesIndex: number[] = []; /* series index array */\n\n                let catIndex: number[] = [];    /* index array for category names */\n\n                let isDiffFromTo: boolean = false;  /* boolean variable indicates that From and To are different */\n\n                let labelData: ChordArcLabelData[] = [];    /* label data: !important */\n\n                let colorHelper = new ColorHelper(colors,\n                    ChordChart.chordChartProps.dataPoint.fill,\n                    defaultDataPointColor);\n\n                for (let i: number = 0, iLen = catValues.length; i < iLen; i++) {\n                    catIndex[catValues[i]] = i;\n                }\n\n                for (let i: number = 0, iLen = values.length; i < iLen; i++) {\n                    let seriesNameStr: string = converterHelper.getSeriesName(values[i].source);\n\n                    seriesName.push(seriesNameStr);\n                    seriesIndex[seriesNameStr] = i;\n                }\n\n                let totalFields: any[] = this.union_arrays(catValues, seriesName);\n\n                if (ChordChart.getValidArrayLength(totalFields) ===\n                    ChordChart.getValidArrayLength(catValues) + ChordChart.getValidArrayLength(seriesName)) {\n                    isDiffFromTo = true;\n                }\n\n                let formatStringProp = ChordChart.chordChartProps.general.formatString;\n                let categorySourceFormatString = valueFormatter.getFormatString(cat.source, formatStringProp);\n\n                for (let i: number = 0, iLen = totalFields.length; i < iLen; i++) {\n                    let id: SelectionId = null;\n                    let color: string = '';\n                    let isCategory: boolean = false;\n\n                    if (catIndex[totalFields[i]] !== undefined) {\n                        let index = catIndex[totalFields[i]];\n                        id = SelectionIdBuilder\n                            .builder()\n                            .withCategory(cat, catIndex[totalFields[i]])\n                            .createSelectionId();\n                        isCategory = true;\n                        let thisCategoryObjects = cat.objects ? cat.objects[index] : undefined;\n\n                        color = colorHelper.getColorForSeriesValue(thisCategoryObjects, /* cat.identityFields */ undefined, catValues[index]);\n\n                    } else if (seriesIndex[totalFields[i]] !== undefined) {\n                        let index = seriesIndex[totalFields[i]];\n\n                        let seriesData = values[index];\n                        let seriesObjects = seriesData && seriesData.objects && seriesData.objects[0];\n                        let seriesNameStr = converterHelper.getSeriesName(seriesData.source);\n\n                        id = SelectionId.createWithId(seriesData.identity);\n                        isCategory = false;\n\n                        color = colorHelper.getColorForSeriesValue(seriesObjects, /* values.identityFields */ undefined, seriesNameStr);\n                    }\n\n                    labelData.push({\n                        label: totalFields[i],\n                        labelColor: labelColor,\n                        barColor: color,\n                        isCategory: isCategory,\n                        identity: id,\n                        selected: false\n                    });\n\n                    dataMatrix.push([]);\n                    toolTipData.push([]);\n\n                    let formattedCategoryValue = valueFormatter.format(catValues[i], categorySourceFormatString);\n\n                    for (let j = 0, jLen = totalFields.length; j < jLen; j++) {\n                        let elementValue: number = 0;\n                        let tooltipInfo: TooltipDataItem[] = [];\n\n                        if (catIndex[totalFields[i]] !== undefined &&\n                            seriesIndex[totalFields[j]] !== undefined) {\n                            let row: number = catIndex[totalFields[i]];\n                            let col: number = seriesIndex[totalFields[j]];\n                            if (values[col].values[row] !== null) {\n                                elementValue = values[col].values[row];\n\n                                if (elementValue > max)\n                                    max = elementValue;\n\n                                tooltipInfo = TooltipBuilder.createTooltipInfo(\n                                    formatStringProp,\n                                    catDv,\n                                    formattedCategoryValue,\n                                    elementValue,\n                                    null,\n                                    null,\n                                    col,\n                                    row);\n                            }\n                        } else if (isDiffFromTo && catIndex[totalFields[j]] !== undefined &&\n                            seriesIndex[totalFields[i]] !== undefined) {\n                            let row: number = catIndex[totalFields[j]];\n                            let col: number = seriesIndex[totalFields[i]];\n                            if (values[col].values[row] !== null) {\n                                elementValue = values[col].values[row];\n                            }\n                        }\n\n                        dataMatrix[i].push(elementValue);\n                        toolTipData[i].push({\n                            tooltipInfo: tooltipInfo\n                        });\n                    }\n\n                    let totalSum = d3.sum(dataMatrix[i]);\n\n                    sliceTooltipData.push({\n                        tooltipInfo: [{\n                            displayName: totalFields[i],\n                            value: (ChordChart.isInt(totalSum)) ? totalSum.toFixed(0) : totalSum.toFixed(2)\n                        }]\n                    });\n                }\n\n                let chordLayout = d3.layout.chord()\n                    .padding(0.1)\n                    .matrix(dataMatrix);\n\n                let unitLength: number = Math.round(max / 5).toString().length - 1;\n\n                return {\n                    dataMatrix: dataMatrix,\n                    labelDataPoints: ChordChart.convertToChordArcDescriptor(chordLayout.groups(), labelData),\n                    legendData: legendData,\n                    tooltipData: toolTipData,\n                    sliceTooltipData: sliceTooltipData,\n                    tickUnit: Math.pow(10, unitLength),\n                    differentFromTo: isDiffFromTo,\n                    defaultDataPointColor: defaultDataPointColor,\n                    prevAxisVisible: prevAxisVisible,\n                    showAllDataPoints: ChordChart.getShowAllDataPoints(dataView),\n                    showLabels: ChordChart.getLabelsShow(dataView),\n                    showAxis: ChordChart.getAxisShow(dataView),\n                    labelFontSize: labelFontSize,\n                };\n            } else {\n                return {\n                    dataMatrix: [],\n                    labelDataPoints: [],\n                    legendData: null,\n                    tooltipData: [],\n                    sliceTooltipData: [],\n                    tickUnit: 1000,\n                    differentFromTo: false,\n                    defaultDataPointColor: defaultDataPointColor,\n                    prevAxisVisible: prevAxisVisible,\n                    showAllDataPoints: ChordChart.getShowAllDataPoints(dataView),\n                    showLabels: ChordChart.getLabelsShow(dataView),\n                    showAxis: ChordChart.getAxisShow(dataView),\n                    labelFontSize: labelFontSize,\n                };\n            }\n        }\n\n        /* Check every element of the array and returns the count of elements which are valid(not undefined) */\n        public static getValidArrayLength(array: any[]): number {\n            let len = 0;\n            for (let i: number = 0, iLen = array.length; i < iLen; i++) {\n                if (array[i] !== undefined) {\n                    len++;\n                }\n            }\n            return len;\n        }\n\n        /* Convert ChordLayout to ChordArcDescriptor */\n        public static convertToChordArcDescriptor(groups: D3.Layout.ArcDescriptor[], datum: ChordArcLabelData[]): ChordArcDescriptor[] {\n            let labelDataPoints: ChordArcDescriptor[] = [];\n            for (let i: number = 0, iLen = groups.length; i < iLen; i++) {\n                let labelDataPoint: ChordArcDescriptor = groups[i];\n                labelDataPoint.data = datum[i];\n                labelDataPoints.push(labelDataPoint);\n            }\n\n            return labelDataPoints;\n        }\n\n        /* Calculate radius */\n        private calculateRadius(viewport: IViewport): number {\n            if (this.data && this.data.showLabels) {\n                // if we have category or data labels, use a sigmoid to blend the desired denominator from 2 to 3.\n                // if we are taller than we are wide, we need to use a larger denominator to leave horizontal room for the labels.\n                let hw = viewport.height / viewport.width;\n                let denom = 2 + (1 / (1 + Math.exp(-5 * (hw - 1))));\n                return Math.min(viewport.height, viewport.width) / denom;\n            }\n\n            // no labels\n            return Math.min(viewport.height, viewport.width) / 2;\n        }\n        \n        /* Draw category labels */\n        public static drawDefaultCategoryLabels(graphicsContext: D3.Selection, chordData: ChordChartData, radius: number, viewport: IViewport): void {\n            /** Multiplier to place the end point of the reference line at 0.05 * radius away from the outer edge of the chord/pie. */\n\n            let arc: D3.Svg.Arc = d3.svg.arc()\n                .innerRadius(0)\n                .outerRadius(radius * ChordChart.InnerArcRadiusRatio);\n\n            let outerArc: D3.Svg.Arc = d3.svg.arc()\n                .innerRadius(radius * ChordChart.OuterArcRadiusRatio)\n                .outerRadius(radius * ChordChart.OuterArcRadiusRatio);\n\n            if (chordData.showLabels) {\n                let labelLayout = ChordChart.getChordChartLabelLayout(radius, outerArc, viewport, chordData.labelFontSize);\n                ChordChart.drawDefaultLabelsForChordChart(chordData.labelDataPoints,\n                    graphicsContext,\n                    labelLayout, viewport,\n                    radius, arc, outerArc);\n            }\n            else\n                dataLabelUtils.cleanDataLabels(graphicsContext, true);\n        }\n\n        /* One time setup*/\n        public init(options: VisualInitOptions): void {\n            let element = this.element = options.element;\n            this.selectionManager = new utility.SelectionManager({ hostServices: options.host });\n\n            this.svg = d3.select(element.get(0))\n                .append('svg')\n                .style('position', 'absolute')\n                .classed(ChordChart.VisualClassName, true);\n\n            this.mainGraphicsContext = this.svg\n                .append('g');\n\n            this.mainGraphicsContext\n                .append('g')\n                .classed('slices', true);\n\n            this.mainGraphicsContext\n                .append('g')\n                .classed('ticks', true);\n\n            this.mainGraphicsContext\n                .append('g')\n                .classed('chords', true);\n\n            this.colors = options.style.colorPalette.dataColors;\n        }\n    \n        /* Called for data, size, formatting changes*/\n        public update(options: VisualUpdateOptions) {\n            // assert dataView           \n            if (!options.dataViews || !options.dataViews[0]) return;\n            \n            // get animation duration\n            let duration = options.suppressAnimations ? 0 : AnimatorCommon.MinervaAnimationDuration;\n\n            let dataView = this.dataView = options.dataViews[0];\n            let prevAxisShow: boolean = (this.data) ? this.data.showAxis : !ChordChart.getAxisShow(dataView);\n\n            let data = this.data = ChordChart.converter(dataView, this.colors, prevAxisShow);\n\n            let viewport = options.viewport;\n\n            let chordLayout = this.chordLayout = d3.layout.chord()\n                .padding(0.1)\n                //.sortGroups(d3.descending)\n                .matrix(data.dataMatrix);\n\n            let width = viewport.width;\n            let height = viewport.height;\n\n            let radius = this.calculateRadius(viewport);\n            let sm = this.selectionManager;\n\n            let innerRadius: number = radius;\n            let outerRadius: number = radius * ChordChart.InnerArcRadiusRatio;\n\n            let arc: D3.Svg.Arc = d3.svg.arc().innerRadius(innerRadius).outerRadius(outerRadius);\n\n            this.svg\n                .attr({\n                    'width': width,\n                    'height': height\n                });\n\n            let mainGraphicsContext = this.mainGraphicsContext\n                .attr('transform', SVGUtil.translate(width / 2, height / 2));\n\n            let sliceShapes = this.svg.select('.slices')\n                .selectAll('path' + ChordChart.sliceClass.selector)\n                .data(chordLayout.groups);\n\n            sliceShapes.enter()\n                .insert(\"path\")\n                .classed(ChordChart.sliceClass.class, true);\n\n            sliceShapes.style('fill', (d, i) => data.labelDataPoints[i].data.barColor)\n                .style(\"stroke\", (d, i) => data.labelDataPoints[i].data.barColor)\n                .on('click', function(d, i) {\n                    sm.select(data.labelDataPoints[i].data.identity).then(ids=> {\n                        if (ids.length > 0) {\n                            mainGraphicsContext.selectAll(\".chords path.chord\")\n                                .style(\"opacity\", 1);\n\n                            mainGraphicsContext.selectAll(\".slices path.slice\")\n                                .style('opacity', 0.3);\n\n                            mainGraphicsContext.selectAll(\".chords path.chord\")\n                                .filter(function(d) { return d.source.index !== i && d.target.index !== i; })\n                                .style(\"opacity\", 0.3);\n\n                            d3.select(this).style('opacity', 1);\n                        } else {\n                            sliceShapes.style('opacity', 1);\n                            mainGraphicsContext.selectAll(\".chords path.chord\")\n                                .filter(function(d) { return d.source.index !== i && d.target.index !== i; })\n                                .style(\"opacity\", 1);\n                        }\n                    });\n\n                    d3.event.stopPropagation();\n                })\n                .transition()\n                .duration(duration)\n                .attr(\"d\", arc);\n\n            sliceShapes.exit()\n                .remove();\n\n            TooltipManager.addTooltip(sliceShapes, (tooltipEvent: TooltipEvent) => {\n                return data.sliceTooltipData[tooltipEvent.data.index].tooltipInfo;\n            });\n\n            let chordShapes = this.svg.select('.chords')\n                .selectAll('path' + ChordChart.chordClass.selector)\n                .data(chordLayout.chords);\n\n            chordShapes\n                .enter().insert(\"path\")\n                .classed(ChordChart.chordClass.class, true);\n\n            chordShapes.style(\"fill\", (d, i) => data.labelDataPoints[d.target.index].data.barColor)\n                .style(\"opacity\", 1)\n                .transition()\n                .duration(duration)\n                .attr(\"d\", d3.svg.chord().radius(innerRadius));\n\n            chordShapes.exit()\n                .remove();\n\n            this.svg\n                .on('click', () => this.selectionManager.clear().then(() => {\n                    sliceShapes.style('opacity', 1);\n                    chordShapes.style('opacity', 1);\n                }));\n\n            ChordChart.drawTicks(this.mainGraphicsContext, data, chordLayout, outerRadius, duration, viewport);\n            ChordChart.drawDefaultCategoryLabels(this.mainGraphicsContext, data, radius, viewport);\n\n            TooltipManager.addTooltip(chordShapes, (tooltipEvent: TooltipEvent) => {\n                let tooltipInfo: TooltipDataItem[] = [];\n                if (data.differentFromTo) {\n                    tooltipInfo = data.tooltipData[tooltipEvent.data.source.index]\n                    [tooltipEvent.data.source.subindex]\n                        .tooltipInfo;\n                } else {\n                    tooltipInfo.push({\n                        displayName: data.labelDataPoints[tooltipEvent.data.source.index].data.label\n                        + '->' + data.labelDataPoints[tooltipEvent.data.source.subindex].data.label,\n                        value: data.dataMatrix[tooltipEvent.data.source.index]\n                        [tooltipEvent.data.source.subindex].toString()\n                    });\n                    tooltipInfo.push({\n                        displayName: data.labelDataPoints[tooltipEvent.data.target.index].data.label\n                        + '->' + data.labelDataPoints[tooltipEvent.data.target.subindex].data.label,\n                        value: data.dataMatrix[tooltipEvent.data.target.index]\n                        [tooltipEvent.data.target.subindex].toString()\n                    });\n                }\n                return tooltipInfo;\n            });\n        }\n\n        /*About to remove your visual, do clean up here */\n        public destroy() {\n\n        }\n\n        /* Clean ticks */\n        public static cleanTicks(context: D3.Selection) {\n            let empty = [];\n            let tickLines = context.selectAll(ChordChart.tickLineClass.selector).data(empty);\n            tickLines.exit().remove();\n\n            let tickTexts = context.selectAll(ChordChart.tickTextClass.selector).data(empty);\n            tickTexts.exit().remove();\n\n            context.selectAll(ChordChart.tickPairClass.selector).remove();\n            context.selectAll(ChordChart.sliceTicksClass.selector).remove();\n        }\n        \n        /* Draw axis(ticks) around the arc */\n        public static drawTicks(graphicsContext: D3.Selection, chordData: ChordChartData, chordLayout: D3.Layout.ChordLayout, outerRadius: number, duration: number, viewport: IViewport): void {\n\n            if (chordData.showAxis) {\n                let tickShapes = graphicsContext.select('.ticks')\n                    .selectAll('g' + ChordChart.sliceTicksClass.selector)\n                    .data(chordLayout.groups);\n                let animDuration = (chordData.prevAxisVisible === chordData.showAxis) ? duration : 0;\n\n                tickShapes.enter().insert('g')\n                    .classed(ChordChart.sliceTicksClass.class, true);\n\n                let tickPairs = tickShapes.selectAll('g' + ChordChart.tickPairClass.selector)\n                    .data(function(d) {\n                        let k = (d.endAngle - d.startAngle) / d.value;\n                        let range = d3.range(0, d.value, d.value - 1 < 0.15 ? 0.15 : d.value - 1);\n                        let retval =\n                            range.map(function(v, i) {\n                                let divider: number = 1000;\n                                let unitStr: string = 'k';\n\n                                if (chordData.tickUnit >= 1000 * 1000) {\n                                    divider = 1000 * 1000;\n                                    unitStr = 'm';\n                                }\n                                else if (chordData.tickUnit >= 1000) {\n                                    divider = 1000;\n                                    unitStr = 'k';\n                                } else {\n                                    divider = 1;\n                                    unitStr = '';\n                                }\n                                let retv =\n                                    {\n                                        angle: v * k + d.startAngle,\n                                        label: Math.floor(v / divider) + unitStr\n                                    };\n                                return retv;\n\n                            });\n                        return retval;\n                    });\n\n                tickPairs.enter().insert('g')\n                    .classed(ChordChart.tickPairClass.class, true);\n\n                tickPairs.transition()\n                    .duration(animDuration)\n                    .attr('transform', function(d) {\n                        return 'rotate(' + (d.angle * 180 / Math.PI - 90) + ')'\n                            + 'translate(' + outerRadius + ',0)';\n                    });\n\n                tickPairs.selectAll('line' + ChordChart.tickLineClass.selector)\n                    .data((d) => [d])\n                    .enter().insert('line')\n                    .classed(ChordChart.tickLineClass.class, true)\n                    .style(\"stroke\", \"#000\")\n                    .attr(\"x1\", 1)\n                    .attr(\"y1\", 0)\n                    .attr(\"x2\", 5)\n                    .attr(\"y2\", 0);\n\n                tickPairs.selectAll('text' + ChordChart.tickTextClass.selector)\n                    .data((d) => [d])\n                    .enter().insert('text')\n                    .classed(ChordChart.tickTextClass.class, true)\n                    .style(\"text-anchor\", function(d) { return d.angle > Math.PI ? \"end\" : null; })\n                    .text(function(d) { return d.label; })\n                    .attr(\"transform\", function(d) { return d.angle > Math.PI ? \"rotate(180)translate(-16)\" : null; })\n                    .attr(\"x\", 8)\n                    .attr(\"dy\", \".35em\");\n\n                tickPairs.exit()\n                    .remove();\n\n                tickShapes.exit()\n                    .remove();\n\n            } else {\n                ChordChart.cleanTicks(graphicsContext);\n            }\n\n        }\n\n        /* Get format parameter axis whether it determines show ticks or not. Default value is true */\n        private static getAxisShow(dataView: DataView): boolean {\n            if (dataView && dataView.metadata) {\n                let objects = dataView.metadata.objects;\n                if (objects) {\n                    let axis = objects['axis'];\n                    if (axis && axis.hasOwnProperty('show')) {\n                        return <boolean>axis['show'];\n                    }\n                }\n            }\n            return true;\n        }\n        \n        /* Get format parameter labels whether it determines show labels or not. Default value is true */\n        private static getLabelsShow(dataView: DataView): boolean {\n            if (dataView && dataView.metadata) {\n                let objects = dataView.metadata.objects;\n                if (objects) {\n                    let labels = objects['labels'];\n                    if (labels && labels.hasOwnProperty('show')) {\n                        return <boolean>labels['show'];\n                    }\n                }\n            }\n            return true;\n        }\n\n        /* Get format parameter labels whether it determines show labels or not. Default value is true */\n        private static getLabelsColor(dataView: DataView): string {\n            if (dataView && dataView.metadata) {\n                let objects = dataView.metadata.objects;\n                if (objects) {\n                    let labels = objects['labels'];\n                    if (labels && labels.hasOwnProperty('color'))\n                        return labels['color'].solid.color;\n                }\n            }\n            return ChordChart.DefaultLabelColor;\n        }\n\n        private static getLabelsFontSize(dataView: DataView): number {\n            if (dataView && dataView.metadata) {\n                let objects = dataView.metadata.objects;\n                if (objects) {\n                    let labels = objects['labels'];\n                    if (labels && labels.hasOwnProperty('fontSize'))\n                        return labels['fontSize'];\n                }\n            }\n            return ChordChart.DefaultLabelsFontSize;\n        }\n       \n        /* Select labels */\n        public static selectLabels(filteredData: LabelEnabledDataPoint[], context: D3.Selection, isDonut: boolean = false, forAnimation: boolean = false): D3.UpdateSelection {\n\n            // Check for a case where resizing leaves no labels - then we need to remove the labels 'g'\n            if (filteredData.length === 0) {\n                dataLabelUtils.cleanDataLabels(context, true);\n                return null;\n            }\n\n            if (context.select(ChordChart.labelGraphicsContextClass.selector).empty())\n                context.append('g').classed(ChordChart.labelGraphicsContextClass.class, true);\n\n            // line chart ViewModel has a special 'key' property for point identification since the 'identity' field is set to the series identity\n            let hasKey: boolean = (<any>filteredData)[0].key !== null;\n            let hasDataPointIdentity: boolean = (<any>filteredData)[0].identity !== null;\n            let getIdentifier = hasKey ?\n                (d: any) => d.key\n                : hasDataPointIdentity ?\n                    (d: SelectableDataPoint) => d.identity.getKey()\n                    : undefined;\n\n            let labels = isDonut ?\n                context.select(ChordChart.labelGraphicsContextClass.selector).selectAll(ChordChart.labelsClass.selector).data(filteredData, (d: DonutArcDescriptor) => d.data.identity.getKey())\n                : getIdentifier !== null ?\n                    context.select(ChordChart.labelGraphicsContextClass.selector).selectAll(ChordChart.labelsClass.selector).data(filteredData, getIdentifier)\n                    : context.select(ChordChart.labelGraphicsContextClass.selector).selectAll(ChordChart.labelsClass.selector).data(filteredData);\n\n            let newLabels = labels.enter()\n                .append('text')\n                .classed(ChordChart.labelsClass.class, true);\n            if (forAnimation)\n                newLabels.style('opacity', 0);\n\n            return labels;\n        }\n        \n        /* Draw labels */\n        public static drawDefaultLabelsForChordChart(data: any[], context: D3.Selection, layout: ILabelLayout, viewport: IViewport, radius: number, arc: D3.Svg.Arc, outerArc: D3.Svg.Arc) {\n            // Hide and reposition labels that overlap\n            let dataLabelManager = new DataLabelManager();\n            let filteredData = dataLabelManager.hideCollidedLabels(viewport, data, layout,/* addTransform */ true);\n\n            let labels: D3.UpdateSelection = ChordChart.selectLabels(filteredData, context, true);\n\n            if (!labels) {\n                return;\n            }\n\n            labels\n                .attr({ x: (d: LabelEnabledDataPoint) => d.labelX, y: (d: LabelEnabledDataPoint) => d.labelY, dy: '.35em' })\n                .text((d: LabelEnabledDataPoint) => d.labeltext)\n                .style(layout.style);\n\n            labels\n                .exit()\n                .remove();\n\n            if (context.select(ChordChart.linesGraphicsContextClass.selector).empty()) {\n                context\n                    .append('g')\n                    .classed(ChordChart.linesGraphicsContextClass.class, true);\n            }\n\n            let lines = context.select(ChordChart.linesGraphicsContextClass.selector).selectAll('polyline')\n                .data(filteredData, (d: ChordArcDescriptor) => d.data.identity.getKey());\n            let innerLinePointMultiplier = 2.05;\n\n            let midAngle = function(d: ChordArcDescriptor) {\n                return d.startAngle + (d.endAngle - d.startAngle) / 2;\n            };\n\n            lines.enter()\n                .append('polyline')\n                .classed(ChordChart.lineClass.class, true);\n\n            lines\n                .attr('points', function(d) {\n                    let textPoint = outerArc.centroid(d);\n                    textPoint[0] = radius * 0.95 * (midAngle(d) < Math.PI ? 1 : -1);\n                    let midPoint = outerArc.centroid(d);\n                    let chartPoint = arc.centroid(d);\n                    chartPoint[0] *= innerLinePointMultiplier;\n                    chartPoint[1] *= innerLinePointMultiplier;\n                    return [chartPoint, midPoint, textPoint];\n                }).\n                style({\n                    'opacity': (d: ChordArcDescriptor) => ChordChart.PolylineOpacity,\n                    'stroke': (d: ChordArcDescriptor) => d.data.labelColor,\n                });\n\n            lines\n                .exit()\n                .remove();\n        }\n        \n        /* Get label layout */\n        public static getChordChartLabelLayout(radius: number, outerArc: D3.Svg.Arc, viewport: IViewport, labelFontSize: number): ILabelLayout {\n            let midAngle = function(d: ChordArcDescriptor) {\n                return d.startAngle + (d.endAngle - d.startAngle) / 2;\n            };\n\n            let spaceAvaliableForLabels: number = viewport.width / 2 - radius;\n            let minAvailableSpace: number = Math.min(spaceAvaliableForLabels, dataLabelUtils.maxLabelWidth);\n            var PixelConverter = jsCommon.PixelConverter;\n\n            return {\n                labelText: (d: DonutArcDescriptor) => {\n                    // show only category label\n                    return dataLabelUtils.getLabelFormattedText({\n                        label: d.data.label,\n                        maxWidth: minAvailableSpace,\n                        fontSize: labelFontSize,\n                    });\n                },\n                labelLayout: {\n                    x: (d: ChordArcDescriptor) => {\n                        return radius * (midAngle(d) < Math.PI ? 1 : -1);\n                    },\n                    y: (d: ChordArcDescriptor) => {\n                        let pos = outerArc.centroid(d);\n                        return pos[1];\n                    },\n                },\n                filter: (d: ChordArcDescriptor) => (d !== null && d.data !== null && d.data.label !== null),\n                style: {\n                    'fill': (d: ChordArcDescriptor) => d.data.labelColor,\n                    'text-anchor': (d: ChordArcDescriptor) => midAngle(d) < Math.PI ? 'start' : 'end',\n                    'font-size': (d: ChordArcDescriptor) => PixelConverter.fromPointToPixel(labelFontSize),\n                },\n            };\n        }\n        \n        /* Get Default Datapoint color */\n        private static getDefaultDataPointColor(dataView: DataView, defaultValue?: string): Fill {\n            if (dataView && dataView.metadata) {\n                let objects = dataView.metadata.objects;\n                if (objects) {\n                    let dataPoint = objects['dataPoint'];\n                    if (dataPoint && dataPoint.hasOwnProperty('defaultColor')) {\n                        let defaultColor = <Fill>dataPoint['defaultColor'];\n                        if (defaultColor) {\n                            return defaultColor;\n                        }\n                    }\n                }\n            }\n\n            return { solid: { color: defaultValue } };\n        }\n\n        /* Get format paramter value (showAllDataPoints)  */\n        private static getShowAllDataPoints(dataView: DataView): boolean {\n            if (!dataView || !dataView.metadata || !dataView.metadata.objects)\n                return false;\n\n            let objects: DataViewObjects = dataView.metadata.objects;\n            let dataPoint = objects['dataPoint'];\n            if (dataPoint && dataPoint.hasOwnProperty('showAllDataPoints')) {\n                return <boolean>dataPoint['showAllDataPoints'];\n            }\n            return false;\n        }\n\n        /* Enumerate format values */\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstance[] {\n            let instances: VisualObjectInstance[] = [];\n            let axis: VisualObjectInstance;\n\n            switch (options.objectName) {\n                case 'axis':\n                    axis = {\n                        objectName: 'axis',\n                        displayName: 'Axis',\n                        selector: null,\n                        properties: {\n                            show: ChordChart.getAxisShow(this.dataView)\n                        }\n                    };\n\n                    instances.push(axis);\n                    break;\n                case 'labels':\n                    axis = {\n                        objectName: 'labels',\n                        displayName: 'Labels',\n                        selector: null,\n                        properties: {\n                            show: ChordChart.getLabelsShow(this.dataView),\n                            color: ChordChart.getLabelsColor(this.dataView),\n                            fontSize: ChordChart.getLabelsFontSize(this.dataView),\n                        }\n                    };\n                    instances.push(axis);\n                    break;\n                case 'dataPoint':\n                    let defaultColor: VisualObjectInstance = {\n                        objectName: 'dataPoint',\n                        selector: null,\n                        properties: {\n                            defaultColor: {\n                                solid: { color: (this.data && this.data.defaultDataPointColor) ? this.data.defaultDataPointColor : this.colors.getColorByIndex(0).value }\n                            }\n                        }\n                    };\n\n                    instances.push(defaultColor);\n\n                    let showAllDataPoints: VisualObjectInstance = {\n                        objectName: 'dataPoint',\n                        selector: null,\n                        properties: {\n                            showAllDataPoints: this.data ? !!this.data.showAllDataPoints : false,\n                        }\n                    };\n\n                    instances.push(showAllDataPoints);\n\n                    if (this.data && this.data.labelDataPoints) {\n                        for (let i: number = 0, iLen = this.data.labelDataPoints.length; i < iLen; i++) {\n                            let labelDataPoint: ChordArcLabelData = this.data.labelDataPoints[i].data;\n\n                            if (labelDataPoint.isCategory) {\n                                let colorInstance: VisualObjectInstance = {\n                                    objectName: 'dataPoint',\n                                    displayName: labelDataPoint.label,\n                                    selector: ColorHelper.normalizeSelector(labelDataPoint.identity.getSelector()),\n                                    properties: {\n                                        fill: { solid: { color: labelDataPoint.barColor } }\n                                    }\n                                };\n\n                                instances.push(colorInstance);\n                            }\n                        }\n                    }\n                    break;\n            }\n            return instances;\n        }\n\n        /* Utility function for checking if it is integer or float */\n        public static isInt(n: number): boolean {\n            return n % 1 === 0;\n        }\n        \n        /* Utility function for union two arrays without duplicates */\n        public static union_arrays(x: any[], y: any[]): any[] {\n            let obj: Object = {};\n\n            for (let i: number = 0; i < x.length; i++) {\n                obj[x[i]] = x[i];\n            }\n\n            for (let i: number = 0; i < y.length; i++) {\n                obj[y[i]] = y[i];\n            }\n\n            let res: string[] = [];\n\n            for (let k in obj) {\n                if (obj.hasOwnProperty(k)) {  // <-- optional\n                    res.push(obj[k]);\n                }\n            }\n            return res;\n        }\n    }\n}\n","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import DataRoleHelper = powerbi.data.DataRoleHelper;\n\n    interface ScatterChartMeasureMetadata {\n        idx: {\n            x?: number;\n            y?: number;\n            size?: number;\n            colorFill?: number;\n            shape?: number;\n            image?: number;\n            rotation?: number;\n            backdrop?: number;\n            xStart?: number;\n            xEnd?: number;\n            yStart?: number;\n            yEnd?: number;\n        };\n        cols: {\n            x?: DataViewMetadataColumn;\n            y?: DataViewMetadataColumn;\n            size?: DataViewMetadataColumn;\n            colorFill?: DataViewMetadataColumn;\n            shape?: DataViewMetadataColumn;\n            image?: DataViewMetadataColumn;\n            rotation?: DataViewMetadataColumn;\n            backdrop?: DataViewMetadataColumn;\n            xStart?: DataViewMetadataColumn;\n            xEnd?: DataViewMetadataColumn;\n            yStart?: DataViewMetadataColumn;\n            yEnd?: DataViewMetadataColumn;\n        };\n        axesLabels: ChartAxesLabels;\n    }\n\n    export interface EnhancedScatterChartDataPoint extends SelectableDataPoint, TooltipEnabledDataPoint, LabelEnabledDataPoint {\n        x: any;\n        y: any;\n        size: any;\n        radius: RadiusData;\n        fill: string;\n        formattedCategory: jsCommon.Lazy<string>;\n        colorFill?: string;\n        svgurl?: string;\n        shapeSymbolType?: (number) => string;\n        rotation: number;\n        backdrop?: string;\n        xStart?: number;\n        xEnd?: number;\n        yStart?: number;\n        yEnd?: number;\n    }\n\n    export interface EnhancedScatterChartData extends ScatterBehaviorChartData {\n        useShape: boolean;\n        useCustomColor: boolean;\n        backdrop?: {\n            show: boolean;\n            url: string;\n        };\n        outline?: boolean;\n        crosshair?: boolean;\n        xCol: DataViewMetadataColumn;\n        yCol: DataViewMetadataColumn;\n        dataPoints: EnhancedScatterChartDataPoint[];\n        legendData: LegendData;\n        axesLabels: ChartAxesLabels;\n        size?: DataViewMetadataColumn;\n        sizeRange: NumberRange;\n        dataLabelsSettings: PointDataLabelsSettings;\n        defaultDataPointColor?: string;\n        showAllDataPoints?: boolean;\n        hasDynamicSeries?: boolean;\n        fillPoint?: boolean;\n        colorBorder?: boolean;\n        colorByCategory?: boolean;\n        selectedIds: SelectionId[];\n    }\n\n    export class EnhancedScatterChart implements IVisual {\n        private AxisGraphicsContextClassName = 'axisGraphicsContext';\n        public static DefaultBubbleOpacity = 0.85;\n        public static DimmedBubbleOpacity = 0.4;\n        private static DataLabelsOffset = 5;\n        private static ClassName = 'enhancedScatterChart';\n        private static MainGraphicsContextClassName = 'mainGraphicsContext';\n        private static LegendLabelFontSizeDefault: number = 9;\n        private static LabelDisplayUnitsDefault: number = 0;\n        private static AxisFontSize = 11;\n\n        private static DotClasses: ClassAndSelector = {\n            class: 'dot',\n            selector: '.dot'\n        };\n        private static ImageClasses: ClassAndSelector = {\n            class: 'img',\n            selector: '.img'\n        };\n\n        private legend: ILegend;\n        private svgScrollable: D3.Selection;\n        private axisGraphicsContext: D3.Selection;\n        private axisGraphicsContextScrollable: D3.Selection;\n        private xAxisGraphicsContext: D3.Selection;\n        private backgroundGraphicsContext: D3.Selection;\n        private y1AxisGraphicsContext: D3.Selection;\n        private svg: D3.Selection;\n        private element: JQuery;\n        private mainGraphicsContext: D3.Selection;\n        private clearCatcher: D3.Selection;\n        private mainGraphicsG: D3.Selection;\n\n        private style: IVisualStyle;\n        private data: EnhancedScatterChartData;\n        private dataView: DataView;\n\n        private xAxisProperties: IAxisProperties;\n        private yAxisProperties: IAxisProperties;\n        private colors: IDataColorPalette;\n        private options: VisualInitOptions;\n        private interactivity: InteractivityOptions;\n        private interactivityService: IInteractivityService;\n        private categoryAxisProperties: DataViewObject;\n        private valueAxisProperties: DataViewObject;\n        private yAxisOrientation: string;\n        private scrollY: boolean;\n        private scrollX: boolean;\n\n        private dataViews: DataView[];\n        private legendObjectProperties: DataViewObject;\n        private hostServices: IVisualHostServices;\n        private layerLegendData: LegendData;\n        private legendLabelFontSize: number;\n        private cartesianSmallViewPortProperties: CartesianSmallViewPortProperties;\n        private hasCategoryAxis: boolean;\n        private yAxisIsCategorical: boolean;\n        private bottomMarginLimit: number;\n        private leftRightMarginLimit: number;\n        private isXScrollBarVisible: boolean;\n        private isYScrollBarVisible: boolean;\n        private ScrollBarWidth = 10;\n        private categoryAxisHasUnitType: boolean;\n        private valueAxisHasUnitType: boolean;\n        private svgDefaultImage: string;\n        private oldBackdrop: string;\n        private textProperties: TextProperties = {\n            fontFamily: 'wf_segoe-ui_normal',\n            fontSize: jsCommon.PixelConverter.toString(EnhancedScatterChart.AxisFontSize),\n        };\n        private behavior: IInteractiveBehavior;\n        private animator: IGenericAnimator;\n        private keyArray: string[];\n\n        private _margin: IMargin;\n        private get margin(): IMargin {\n            return this._margin || { left: 0, right: 0, top: 0, bottom: 0 };\n        }\n\n        private set margin(value: IMargin) {\n            this._margin = $.extend({}, value);\n            this._viewportIn = EnhancedScatterChart.substractMargin(this.viewport, this.margin);\n        }\n\n        private _viewport: IViewport;\n        private get viewport(): IViewport {\n            return this._viewport || { width: 0, height: 0 };\n        }\n\n        private set viewport(value: IViewport) {\n            this._viewport = $.extend({}, value);\n            this._viewportIn = EnhancedScatterChart.substractMargin(this.viewport, this.margin);\n        }\n\n        private _viewportIn: IViewport;\n        private get viewportIn(): IViewport {\n            return this._viewportIn || this.viewport;\n        }\n\n        private get legendViewport(): IViewport {\n            return this.legend.getMargins();\n        }\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: 'Category',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Details'),\n                }, {\n                    name: 'Series',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Legend'),\n                }, {\n                    name: 'X',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_X'),\n                }, {\n                    name: 'Y',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Y'),\n                }, {\n                    name: 'Size',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Size'),\n                }, {\n                    name: 'Gradient',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Gradient'),\n                }, {\n                    name: 'ColorFill',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Customized Color',\n                }, {\n                    name: 'Shape',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Shape',\n                }, {\n                    name: 'Image',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Image',\n                }, {\n                    name: 'Rotation',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Rotation',\n                }, {\n                    name: 'Backdrop',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Backdrop',\n                }, {\n                    name: 'X Start',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'X Start',\n                }, {\n                    name: 'X End',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'X End',\n                }, {\n                    name: 'Y Start',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Y Start',\n                }, {\n                    name: 'Y End',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Y End',\n                }\n            ],\n\n            dataViewMappings: [{\n                conditions: [{\n                    'Category': { max: 1 }, 'Series': { max: 1 }, 'X': { max: 1 }, 'Y': { max: 1 },\n                    'Size': { max: 1 }, 'Gradient': { max: 0 }, 'ColorFill': { max: 1 }, 'Shape': { max: 1 },\n                    'Image': { max: 0 }, 'Rotation': { max: 1 }, 'Backdrop': { max: 1 }, 'X Start': { max: 1 },\n                    'X End': { max: 1 }, 'Y Start': { max: 1 }, 'Y End': { max: 1 }\n                }, {\n                        'Category': { max: 1 }, 'Series': { max: 0 }, 'X': { max: 1 }, 'Y': { max: 1 },\n                        'Size': { max: 1 }, 'Gradient': { max: 1 }, 'ColorFill': { max: 1 }, 'Shape': { max: 1 },\n                        'Image': { max: 0 }, 'Rotation': { max: 1 }, 'Backdrop': { max: 1 }, 'X Start': { max: 1 },\n                        'X End': { max: 1 }, 'Y Start': { max: 1 }, 'Y End': { max: 1 }\n                    }, {\n                        'Category': { max: 1 }, 'Series': { max: 1 }, 'X': { max: 1 }, 'Y': { max: 1 },\n                        'Size': { max: 1 }, 'Gradient': { max: 0 }, 'ColorFill': { max: 0 }, 'Shape': { max: 0 },\n                        'Image': { max: 1 }, 'Rotation': { max: 1 }, 'Backdrop': { max: 1 }, 'X Start': { max: 1 },\n                        'X End': { max: 1 }, 'Y Start': { max: 1 }, 'Y End': { max: 1 }\n                    }, {\n                        'Category': { max: 1 }, 'Series': { max: 0 }, 'X': { max: 1 }, 'Y': { max: 1 },\n                        'Size': { max: 1 }, 'Gradient': { max: 1 }, 'ColorFill': { max: 0 }, 'Shape': { max: 0 },\n                        'Image': { max: 1 }, 'Rotation': { max: 1 }, 'Backdrop': { max: 1 }, 'X Start': { max: 1 },\n                        'X End': { max: 1 }, 'Y Start': { max: 1 }, 'Y End': { max: 1 }\n                    }],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { sample: {} }\n                    },\n                    values: {\n                        group: {\n                            by: 'Series',\n                            select: [\n                                { bind: { to: 'X' } },\n                                { bind: { to: 'Y' } },\n                                { bind: { to: 'Size' } },\n                                { bind: { to: 'Gradient' } },\n                                { bind: { to: 'ColorFill' } },\n                                { bind: { to: 'Shape' } },\n                                { bind: { to: 'Image' } },\n                                { bind: { to: 'Rotation' } },\n                                { bind: { to: 'Backdrop' } },\n                                { bind: { to: 'X Start' } },\n                                { bind: { to: 'X End' } },\n                                { bind: { to: 'Y Start' } },\n                                { bind: { to: 'Y End' } },\n                            ],\n                            dataReductionAlgorithm: { top: {} }\n                        }\n                    },\n                    rowCount: { preferred: { min: 2 } }\n                },\n            }],\n\n            objects: {\n                dataPoint: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPoint'),\n                    properties: {\n                        defaultColor: {\n                            displayName: data.createDisplayNameGetter('Visual_DefaultColor'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        showAllDataPoints: {\n                            displayName: data.createDisplayNameGetter('Visual_DataPoint_Show_All'),\n                            type: { bool: true }\n                        },\n                        useShape: {\n                            displayName: data.createDisplayNameGetter('Visual_UseImage'),\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fillRule: {\n                            displayName: data.createDisplayNameGetter('Visual_Gradient'),\n                            type: { fillRule: {} },\n                            rule: {\n                                inputRole: 'Gradient',\n                                output: {\n                                    property: 'fill',\n                                    selector: ['Category'],\n                                },\n                            }\n                        }\n                    }\n                },\n                general: {\n                    displayName: data.createDisplayNameGetter('Visual_General'),\n                    properties: {\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        },\n                    },\n                },\n                categoryAxis: {\n                    displayName: data.createDisplayNameGetter('Visual_XAxis'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        axisScale: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Scale'),\n                            type: { formatting: { axisScale: true } }\n                        },\n                        start: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Start'),\n                            type: { numeric: true }\n                        },\n                        end: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_End'),\n                            type: { numeric: true }\n                        },\n                        showAxisTitle: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Title'),\n                            type: { bool: true }\n                        },\n                        axisStyle: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Style'),\n                            type: { formatting: { axisStyle: true } }\n                        },\n                        axisColor: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        labelDisplayUnits: {\n                            displayName: 'Display Units',\n                            type: { formatting: { labelDisplayUnits: true } },\n                        },\n                    }\n                },\n                valueAxis: {\n                    displayName: data.createDisplayNameGetter('Visual_YAxis'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: data.createDisplayNameGetter('Visual_YAxis_Position'),\n                            type: { formatting: { yAxisPosition: true } }\n                        },\n                        axisScale: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Scale'),\n                            type: { formatting: { axisScale: true } }\n                        },\n                        start: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Start'),\n                            type: { numeric: true }\n                        },\n                        end: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_End'),\n                            type: { numeric: true }\n                        },\n                        showAxisTitle: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Title'),\n                            type: { bool: true }\n                        },\n                        axisStyle: {\n                            displayName: data.createDisplayNameGetter('Visual_Axis_Style'),\n                            type: { formatting: { axisStyle: true } }\n                        },\n                        axisColor: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        labelDisplayUnits: {\n                            displayName: 'Display Units',\n                            type: { formatting: { labelDisplayUnits: true } },\n                        }\n                    }\n                },\n                legend: {\n                    displayName: data.createDisplayNameGetter('Visual_Legend'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendPosition'),\n                            description: data.createDisplayNameGetter('Visual_LegendPositionDescription'),\n                            type: { enumeration: legendPosition.type },\n                        },\n                        showTitle: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendShowTitle'),\n                            description: data.createDisplayNameGetter('Visual_LegendShowTitleDescription'),\n                            type: { bool: true }\n                        },\n                        titleText: {\n                            displayName: 'Legend Name',\n                            description: data.createDisplayNameGetter('Visual_LegendNameDescription'),\n                            type: { text: true }\n                        },\n                        labelColor: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: 'Text Size',\n                            type: { formatting: { fontSize: true } }\n                        }\n                    }\n                },\n                categoryLabels: {\n                    displayName: data.createDisplayNameGetter('Visual_CategoryLabels'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: data.createDisplayNameGetter('Visual_LabelsFill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: 'Text Size',\n                            type: { formatting: { fontSize: true } }\n                        },\n                    },\n                },\n                fillPoint: {\n                    displayName: data.createDisplayNameGetter('Visual_FillPoint'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { bool: true }\n                        },\n                    },\n                },\n                backdrop: {\n                    displayName: 'Backdrop',\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        url: {\n                            displayName: 'Image URL',\n                            type: { text: true }\n                        },\n                    },\n                },\n                crosshair: {\n                    displayName: 'Crosshair',\n                    properties: {\n                        show: {\n                            displayName: 'Crosshair',\n                            type: { bool: true }\n                        },\n                    },\n                },\n                outline: {\n                    displayName: 'Outline',\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Outline'),\n                            type: { bool: true }\n                        }\n                    }\n                }\n            }\n        };\n\n        private static substractMargin(viewport: IViewport, margin: IMargin): IViewport {\n            return {\n                width: Math.max(viewport.width - (margin.left + margin.right), 0),\n                height: Math.max(viewport.height - (margin.top + margin.bottom), 0)\n            };\n        }\n\n        private static getCustomSymbolType(shape: any): (number) => string {\n            let customSymbolTypes = d3.map({\n                \"circle\": (size) => {\n                    let r = Math.sqrt(size / Math.PI);\n                    return \"M0,\" + r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + (-r) + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + r + \"Z\";\n                },\n\n                \"cross\": function (size) {\n                    let r = Math.sqrt(size / 5) / 2;\n                    return \"M\" + -3 * r + \",\" + -r\n                        + \"H\" + -r + \"V\" + -3 * r + \"H\" + r + \"V\" + -r + \"H\" + 3 * r + \"V\" + r + \"H\" + r + \"V\" + 3 * r + \"H\" + -r + \"V\" + r + \"H\" + -3 * r + \"Z\";\n                },\n\n                \"diamond\": (size) => {\n                    let ry = Math.sqrt(size / (2 * Math.tan(Math.PI / 6))),\n                        rx = ry * Math.tan(Math.PI / 6);\n                    return \"M0,\" + -ry\n                        + \"L\" + rx + \",0\"\n                        + \" 0,\" + ry\n                        + \" \" + -rx + \",0\"\n                        + \"Z\";\n                },\n\n                \"square\": (size) => {\n                    let r = Math.sqrt(size) / 2;\n                    return \"M\" + -r + \",\" + -r\n                        + \"L\" + r + \",\" + -r\n                        + \" \" + r + \",\" + r\n                        + \" \" + -r + \",\" + r\n                        + \"Z\";\n                },\n\n                \"triangle-up\": (size) => {\n                    let rx = Math.sqrt(size / Math.sqrt(3)),\n                        ry = rx * Math.sqrt(3) / 2;\n                    return \"M0,\" + -ry\n                        + \"L\" + rx + \",\" + ry\n                        + \" \" + -rx + \",\" + ry\n                        + \"Z\";\n                },\n\n                \"triangle-down\": (size) => {\n                    let rx = Math.sqrt(size / Math.sqrt(3)),\n                        ry = rx * Math.sqrt(3) / 2;\n                    return \"M0,\" + ry\n                        + \"L\" + rx + \",\" + -ry\n                        + \" \" + -rx + \",\" + -ry\n                        + \"Z\";\n                },\n\n                'star': (size) => {\n                    let outerRadius = Math.sqrt(size / 2);\n                    let innerRadius = Math.sqrt(size / 10);\n                    let results = \"\";\n                    let angle = Math.PI / 5;\n                    for (let i = 0; i < 10; i++) {\n                        // Use outer or inner radius depending on what iteration we are in.\n                        let r = (i & 1) === 0 ? outerRadius : innerRadius;\n                        let currX = Math.cos(i * angle) * r;\n                        let currY = Math.sin(i * angle) * r;\n                        // Our first time we simply append the coordinates, subsequet times\n                        // we append a \", \" to distinguish each coordinate pair.\n                        if (i === 0) {\n                            results = \"M\" + currX + \",\" + currY + \"L\";\n                        } else {\n                            results += \" \" + currX + \",\" + currY;\n                        }\n                    }\n                    return results + \"Z\";\n                },\n\n                'hexagon': (size) => {\n                    let r = Math.sqrt(size / (6 * Math.sqrt(3)));\n                    let r2 = Math.sqrt(size / (2 * Math.sqrt(3)));\n\n                    return \"M0,\" + (2 * r) + \"L\" + (-r2) + \",\" + r + \" \" + (-r2) + \",\" + (-r) + \" 0,\" + (-2 * r) + \" \" + r2 + \",\" + (-r) + \" \" + r2 + \",\" + r + \"Z\";\n                },\n\n                'x': (size) => {\n                    let r = Math.sqrt(size / 10);\n                    return \"M0,\" + r + \"L\" + (-r) + \",\" + 2 * r + \" \" + (-2 * r) + \",\" + r + \" \" + (-r) + \",0 \" + (-2 * r) + \",\" + (-r) + \" \" + (-r) + \",\" + (-2 * r) + \" 0,\" + (-r) + \" \" + r + \",\" + (-2 * r) + \" \" + (2 * r) + \",\" + (-r) + \" \" + r + \",0 \" + (2 * r) + \",\" + r + \" \" + r + \",\" + (2 * r) + \"Z\";\n                },\n\n                'uparrow': (size) => {\n                    let r = Math.sqrt(size / 12);\n                    return \"M\" + r + \",\" + (3 * r) + \"L\" + (-r) + \",\" + (3 * r) + \" \" + (-r) + \",\" + (-r) + \" \" + (-2 * r) + \",\" + (-r) + \" 0,\" + (-3 * r) + \" \" + (2 * r) + \",\" + (-r) + \" \" + r + \",\" + (-r) + \"Z\";\n                },\n\n                'downarrow': (size) => {\n                    let r = Math.sqrt(size / 12);\n                    return \"M0,\" + (3 * r) + \"L\" + (-2 * r) + \",\" + r + \" \" + (-r) + \",\" + r + \" \" + (-r) + \",\" + (-3 * r) + \" \" + r + \",\" + (-3 * r) + \" \" + r + \",\" + r + \" \" + (2 * r) + \",\" + r + \"Z\";\n                }\n            });\n\n            let defaultValue = customSymbolTypes.entries()[0].value;\n            if (!shape) {\n                return defaultValue;\n            } else if (isNaN(shape)) {\n                return customSymbolTypes[shape && shape.toString().toLowerCase()] || defaultValue;\n            } else {\n                let result = customSymbolTypes.entries()[Math.floor(shape)];\n                return result ? result.value : defaultValue;\n            }\n        }\n\n        public init(options: VisualInitOptions): void {\n            this.options = options;\n            this.animator = new BaseAnimator();\n            this.behavior = new CartesianChartBehavior([new ScatterChartWebBehavior()]);\n            let element = this.element = options.element;\n            this.viewport = _.clone(options.viewport);\n            this.style = options.style;\n            this.hostServices = options.host;\n            this.colors = this.style.colorPalette.dataColors;\n            this.interactivity = options.interactivity;\n            this.margin = {\n                top: 1,\n                right: 1,\n                bottom: 1,\n                left: 1\n            };\n\n            this.yAxisOrientation = yAxisPosition.left;\n            this.adjustMargins();\n\n            let showLinesOnX = this.scrollY = true;\n\n            let showLinesOnY = this.scrollX = true;\n\n            let svg = this.svg = d3.select(element.get(0))\n                .append('svg')\n                .style('position', 'absolute')\n                .classed(EnhancedScatterChart.ClassName, true);\n\n            let axisGraphicsContext = this.axisGraphicsContext = svg.append('g')\n                .classed(this.AxisGraphicsContextClassName, true);\n\n            this.svgScrollable = svg.append('svg')\n                .classed('svgScrollable', true)\n                .style('overflow', 'hidden');\n\n            let axisGraphicsContextScrollable = this.axisGraphicsContextScrollable = this.svgScrollable.append('g')\n                .classed(this.AxisGraphicsContextClassName, true);\n\n            this.clearCatcher = appendClearCatcher(this.axisGraphicsContextScrollable);\n            let axisGroup = showLinesOnX ? axisGraphicsContextScrollable : axisGraphicsContext;\n\n            this.backgroundGraphicsContext = axisGraphicsContext.append('svg:image');\n            this.xAxisGraphicsContext = showLinesOnX ? axisGraphicsContext.append('g').attr('class', 'x axis') : axisGraphicsContextScrollable.append('g').attr('class', 'x axis');\n            this.y1AxisGraphicsContext = axisGroup.append('g').attr('class', 'y axis');\n\n            this.xAxisGraphicsContext.classed('showLinesOnAxis', showLinesOnX);\n            this.y1AxisGraphicsContext.classed('showLinesOnAxis', showLinesOnY);\n\n            this.xAxisGraphicsContext.classed('hideLinesOnAxis', !showLinesOnX);\n            this.y1AxisGraphicsContext.classed('hideLinesOnAxis', !showLinesOnY);\n            this.interactivityService = createInteractivityService(this.hostServices);\n\n            this.legend = createLegend(element, this.interactivity && this.interactivity.isInteractiveLegend, this.interactivityService, true);\n\n            this.mainGraphicsG = this.axisGraphicsContextScrollable.append('g')\n                .classed(EnhancedScatterChart.MainGraphicsContextClassName, true);\n\n            this.mainGraphicsContext = this.mainGraphicsG.append('svg');\n            this.svgDefaultImage = \"http://svg-edit.googlecode.com/svn-history/r1771/trunk/clipart/sun.svg\";\n            this.keyArray = [];\n        }\n\n        private adjustMargins(): void {\n            // Adjust margins if ticks are not going to be shown on either axis\n            let xAxis = this.element.find('.x.axis');\n\n            if (AxisHelper.getRecommendedNumberOfTicksForXAxis(this.viewportIn.width) === 0\n                && AxisHelper.getRecommendedNumberOfTicksForYAxis(this.viewportIn.height) === 0) {\n                this.margin = {\n                    top: 0,\n                    right: 0,\n                    bottom: 0,\n                    left: 0\n                };\n                xAxis.hide();\n            } else {\n                xAxis.show();\n            }\n        }\n\n        private getValueAxisProperties(dataViewMetadata: DataViewMetadata, axisTitleOnByDefault?: boolean): DataViewObject {\n            let toReturn: DataViewObject = {};\n            if (!dataViewMetadata)\n                return toReturn;\n\n            let objects = dataViewMetadata.objects;\n\n            if (objects) {\n                let valueAxisObject = objects['valueAxis'];\n                if (valueAxisObject) {\n                    toReturn = {\n                        show: valueAxisObject['show'],\n                        position: valueAxisObject['position'],\n                        axisScale: valueAxisObject['axisScale'],\n                        start: valueAxisObject['start'],\n                        end: valueAxisObject['end'],\n                        showAxisTitle: valueAxisObject['showAxisTitle'] == null ? axisTitleOnByDefault : valueAxisObject['showAxisTitle'],\n                        axisStyle: valueAxisObject['axisStyle'],\n                        axisColor: valueAxisObject['axisColor'],\n                        secShow: valueAxisObject['secShow'],\n                        secPosition: valueAxisObject['secPosition'],\n                        secAxisScale: valueAxisObject['secAxisScale'],\n                        secStart: valueAxisObject['secStart'],\n                        secEnd: valueAxisObject['secEnd'],\n                        secShowAxisTitle: valueAxisObject['secShowAxisTitle'],\n                        secAxisStyle: valueAxisObject['secAxisStyle'],\n                        labelDisplayUnits: valueAxisObject['labelDisplayUnits'],\n                    };\n                }\n            }\n            return toReturn;\n        }\n\n        private getCategoryAxisProperties(dataViewMetadata: DataViewMetadata, axisTitleOnByDefault?: boolean): DataViewObject {\n            let toReturn: DataViewObject = {};\n            if (!dataViewMetadata)\n                return toReturn;\n\n            let objects = dataViewMetadata.objects;\n\n            if (objects) {\n                let categoryAxisObject = objects['categoryAxis'];\n\n                if (categoryAxisObject) {\n                    toReturn = {\n                        show: categoryAxisObject['show'],\n                        axisType: categoryAxisObject['axisType'],\n                        axisScale: categoryAxisObject['axisScale'],\n                        axisColor: categoryAxisObject['axisColor'],\n                        start: categoryAxisObject['start'],\n                        end: categoryAxisObject['end'],\n                        showAxisTitle: categoryAxisObject['showAxisTitle'] == null ? axisTitleOnByDefault : categoryAxisObject['showAxisTitle'],\n                        axisStyle: categoryAxisObject['axisStyle'],\n                        labelDisplayUnits: categoryAxisObject['labelDisplayUnits']\n                    };\n                }\n            }\n            return toReturn;\n        }\n\n        public static converter(dataView: DataView, currentViewport: IViewport, colorPalette: IDataColorPalette, interactivityService?: IInteractivityService, categoryAxisProperties?: DataViewObject, valueAxisProperties?: DataViewObject): EnhancedScatterChartData {\n            let categoryValues: any[],\n                categoryFormatter: IValueFormatter,\n                categoryObjects: DataViewObjects[],\n                categoryIdentities: DataViewScopeIdentity[],\n                categoryQueryName: string;\n\n            let dataViewCategorical: DataViewCategorical = dataView.categorical;\n            let dataViewMetadata: DataViewMetadata = dataView.metadata;\n\n            if (dataViewCategorical.categories && dataViewCategorical.categories.length > 0) {\n                categoryValues = dataViewCategorical.categories[0].values;\n                categoryFormatter = valueFormatter.create({ format: valueFormatter.getFormatString(dataViewCategorical.categories[0].source, scatterChartProps.general.formatString), value: categoryValues[0], value2: categoryValues[categoryValues.length - 1] });\n                categoryIdentities = dataViewCategorical.categories[0].identity;\n                categoryObjects = dataViewCategorical.categories[0].objects;\n                categoryQueryName = dataViewCategorical.categories[0].source.queryName;\n            }\n            else {\n                categoryValues = [null];\n                // creating default formatter for null value (to get the right string of empty value from the locale)\n                categoryFormatter = valueFormatter.createDefaultFormatter(null);\n            }\n            let categories = dataViewCategorical.categories;\n            let dataValues = dataViewCategorical.values;\n            let hasDynamicSeries = !!dataValues.source;\n            let grouped = dataValues.grouped();\n            let useShape = (!!(DataRoleHelper.getMeasureIndexOfRole(grouped, 'Image') >= 0)) ? false : true;\n            let useCustomColor = (!!(DataRoleHelper.getMeasureIndexOfRole(grouped, 'ColorFill') >= 0)) ? true : false;\n            let dvSource = dataValues.source;\n            let scatterMetadata = EnhancedScatterChart.getMetadata(grouped, dvSource);\n            let dataLabelsSettings = dataLabelUtils.getDefaultPointLabelSettings();\n            let fillPoint = false;\n            let backdrop = { show: false, url: \"\" };\n            let crosshair = false;\n            let outline = false;\n            let defaultDataPointColor = \"\";\n            let showAllDataPoints = true;\n\n            if (dataViewMetadata && dataViewMetadata.objects) {\n                let objects = dataViewMetadata.objects;\n\n                defaultDataPointColor = DataViewObjects.getFillColor(objects, columnChartProps.dataPoint.defaultColor);\n                showAllDataPoints = DataViewObjects.getValue<boolean>(objects, columnChartProps.dataPoint.showAllDataPoints);\n                /*if(objects['dataPoint']){\n                    let shapeObj = objects['dataPoint'];\n                    if(shapeObj['useShape']){\n                        shape = <boolean>shapeObj['useShape'];\n                    }\n                }*/\n\n                let labelsObj = objects['categoryLabels'];\n                if (labelsObj) {\n                    dataLabelsSettings.show = (labelsObj['show'] !== undefined) ? <boolean>labelsObj['show'] : dataLabelsSettings.show;\n                    dataLabelsSettings.fontSize = (labelsObj['fontSize'] !== undefined) ? <number>labelsObj['fontSize'] : dataLabelsSettings.fontSize;\n                    if (labelsObj['color'] !== undefined) {\n                        dataLabelsSettings.labelColor = (<Fill>labelsObj['color']).solid.color;\n                    }\n                }\n\n                fillPoint = DataViewObjects.getValue<boolean>(objects, scatterChartProps.fillPoint.show, fillPoint);\n\n                let backdropObject = objects['backdrop'];\n                if (backdropObject !== undefined) {\n                    backdrop.show = <boolean>backdropObject['show'];\n                    if (backdrop.show) {\n                        backdrop.url = <string>backdropObject['url'];\n                    }\n                }\n                let crosshairObject = objects['crosshair'];\n                if (crosshairObject !== undefined) {\n                    crosshair = <boolean>crosshairObject['show'];\n                }\n                let outlineObject = objects['outline'];\n                if (outlineObject !== undefined) {\n                    outline = <boolean>outlineObject['show'];\n                }\n            }\n\n            let dataPoints = EnhancedScatterChart.createDataPoints(\n                dataValues,\n                scatterMetadata,\n                categories,\n                categoryValues,\n                categoryFormatter,\n                categoryIdentities,\n                categoryObjects,\n                colorPalette,\n                hasDynamicSeries,\n                dataLabelsSettings,\n                defaultDataPointColor,\n                categoryQueryName);\n\n            if (interactivityService) {\n                interactivityService.applySelectionStateToData(dataPoints);\n            }\n\n            let legendItems = hasDynamicSeries\n                ? EnhancedScatterChart.createSeriesLegend(dataValues, colorPalette, dataValues, valueFormatter.getFormatString(dvSource, scatterChartProps.general.formatString), defaultDataPointColor)\n                : [];\n\n            let legendTitle = dataValues && dvSource ? dvSource.displayName : \"\";\n            if (!legendTitle) {\n                legendTitle = categories && categories[0].source.displayName ? categories[0].source.displayName : \"\";\n            }\n\n            let legendData = { title: legendTitle, dataPoints: legendItems };\n\n            let sizeRange = EnhancedScatterChart.getSizeRangeForGroups(grouped, scatterMetadata.idx.size);\n\n            if (categoryAxisProperties && categoryAxisProperties[\"showAxisTitle\"] !== null && categoryAxisProperties[\"showAxisTitle\"] === false) {\n                scatterMetadata.axesLabels.x = null;\n            }\n            if (valueAxisProperties && valueAxisProperties[\"showAxisTitle\"] !== null && valueAxisProperties[\"showAxisTitle\"] === false) {\n                scatterMetadata.axesLabels.y = null;\n            }\n\n            if (dataPoints && dataPoints[0]) {\n                let point = dataPoints[0];\n                if (point.backdrop != null) {\n                    backdrop.show = true;\n                    backdrop.url = point.backdrop;\n                }\n                if (point.xStart != null) {\n                    categoryAxisProperties['start'] = point.xStart;\n                }\n                if (point.xEnd != null) {\n                    categoryAxisProperties['end'] = point.xEnd;\n                }\n                if (point.yStart != null) {\n                    valueAxisProperties['start'] = point.yStart;\n                }\n                if (point.yEnd != null) {\n                    valueAxisProperties['end'] = point.yEnd;\n                }\n            }\n\n            return {\n                xCol: scatterMetadata.cols.x,\n                yCol: scatterMetadata.cols.y,\n                dataPoints: dataPoints,\n                legendData: legendData,\n                axesLabels: scatterMetadata.axesLabels,\n                selectedIds: [],\n                size: scatterMetadata.cols.size,\n                sizeRange: sizeRange,\n                dataLabelsSettings: dataLabelsSettings,\n                defaultDataPointColor: defaultDataPointColor,\n                hasDynamicSeries: hasDynamicSeries,\n                showAllDataPoints: showAllDataPoints,\n                fillPoint: fillPoint,\n                useShape: useShape,\n                useCustomColor: useCustomColor,\n                backdrop: backdrop,\n                crosshair: crosshair,\n                outline: outline\n            };\n        }\n\n        private static createSeriesLegend(\n            dataValues: DataViewValueColumns,\n            colorPalette: IDataColorPalette,\n            categorical: DataViewValueColumns,\n            formatString: string,\n            defaultDataPointColor: string): LegendDataPoint[] {\n\n            let grouped = dataValues.grouped();\n            let colorHelper = new ColorHelper(colorPalette, scatterChartProps.dataPoint.fill, defaultDataPointColor);\n\n            let legendItems: LegendDataPoint[] = [];\n            for (let i = 0, len = grouped.length; i < len; i++) {\n                let grouping = grouped[i];\n                let color = colorHelper.getColorForSeriesValue(grouping.objects, dataValues.identityFields, grouping.name);\n\n                legendItems.push({\n                    color: color,\n                    icon: LegendIcon.Circle,\n                    label: valueFormatter.format(grouping.name, formatString),\n                    identity: grouping.identity ? SelectionId.createWithId(grouping.identity) : SelectionId.createNull(),\n                    selected: false,\n                });\n            }\n\n            return legendItems;\n        }\n\n        private static getSizeRangeForGroups(\n            dataViewValueGroups: DataViewValueColumnGroup[],\n            sizeColumnIndex: number): NumberRange {\n\n            let result: NumberRange = {};\n            if (dataViewValueGroups) {\n                dataViewValueGroups.forEach((group) => {\n                    let sizeColumn = ScatterChart.getMeasureValue(sizeColumnIndex, group.values);\n                    let currentRange: NumberRange = AxisHelper.getRangeForColumn(sizeColumn);\n                    if (result.min == null || result.min > currentRange.min) {\n                        result.min = currentRange.min;\n                    }\n                    if (result.max == null || result.max < currentRange.max) {\n                        result.max = currentRange.max;\n                    }\n                });\n            }\n            return result;\n        }\n\n        private static getMetadata(grouped: DataViewValueColumnGroup[], source: DataViewMetadataColumn): ScatterChartMeasureMetadata {\n            let xIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'X');\n            let yIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Y');\n            let sizeIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Size');\n\n            let gradientIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Gradient');\n            let colorFillIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'ColorFill');\n            let shapeIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Shape');\n            let imageIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Image');\n            let rotationIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Rotation');\n            let backdropIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Backdrop');\n            let xStartIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'X Start');\n            let xEndIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'X End');\n            let yStartIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Y Start');\n            let yEndIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, 'Y End');\n            let xCol: DataViewMetadataColumn;\n            let yCol: DataViewMetadataColumn;\n            let sizeCol: DataViewMetadataColumn;\n            let colorFillCol: DataViewMetadataColumn;\n            let shapeCol: DataViewMetadataColumn;\n            let imageCol: DataViewMetadataColumn;\n            let rotationCol: DataViewMetadataColumn;\n            let backdropCol: DataViewMetadataColumn;\n            let xStartCol: DataViewMetadataColumn;\n            let xEndCol: DataViewMetadataColumn;\n            let yStartCol: DataViewMetadataColumn;\n            let yEndCol: DataViewMetadataColumn;\n            let xAxisLabel = \"\";\n            let yAxisLabel = \"\";\n\n            if (grouped && grouped.length) {\n                let firstGroup = grouped[0],\n                    measureCount = firstGroup.values.length;\n\n                if (!(xIndex >= 0))\n                    xIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [yIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, rotationIndex, backdropIndex, xStartIndex, xEndIndex, yStartIndex, yEndIndex]);\n                if (!(yIndex >= 0))\n                    yIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, rotationIndex, backdropIndex, xStartIndex, xEndIndex, yStartIndex, yEndIndex]);\n                if (!(sizeIndex >= 0))\n                    sizeIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, rotationIndex, backdropIndex, xStartIndex, xEndIndex, yStartIndex, yEndIndex]);\n                if (!(colorFillIndex >= 0))\n                    colorFillIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, shapeIndex, imageIndex, rotationIndex, backdropIndex, xStartIndex, xEndIndex, yStartIndex, yEndIndex]);\n                if (!(shapeIndex >= 0))\n                    shapeIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, colorFillIndex, imageIndex, rotationIndex, backdropIndex, xStartIndex, xEndIndex, yStartIndex, yEndIndex]);\n                if (!(imageIndex >= 0)) {\n                    imageIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, rotationIndex, backdropIndex, xStartIndex, xEndIndex, yStartIndex, yEndIndex]);\n                }\n                if (!(rotationIndex >= 0))\n                    rotationIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, backdropIndex, xStartIndex, xEndIndex, yStartIndex, yEndIndex]);\n                if (!(backdropIndex >= 0))\n                    backdropIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, rotationIndex, xStartIndex, xEndIndex, yStartIndex, yEndIndex]);\n                if (!(xStartIndex >= 0))\n                    xStartIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, rotationIndex, backdropIndex, xEndIndex, yStartIndex, yEndIndex]);\n                if (!(xEndIndex >= 0))\n                    xEndIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, rotationIndex, backdropIndex, xStartIndex, yStartIndex, yEndIndex]);\n                if (!(yStartIndex >= 0))\n                    yStartIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, rotationIndex, backdropIndex, xStartIndex, xEndIndex, yEndIndex]);\n                if (!(yEndIndex >= 0))\n                    yEndIndex = EnhancedScatterChart.getDefaultMeasureIndex(measureCount, [xIndex, yIndex, sizeIndex, gradientIndex, colorFillIndex, shapeIndex, imageIndex, rotationIndex, backdropIndex, xStartIndex, xEndIndex, yStartIndex]);\n\n                if (xIndex >= 0) {\n                    xCol = firstGroup.values[xIndex].source;\n                    xAxisLabel = firstGroup.values[xIndex].source.displayName;\n                }\n                if (yIndex >= 0) {\n                    yCol = firstGroup.values[yIndex].source;\n                    yAxisLabel = firstGroup.values[yIndex].source.displayName;\n                }\n                if (sizeIndex >= 0) {\n                    sizeCol = firstGroup.values[sizeIndex].source;\n                }\n                if (colorFillIndex >= 0) {\n                    colorFillCol = firstGroup.values[colorFillIndex].source;\n                }\n                if (shapeIndex >= 0) {\n                    shapeCol = firstGroup.values[shapeIndex].source;\n                }\n                if (imageIndex >= 0) {\n                    imageCol = firstGroup.values[imageIndex].source;\n                }\n                if (rotationIndex >= 0) {\n                    rotationCol = firstGroup.values[rotationIndex].source;\n                }\n\n                if (backdropIndex >= 0) {\n                    backdropCol = firstGroup.values[backdropIndex].source;\n                }\n                if (xStartIndex >= 0) {\n                    xStartCol = firstGroup.values[xStartIndex].source;\n                }\n                if (xEndIndex >= 0) {\n                    xEndCol = firstGroup.values[xEndIndex].source;\n                }\n                if (yStartIndex >= 0) {\n                    yStartCol = firstGroup.values[yStartIndex].source;\n                }\n                if (yEndIndex >= 0) {\n                    yEndCol = firstGroup.values[yEndIndex].source;\n                }\n            }\n\n            return {\n                idx: {\n                    x: xIndex,\n                    y: yIndex,\n                    size: sizeIndex,\n                    colorFill: colorFillIndex,\n                    shape: shapeIndex,\n                    image: imageIndex,\n                    rotation: rotationIndex,\n                    backdrop: backdropIndex,\n                    xStart: xStartIndex,\n                    xEnd: xEndIndex,\n                    yStart: yStartIndex,\n                    yEnd: yEndIndex,\n                },\n                cols: {\n                    x: xCol,\n                    y: yCol,\n                    size: sizeCol,\n                    colorFill: colorFillCol,\n                    shape: shapeCol,\n                    image: imageCol,\n                    rotation: rotationCol,\n                    backdrop: backdropCol,\n                    xStart: xStartCol,\n                    xEnd: xEndCol,\n                    yStart: yStartCol,\n                    yEnd: yEndCol,\n                },\n                axesLabels: {\n                    x: xAxisLabel,\n                    y: yAxisLabel\n                }\n            };\n        }\n\n        private static getDefaultMeasureIndex(count: number, usedIndexes: number[]): number {\n            for (let i = 0; i < count; i++) {\n                let found = true;\n                for (let j = 0; j < usedIndexes.length; j++) {\n                    if (i === usedIndexes[j]) {\n                        found = false;\n                        break;\n                    }\n                }\n                if (found === true) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n\n        public static createLazyFormattedCategory(formatter: IValueFormatter, value: string): jsCommon.Lazy<string> {\n            return new jsCommon.Lazy(() => formatter.format(value));\n        }\n\n        private static createDataPoints(\n            dataValues: DataViewValueColumns,\n            metadata: ScatterChartMeasureMetadata,\n            categories: DataViewCategoryColumn[],\n            categoryValues: any[],\n            categoryFormatter: IValueFormatter,\n            categoryIdentities: DataViewScopeIdentity[],\n            categoryObjects: DataViewObjects[],\n            colorPalette: IDataColorPalette,\n            hasDynamicSeries: boolean,\n            labelSettings: PointDataLabelsSettings,\n            defaultDataPointColor?: string,\n            categoryQueryName?: string): EnhancedScatterChartDataPoint[] {\n\n            let dataPoints: EnhancedScatterChartDataPoint[] = [],\n                indicies = metadata.idx,\n                formatStringProp = scatterChartProps.general.formatString,\n                dataValueSource = dataValues.source,\n                grouped = dataValues.grouped();\n\n            let colorHelper = new ColorHelper(colorPalette, scatterChartProps.dataPoint.fill, defaultDataPointColor);\n\n            for (let categoryIdx = 0, ilen = categoryValues.length; categoryIdx < ilen; categoryIdx++) {\n                let categoryValue = categoryValues[categoryIdx];\n\n                for (let seriesIdx = 0, len = grouped.length; seriesIdx < len; seriesIdx++) {\n                    let grouping = grouped[seriesIdx];\n                    let seriesValues = grouping.values;\n                    let measureX = ScatterChart.getMeasureValue(indicies.x, seriesValues);\n                    let measureY = ScatterChart.getMeasureValue(indicies.y, seriesValues);\n                    let measureSize = ScatterChart.getMeasureValue(indicies.size, seriesValues);\n                    let measureColorFill = ScatterChart.getMeasureValue(indicies.colorFill, seriesValues);\n                    let measureShape = ScatterChart.getMeasureValue(indicies.shape, seriesValues);\n                    let measureImage = ScatterChart.getMeasureValue(indicies.image, seriesValues);\n                    let measureRotation = ScatterChart.getMeasureValue(indicies.rotation, seriesValues);\n                    let measureBackdrop = ScatterChart.getMeasureValue(indicies.backdrop, seriesValues);\n                    let measureXStart = ScatterChart.getMeasureValue(indicies.xStart, seriesValues);\n                    let measureXEnd = ScatterChart.getMeasureValue(indicies.xEnd, seriesValues);\n                    let measureYStart = ScatterChart.getMeasureValue(indicies.yStart, seriesValues);\n                    let measureYEnd = ScatterChart.getMeasureValue(indicies.yEnd, seriesValues);\n\n                    let xVal = measureX && measureX.values && !isNaN(measureX.values[categoryIdx]) ? measureX.values[categoryIdx] : null;\n                    let yVal = measureY && measureY.values && !isNaN(measureY.values[categoryIdx]) ? measureY.values[categoryIdx] : 0;\n                    let size = measureSize && measureSize.values ? measureSize.values[categoryIdx] : null;\n                    let colorFill = measureColorFill && measureColorFill.values ? measureColorFill.values[categoryIdx] : null;\n                    let shapeSymbolType = EnhancedScatterChart.getCustomSymbolType(measureShape && measureShape.values && measureShape.values[categoryIdx]);\n                    let image = measureImage && measureImage.values ? measureImage.values[categoryIdx] : null;\n                    let rotation = measureRotation && measureRotation.values ? measureRotation.values[categoryIdx] : 0;\n                    let backdrop = measureBackdrop && measureBackdrop.values ? measureBackdrop.values[categoryIdx] : null;\n                    let xStart = measureXStart && measureXStart.values ? measureXStart.values[categoryIdx] : null;\n                    let xEnd = measureXEnd && measureXEnd.values ? measureXEnd.values[categoryIdx] : null;\n                    let yStart = measureYStart && measureYStart.values ? measureYStart.values[categoryIdx] : null;\n                    let yEnd = measureYEnd && measureYEnd.values ? measureYEnd.values[categoryIdx] : null;\n\n                    let hasNullValue = (xVal == null) || (yVal == null);\n\n                    if (hasNullValue)\n                        continue;\n\n                    let color: string;\n                    if (hasDynamicSeries) {\n                        color = colorHelper.getColorForSeriesValue(grouping.objects, dataValues.identityFields, grouping.name);\n                    } else {\n                        // If we have no Size measure then use a blank query name\n                        let measureSource = (measureSize != null)\n                            ? measureSize.source.queryName\n                            : '';\n                        color = colorHelper.getColorForMeasure(categoryObjects && categoryObjects[categoryIdx], measureSource);\n                    }\n\n                    let category = categories && categories.length > 0 ? categories[0] : null;\n                    let identity = SelectionIdBuilder.builder()\n                        .withCategory(category, categoryIdx)\n                        .withSeries(dataValues, grouping)\n                        .createSelectionId();\n\n                    let seriesData: TooltipSeriesDataItem[] = [];\n                    if (dataValueSource) {\n                        // Dynamic series\n                        seriesData.push({ value: grouping.name, metadata: { source: dataValueSource, values: [] } });\n                    }\n                    if (measureX) {\n                        seriesData.push({ value: xVal, metadata: measureX });\n                    }\n                    if (measureY) {\n                        seriesData.push({ value: yVal, metadata: measureY });\n                    }\n                    if (measureSize && measureSize.values && measureSize.values.length > 0) {\n                        seriesData.push({ value: measureSize.values[categoryIdx], metadata: measureSize });\n                    }\n                    if (measureColorFill && measureColorFill.values && measureColorFill.values.length > 0) {\n                        seriesData.push({ value: measureColorFill.values[categoryIdx], metadata: measureColorFill });\n                    }\n                    if (measureShape && measureShape.values && measureShape.values.length > 0) {\n                        seriesData.push({ value: measureShape.values[categoryIdx], metadata: measureShape });\n                    }\n                    if (measureImage && measureImage.values && measureImage.values.length > 0) {\n                        seriesData.push({ value: measureImage.values[categoryIdx], metadata: measureImage });\n                    }\n                    if (measureRotation && measureRotation.values && measureRotation.values.length > 0) {\n                        seriesData.push({ value: measureRotation.values[categoryIdx], metadata: measureRotation });\n                    }\n\n                    if (measureBackdrop && measureBackdrop.values && measureBackdrop.values.length > 0) {\n                        seriesData.push({ value: measureBackdrop.values[categoryIdx], metadata: measureBackdrop });\n                    }\n                    if (measureXStart && measureXStart.values && measureXStart.values.length > 0) {\n                        seriesData.push({ value: measureXStart.values[categoryIdx], metadata: measureXStart });\n                    }\n                    if (measureXEnd && measureXEnd.values && measureXEnd.values.length > 0) {\n                        seriesData.push({ value: measureXEnd.values[categoryIdx], metadata: measureXEnd });\n                    }\n                    if (measureYStart && measureYStart.values && measureYStart.values.length > 0) {\n                        seriesData.push({ value: measureYStart.values[categoryIdx], metadata: measureYStart });\n                    }\n                    if (measureYEnd && measureYEnd.values && measureYEnd.values.length > 0) {\n                        seriesData.push({ value: measureYEnd.values[categoryIdx], metadata: measureYEnd });\n                    }\n\n                    let tooltipInfo: TooltipDataItem[] = TooltipBuilder.createTooltipInfo(formatStringProp, null, categoryValue, null, categories, seriesData);\n\n                    let dataPoint: EnhancedScatterChartDataPoint = {\n                        x: xVal,\n                        y: yVal,\n                        size: size,\n                        radius: { sizeMeasure: measureSize, index: categoryIdx },\n                        fill: color,\n                        formattedCategory: this.createLazyFormattedCategory(categoryFormatter, categoryValue),\n                        selected: false,\n                        identity: identity,\n                        tooltipInfo: tooltipInfo,\n                        labelFill: labelSettings.labelColor,\n                        labelFontSize: labelSettings.fontSize,\n                        colorFill: colorFill,\n                        shapeSymbolType: shapeSymbolType,\n                        svgurl: image,\n                        rotation: rotation,\n                        backdrop: backdrop,\n                        xStart: xStart,\n                        xEnd: xEnd,\n                        yStart: yStart,\n                        yEnd: yEnd\n                    };\n\n                    dataPoints.push(dataPoint);\n                }\n            }\n            return dataPoints;\n        }\n\n        public setData(dataViews: DataView[]) {\n            this.data = {\n                xCol: undefined,\n                yCol: undefined,\n                dataPoints: [],\n                legendData: { dataPoints: [] },\n                axesLabels: { x: '', y: '' },\n                selectedIds: [],\n                sizeRange: [],\n                dataLabelsSettings: dataLabelUtils.getDefaultPointLabelSettings(),\n                defaultDataPointColor: null,\n                hasDynamicSeries: false,\n                useShape: true,\n                useCustomColor: false,\n            };\n\n            if (dataViews.length > 0) {\n                let dataView = dataViews[0];\n\n                if (dataView) {\n                    this.categoryAxisProperties = this.getCategoryAxisProperties(dataView.metadata, true);\n                    this.valueAxisProperties = this.getValueAxisProperties(dataView.metadata, true);\n                    this.dataView = dataView;\n\n                    if (dataView.categorical && dataView.categorical.values) {\n                        this.data = EnhancedScatterChart.converter(dataView, this.viewport, this.colors, this.interactivityService, this.categoryAxisProperties, this.valueAxisProperties);\n                    }\n\n                }\n            }\n        }\n\n        public update(options: VisualUpdateOptions) {\n\n            debug.assertValue(options, 'options');\n\n            let dataViews = this.dataViews = options.dataViews;\n            this.viewport = _.clone(options.viewport);\n\n            if (!dataViews) return;\n\n            if (dataViews && dataViews.length > 0) {\n                let warnings = getInvalidValueWarnings(\n                    dataViews,\n                    false /*supportsNaN*/,\n                    false /*supportsNegativeInfinity*/,\n                    false /*supportsPositiveInfinity*/);\n\n                if (warnings && warnings.length > 0)\n                    this.hostServices.setWarnings(warnings);\n\n                this.populateObjectProperties(dataViews);\n            }\n\n            this.setData(dataViews);\n            \n            // Note: interactive legend shouldn't be rendered explicitly here\n            // The interactive legend is being rendered in the render method of ICartesianVisual\n            if (!(this.options.interactivity && this.options.interactivity.isInteractiveLegend)) {\n                this.renderLegend();\n            }\n\n            this.render(options.suppressAnimations);\n\n        }\n\n        private populateObjectProperties(dataViews: DataView[]) {\n            if (dataViews && dataViews.length > 0) {\n                let dataViewMetadata = dataViews[0].metadata;\n\n                if (dataViewMetadata) {\n                    this.legendObjectProperties = DataViewObjects.getObject(dataViewMetadata.objects, 'legend', {});\n                }\n                else {\n                    this.legendObjectProperties = {};\n                }\n                this.categoryAxisProperties = this.getCategoryAxisProperties(dataViewMetadata);\n                this.valueAxisProperties = this.getValueAxisProperties(dataViewMetadata);\n                let axisPosition = this.valueAxisProperties['position'];\n                this.yAxisOrientation = axisPosition ? axisPosition.toString() : yAxisPosition.left;\n            }\n        }\n\n        private renderLegend(): void {\n            let legendData: LegendData = { title: \"\", dataPoints: [] };\n            let legend: ILegend = this.legend;\n\n            this.layerLegendData = this.data.legendData;\n            if (this.layerLegendData) {\n                legendData.title = this.layerLegendData.title || \"\";\n                legendData.dataPoints = legendData.dataPoints.concat(this.layerLegendData.dataPoints || []);\n                legendData.fontSize = this.legendLabelFontSize ? this.legendLabelFontSize : EnhancedScatterChart.LegendLabelFontSizeDefault;\n                if (this.layerLegendData.grouped) {\n                    legendData.grouped = true;\n                }\n            }\n\n            let legendProperties = this.legendObjectProperties;\n\n            if (legendProperties) {\n                LegendData.update(legendData, legendProperties);\n                let position = <string>legendProperties[legendProps.position];\n\n                if (position)\n                    legend.changeOrientation(LegendPosition[position]);\n            }\n            else {\n                legend.changeOrientation(LegendPosition.Top);\n            }\n\n            if ((legendData.dataPoints.length === 1 && !legendData.grouped) || this.hideLegends()) {\n                legendData.dataPoints = [];\n            }\n\n            let viewport = this.viewport;\n            legend.drawLegend(legendData, { height: viewport.height, width: viewport.width });\n            Legend.positionChartArea(this.svg, legend);\n        }\n        private hideLegends(): boolean {\n            if (this.cartesianSmallViewPortProperties) {\n                if (this.cartesianSmallViewPortProperties.hideLegendOnSmallViewPort && (this.viewport.height < this.cartesianSmallViewPortProperties.MinHeightLegendVisible)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        private shouldRenderAxis(axisProperties: IAxisProperties, propertyName: string = \"show\"): boolean {\n            if (!axisProperties) {\n                return false;\n            }\n            else if (axisProperties.isCategoryAxis && (!this.categoryAxisProperties || this.categoryAxisProperties[propertyName] == null || this.categoryAxisProperties[propertyName])) {\n                return axisProperties.values && axisProperties.values.length > 0;\n            }\n            else if (!axisProperties.isCategoryAxis && (!this.valueAxisProperties || this.valueAxisProperties[propertyName] == null || this.valueAxisProperties[propertyName])) {\n                return axisProperties.values && axisProperties.values.length > 0;\n            }\n\n            return false;\n        }\n\n        private getMaxMarginFactor(): number {\n            return this.options.style.maxMarginFactor || 0.25;\n        }\n\n        private adjustViewportbyBackdrop(): void {\n            let img = new Image();\n            let that = this;\n            img.src = this.data.backdrop.url;\n            img.onload = function () {\n                if (that.oldBackdrop !== this.src) {\n                    that.render(true);\n                    that.oldBackdrop = this.src;\n                }\n            };\n\n            if (img.width > 0 && img.height > 0) {\n                if (img.width * this.viewportIn.height < this.viewportIn.width * img.height) {\n                    let deltaWidth = this.viewportIn.width - this.viewportIn.height * img.width / img.height;\n                    this.viewport = { width: this.viewport.width - deltaWidth, height: this.viewport.height };\n                } else {\n                    let deltaHeight = this.viewportIn.height - this.viewportIn.width * img.height / img.width;\n                    this.viewport = { width: this.viewport.width, height: this.viewport.height - deltaHeight };\n                }\n            }\n        }\n\n        public render(suppressAnimations: boolean): void {\n            this.viewport.height -= this.legendViewport.height;\n            this.viewport.width -= this.legendViewport.width;\n\n            if (this.viewportIn.width === 0 || this.viewportIn.height === 0) {\n                return;\n            }\n\n            let maxMarginFactor = this.getMaxMarginFactor();\n            this.leftRightMarginLimit = this.viewport.width * maxMarginFactor;\n            let bottomMarginLimit = this.bottomMarginLimit = Math.max(25, Math.ceil(this.viewport.height * maxMarginFactor));\n\n            // reset defaults\n            this.margin.top = 8;\n            this.margin.bottom = bottomMarginLimit;\n            this.margin.right = 0;\n\n            this.calculateAxes(this.categoryAxisProperties, this.valueAxisProperties, this.textProperties, true);\n\n            this.yAxisIsCategorical = this.yAxisProperties.isCategoryAxis;\n            this.hasCategoryAxis = this.yAxisIsCategorical ? this.yAxisProperties && this.yAxisProperties.values.length > 0 : this.xAxisProperties && this.xAxisProperties.values.length > 0;\n\n            let renderXAxis = this.shouldRenderAxis(this.xAxisProperties);\n            let renderY1Axis = this.shouldRenderAxis(this.yAxisProperties);\n\n            let mainAxisScale;\n            this.isXScrollBarVisible = false;\n            this.isYScrollBarVisible = false;\n            let tickLabelMargins;\n            let axisLabels: ChartAxesLabels;\n            let chartHasAxisLabels: boolean;\n\n            let yAxisOrientation = this.yAxisOrientation;\n            let showY1OnRight = yAxisOrientation === yAxisPosition.right;\n\n            this.calculateAxes(this.categoryAxisProperties, this.valueAxisProperties, this.textProperties, true);\n\n            let doneWithMargins = false,\n                maxIterations = 2,\n                numIterations = 0;\n\n            while (!doneWithMargins && numIterations < maxIterations) {\n                numIterations++;\n                tickLabelMargins = AxisHelper.getTickLabelMargins(\n                    { width: this.viewportIn.width, height: this.viewport.height }, this.leftRightMarginLimit,\n                    TextMeasurementService.measureSvgTextWidth, TextMeasurementService.measureSvgTextHeight, { x: this.xAxisProperties, y1: this.yAxisProperties },\n                    this.bottomMarginLimit, this.textProperties,\n                    this.isXScrollBarVisible || this.isYScrollBarVisible, showY1OnRight,\n                    renderXAxis, renderY1Axis, false);\n\n                // We look at the y axes as main and second sides, if the y axis orientation is right so the main side represents the right side\n                let maxMainYaxisSide = showY1OnRight ? tickLabelMargins.yRight : tickLabelMargins.yLeft,\n                    maxSecondYaxisSide = showY1OnRight ? tickLabelMargins.yLeft : tickLabelMargins.yRight,\n                    xMax = tickLabelMargins.xMax;\n\n                maxMainYaxisSide += 10;\n                maxSecondYaxisSide += 10;\n                xMax += 12;\n                if (showY1OnRight && renderY1Axis) {\n                    maxSecondYaxisSide += 20;\n                }\n\n                if (!showY1OnRight && renderY1Axis) {\n                    maxMainYaxisSide += 20;\n                }\n\n                if (this.hideAxisLabels()) {\n                    this.xAxisProperties.axisLabel = null;\n                    this.yAxisProperties.axisLabel = null;\n                }\n\n                this.addUnitTypeToAxisLabel(this.xAxisProperties, this.yAxisProperties);\n\n                axisLabels = { x: this.xAxisProperties.axisLabel, y: this.yAxisProperties.axisLabel, y2: null };\n                chartHasAxisLabels = (axisLabels.x != null) || (axisLabels.y != null || axisLabels.y2 != null);\n\n                if (axisLabels.x != null)\n                    xMax += 18;\n\n                if (axisLabels.y != null)\n                    maxMainYaxisSide += 20;\n\n                if (axisLabels.y2 != null)\n                    maxSecondYaxisSide += 20;\n\n                this.margin.left = showY1OnRight ? maxSecondYaxisSide : maxMainYaxisSide;\n                this.margin.right = showY1OnRight ? maxMainYaxisSide : maxSecondYaxisSide;\n                this.margin.bottom = xMax;\n\n                // re-calculate the axes with the new margins\n                let previousTickCountY1 = this.yAxisProperties.values.length;\n\n                this.calculateAxes(this.categoryAxisProperties, this.valueAxisProperties, this.textProperties, true);\n\n                // the minor padding adjustments could have affected the chosen tick values, which would then need to calculate margins again\n                // e.g. [0,2,4,6,8] vs. [0,5,10] the 10 is wider and needs more margin.\n                if (this.yAxisProperties.values.length === previousTickCountY1)\n                    doneWithMargins = true;\n            }\n            // we have to do the above process again since changes are made to viewport.\n            \n            if (this.data.backdrop && this.data.backdrop.show && (this.data.backdrop.url !== undefined)) {\n                this.adjustViewportbyBackdrop();\n\n                doneWithMargins = false;\n                maxIterations = 2;\n                numIterations = 0;\n\n                while (!doneWithMargins && numIterations < maxIterations) {\n                    numIterations++;\n                    tickLabelMargins = AxisHelper.getTickLabelMargins(\n                        { width: this.viewportIn.width, height: this.viewport.height }, this.leftRightMarginLimit,\n                        TextMeasurementService.measureSvgTextWidth, TextMeasurementService.measureSvgTextHeight, { x: this.xAxisProperties, y1: this.yAxisProperties },\n                        this.bottomMarginLimit, this.textProperties,\n                        this.isXScrollBarVisible || this.isYScrollBarVisible, showY1OnRight,\n                        renderXAxis, renderY1Axis, false);\n\n                    // We look at the y axes as main and second sides, if the y axis orientation is right so the main side represents the right side\n                    let maxMainYaxisSide = showY1OnRight ? tickLabelMargins.yRight : tickLabelMargins.yLeft,\n                        maxSecondYaxisSide = showY1OnRight ? tickLabelMargins.yLeft : tickLabelMargins.yRight,\n                        xMax = tickLabelMargins.xMax;\n\n                    maxMainYaxisSide += 10;\n                    if (showY1OnRight && renderY1Axis)\n                        maxSecondYaxisSide += 15;\n                    xMax += 12;\n\n                    if (this.hideAxisLabels()) {\n                        this.xAxisProperties.axisLabel = null;\n                        this.yAxisProperties.axisLabel = null;\n                    }\n\n                    this.addUnitTypeToAxisLabel(this.xAxisProperties, this.yAxisProperties);\n\n                    axisLabels = { x: this.xAxisProperties.axisLabel, y: this.yAxisProperties.axisLabel, y2: null };\n                    chartHasAxisLabels = (axisLabels.x != null) || (axisLabels.y != null || axisLabels.y2 != null);\n\n                    if (axisLabels.x != null)\n                        xMax += 18;\n\n                    if (axisLabels.y != null)\n                        maxMainYaxisSide += 20;\n\n                    if (axisLabels.y2 != null)\n                        maxSecondYaxisSide += 20;\n\n                    this.margin.left = showY1OnRight ? maxSecondYaxisSide : maxMainYaxisSide;\n                    this.margin.right = showY1OnRight ? maxMainYaxisSide : maxSecondYaxisSide;\n                    this.margin.bottom = xMax;\n\n                    // re-calculate the axes with the new margins\n                    let previousTickCountY1 = this.yAxisProperties.values.length;\n\n                    this.calculateAxes(this.categoryAxisProperties, this.valueAxisProperties, this.textProperties, true);\n\n                    // the minor padding adjustments could have affected the chosen tick values, which would then need to calculate margins again\n                    // e.g. [0,2,4,6,8] vs. [0,5,10] the 10 is wider and needs more margin.\n                    if (this.yAxisProperties.values.length === previousTickCountY1)\n                        doneWithMargins = true;\n                }\n            }\n\n            this.renderChart(mainAxisScale, this.xAxisProperties, this.yAxisProperties, tickLabelMargins, chartHasAxisLabels, axisLabels, suppressAnimations);\n\n            this.updateAxis();\n\n            if (!this.data)\n                return;\n\n            let data = this.data;\n            let dataPoints = this.data.dataPoints;\n\n            let hasSelection = this.interactivityService && this.interactivityService.hasSelection();\n\n            this.mainGraphicsContext.attr('width', this.viewportIn.width)\n                .attr('height', this.viewportIn.height);\n\n            let sortedData = dataPoints.sort(function (a, b) {\n                return b.radius.sizeMeasure ? (b.radius.sizeMeasure.values[b.radius.index] - a.radius.sizeMeasure.values[a.radius.index]) : 0;\n            });\n\n            let duration = AnimatorCommon.GetAnimationDuration(this.animator, suppressAnimations);\n            let scatterMarkers = this.drawScatterMarkers(sortedData, hasSelection, data.sizeRange, duration);\n\n            let dataLabelsSettings = this.data.dataLabelsSettings;\n            if (dataLabelsSettings.show) {\n                let layout = this.getEnhanchedScatterChartLabelLayout(dataLabelsSettings, this.viewportIn, data.sizeRange);\n                let clonedDataPoints: Array<EnhancedScatterChartDataPoint> = this.cloneDataPoints(dataPoints);\n                //fix bug 3863: drawDefaultLabelsForDataPointChart add to datapoints[xxx].size = object , which causes when\n                //category labels is on and Fill Points option off to fill the points when mouse click occures because of default size\n                //is set to datapoints.\n                dataLabelUtils.drawDefaultLabelsForDataPointChart(clonedDataPoints, this.mainGraphicsG, layout, this.viewportIn);\n                let offset = dataLabelsSettings.fontSize * EnhancedScatterChart.DataLabelsOffset;\n                this.mainGraphicsG.select('.labels').attr('transform', SVGUtil.translate(offset, 0));\n            }\n            else {\n                dataLabelUtils.cleanDataLabels(this.mainGraphicsG);\n            }\n            let behaviorOptions: ScatterBehaviorOptions = undefined;\n            if (this.interactivityService) {\n                behaviorOptions = {\n                    dataPointsSelection: scatterMarkers,\n                    data: this.data,\n                    plotContext: this.mainGraphicsContext,\n                };\n            }\n\n            TooltipManager.addTooltip(scatterMarkers, (tooltipEvent: TooltipEvent) => tooltipEvent.data.tooltipInfo);\n\n            SVGUtil.flushAllD3TransitionsIfNeeded(this.options);\n\n            if (this.behavior) {\n                let layerBehaviorOptions: any[] = [];\n                layerBehaviorOptions.push(behaviorOptions);\n\n                if (this.interactivityService) {\n                    let cbehaviorOptions: CartesianBehaviorOptions = {\n                        layerOptions: layerBehaviorOptions,\n                        clearCatcher: this.clearCatcher,\n                    };\n                    this.interactivityService.bind(dataPoints, this.behavior, cbehaviorOptions);\n                }\n            }\n        }\n\n        private cloneDataPoints(dataPoints: Array<EnhancedScatterChartDataPoint>): Array<EnhancedScatterChartDataPoint> {\n            let clonedDataPoints: Array<EnhancedScatterChartDataPoint> = new Array<EnhancedScatterChartDataPoint>();\n\n            for (let dataPoint of dataPoints) {\n                let clonedDataPoint: EnhancedScatterChartDataPoint = _.clone(dataPoint);\n                clonedDataPoints.push(clonedDataPoint);\n            }\n\n            return clonedDataPoints;\n        }\n\n        private darkenZeroLine(g: D3.Selection): void {\n            let zeroTick = g.selectAll('g.tick').filter((data) => data === 0).node();\n            if (zeroTick) {\n                d3.select(zeroTick).select('line').classed('zero-line', true);\n            }\n        }\n\n        private getCategoryAxisFill(): Fill {\n            if (this.dataView && this.dataView.metadata.objects) {\n                let label = this.dataView.metadata.objects['categoryAxis'];\n                if (label) {\n                    return <Fill>label['axisColor'];\n                }\n            }\n            return { solid: { color: '#333' } };\n        }\n\n        private getEnhanchedScatterChartLabelLayout(labelSettings: PointDataLabelsSettings,\n            viewport: IViewport,\n            sizeRange: NumberRange): ILabelLayout {\n\n            let xScale = this.xAxisProperties.scale;\n            let yScale = this.yAxisProperties.scale;\n            let fontSizeInPx = jsCommon.PixelConverter.fromPoint(labelSettings.fontSize);\n            let offset = labelSettings.fontSize * EnhancedScatterChart.DataLabelsOffset;\n\n            return {\n                labelText: function (d: EnhancedScatterChartDataPoint) {\n                    return dataLabelUtils.getLabelFormattedText({\n                        label: d.formattedCategory.getValue(),\n                        fontSize: labelSettings.fontSize,\n                        maxWidth: viewport.width,\n                    });\n                },\n                labelLayout: {\n                    x: function (d: EnhancedScatterChartDataPoint) { return xScale(d.x) - offset; },\n                    y: function (d: EnhancedScatterChartDataPoint) {\n                        let margin = visuals.ScatterChart.getBubbleRadius(d.radius, sizeRange, viewport) + dataLabelUtils.labelMargin;\n                        return labelSettings.position === 0 /* Above */ ? yScale(d.y) - margin : yScale(d.y) + margin;\n                    },\n                },\n                filter: function (d: EnhancedScatterChartDataPoint) {\n                    return (d != null && d.formattedCategory.getValue() != null);\n                },\n                style: {\n                    'fill': function (d: EnhancedScatterChartDataPoint) { return d.labelFill; },\n                    'font-size': fontSizeInPx,\n                },\n            };\n        }\n\n        private getValueAxisFill(): Fill {\n            if (this.dataView && this.dataView.metadata.objects) {\n                let label = this.dataView.metadata.objects['valueAxis'];\n                if (label)\n                    return <Fill>label['axisColor'];\n            }\n\n            return { solid: { color: '#333' } };\n        }\n\n        private renderCrossHair() {\n            let xScale = <D3.Scale.LinearScale>this.xAxisProperties.scale;\n            let yScale = <D3.Scale.LinearScale>this.yAxisProperties.scale;\n            let mainGraphicsContext = this.mainGraphicsContext;\n            mainGraphicsContext.selectAll(\".crosshairCanvas\").remove();\n            if (this.data.crosshair) {\n                let canvas = mainGraphicsContext.append(\"g\").attr(\"class\", \"crosshairCanvas\").attr(\"id\", \"crosshairCanvas\");\n                let crossHair = canvas.append(\"g\").attr(\"class\", \"crosshair\");\n                let hLine = crossHair.append(\"line\").attr(\"id\", \"h_crosshair\") // horizontal cross hair\n                    .attr(\"x1\", 0)\n                    .attr(\"y1\", 0)\n                    .attr(\"x2\", 0)\n                    .attr(\"y2\", 0)\n                    .style(\"stroke\", \"gray\")\n                    .style(\"stroke-width\", \"1px\")\n                    .style(\"stroke-dasharray\", \"5,5\")\n                    .style(\"display\", \"none\");\n\n                let vLine = crossHair.append(\"line\").attr(\"id\", \"v_crosshair\") // vertical cross hair\n                    .attr(\"x1\", 0)\n                    .attr(\"y1\", 0)\n                    .attr(\"x2\", 0)\n                    .attr(\"y2\", 0)\n                    .style(\"stroke\", \"gray\")\n                    .style(\"stroke-width\", \"1px\")\n                    .style(\"stroke-dasharray\", \"5,5\")\n                    .style(\"display\", \"none\");\n\n                let text = crossHair.append(\"text\").attr(\"id\", \"crosshair_text\") // text label for cross hair\n                    .style(\"font-size\", \"10px\")\n                    .style(\"stroke\", \"gray\")\n                    .style(\"stroke-width\", \"0.5px\");\n\n                let addCrossHair = (xCoord, yCoord) => {\n                    \n                    // Update horizontal cross hair\n                    hLine.attr(\"x1\", 0)\n                        .attr(\"y1\", yCoord)\n                        .attr(\"x2\", this.viewportIn.width)\n                        .attr(\"y2\", yCoord)\n                        .style(\"display\", \"block\");\n                    \n                    // Update vertical cross hair\n                    vLine.attr(\"x1\", xCoord)\n                        .attr(\"y1\", 0)\n                        .attr(\"x2\", xCoord)\n                        .attr(\"y2\", this.viewportIn.height)\n                        .style(\"display\", \"block\");\n\n                    // Update text label\n                    text.attr(\"transform\", \"translate(\" + (xCoord + 5) + \",\" + (yCoord - 5) + \")\")\n                        .text(\"(\" + Math.round(xScale.invert(xCoord) * 100) / 100 + \" , \" + Math.round(yScale.invert(yCoord) * 100) / 100 + \")\");\n                };\n\n                this.axisGraphicsContextScrollable.on(\"mousemove\", function () {\n                    let coordinates = d3.mouse(this);\n                    let svgNode = this.viewportElement;\n                    let scaledRect = svgNode.getBoundingClientRect();\n                    let domRect = svgNode.getBBox();\n                    let ratioX = scaledRect.width / domRect.width;\n                    let ratioY = scaledRect.height / domRect.height;\n                    if (domRect.width > 0 && !Double.equalWithPrecision(ratioX, 1.0, 0.00001)) {\n                        coordinates[0] = coordinates[0] / ratioX;\n                    }\n                    if (domRect.height > 0 && !Double.equalWithPrecision(ratioY, 1.0, 0.00001)) {\n                        coordinates[1] = coordinates[1] / ratioY;\n                    }\n                    addCrossHair(coordinates[0], coordinates[1]);\n                })\n                    .on(\"mouseover\", function () {\n                        d3.selectAll(\".crosshair\").style(\"display\", \"block\");\n                    })\n                    .on(\"mouseout\", function () {\n                        d3.selectAll(\".crosshair\").style(\"display\", \"none\");\n                    });\n            }\n        }\n\n        private renderBackground() {\n            if (this.data.backdrop && this.data.backdrop.show && (this.data.backdrop.url !== undefined)) {\n                this.backgroundGraphicsContext\n                    .attr(\"xlink:href\", this.data.backdrop.url)\n                    .attr('x', 0)\n                    .attr('y', 0)\n                    .attr('width', this.viewportIn.width)\n                    .attr('height', this.viewportIn.height);\n            } else {\n                this.backgroundGraphicsContext\n                    .attr('width', 0)\n                    .attr('height', 0);\n            }\n        }\n\n        private renderChart(\n            mainAxisScale: any,\n            xAxis: IAxisProperties,\n            yAxis: IAxisProperties,\n            tickLabelMargins: any,\n            chartHasAxisLabels: boolean,\n            axisLabels: ChartAxesLabels,\n            suppressAnimations: boolean,\n            scrollScale?: any,\n            extent?: number[]) {\n\n            let bottomMarginLimit = this.bottomMarginLimit;\n            let leftRightMarginLimit = this.leftRightMarginLimit;\n            let duration = AnimatorCommon.GetAnimationDuration(this.animator, suppressAnimations);\n\n            this.renderBackground();\n            \n            //hide show x-axis here\n            if (this.shouldRenderAxis(xAxis)) {\n                xAxis.axis.orient(\"bottom\");\n                if (!xAxis.willLabelsFit)\n                    xAxis.axis.tickPadding(5);\n\n                let xAxisGraphicsElement = this.xAxisGraphicsContext;\n                if (duration) {\n                    xAxisGraphicsElement\n                        .transition()\n                        .duration(duration)\n                        .call(xAxis.axis)\n                        .call(this.darkenZeroLine);\n                }\n                else {\n                    xAxisGraphicsElement\n                        .call(xAxis.axis)\n                        .call(this.darkenZeroLine);\n                }\n                let xZeroTick = xAxisGraphicsElement.selectAll('g.tick').filter((data) => data === 0);\n                if (xZeroTick) {\n                    let xZeroColor = this.getValueAxisFill();\n                    if (xZeroColor)\n                        xZeroTick.selectAll('line').style({ 'stroke': xZeroColor.solid.color });\n                }\n\n                let xAxisTextNodes = xAxisGraphicsElement.selectAll('text');\n                if (xAxis.willLabelsWordBreak) {\n                    xAxisTextNodes\n                        .call(AxisHelper.LabelLayoutStrategy.wordBreak, xAxis, bottomMarginLimit);\n                } else {\n                    xAxisTextNodes\n                        .call(AxisHelper.LabelLayoutStrategy.rotate,\n                        bottomMarginLimit,\n                        TextMeasurementService.getTailoredTextOrDefault,\n                        CartesianChart.AxisTextProperties,\n                        !xAxis.willLabelsFit,\n                        bottomMarginLimit === tickLabelMargins.xMax,\n                        xAxis,\n                        this.margin,\n                        this.isXScrollBarVisible || this.isYScrollBarVisible);\n                }\n            }\n            else {\n                this.xAxisGraphicsContext.selectAll('*').remove();\n            }\n\n            if (this.shouldRenderAxis(yAxis)) {\n                let yAxisOrientation = this.yAxisOrientation;\n\n                yAxis.axis\n                    .tickSize(-this.viewportIn.width)\n                    .tickPadding(10)\n                    .orient(yAxisOrientation.toLowerCase());\n\n                let y1AxisGraphicsElement = this.y1AxisGraphicsContext;\n                if (duration) {\n                    y1AxisGraphicsElement\n                        .transition()\n                        .duration(duration)\n                        .call(yAxis.axis)\n                        .call(this.darkenZeroLine);\n                }\n                else {\n                    y1AxisGraphicsElement\n                        .call(yAxis.axis)\n                        .call(this.darkenZeroLine);\n                }\n\n                let yZeroTick = y1AxisGraphicsElement.selectAll('g.tick').filter((data) => data === 0);\n                if (yZeroTick) {\n                    let yZeroColor = this.getCategoryAxisFill();\n                    if (yZeroColor) {\n                        yZeroTick.selectAll('line').style({ 'stroke': yZeroColor.solid.color });\n                    }\n                }\n\n                if (tickLabelMargins.yLeft >= leftRightMarginLimit) {\n                    y1AxisGraphicsElement.selectAll('text')\n                        .call(AxisHelper.LabelLayoutStrategy.clip,\n                        // Can't use padding space to render text, so subtract that from available space for ellipses calculations\n                        leftRightMarginLimit - 10,\n                        TextMeasurementService.svgEllipsis);\n                }\n\n                // TODO: clip (svgEllipsis) the Y2 labels\n            }\n            else {\n                this.y1AxisGraphicsContext.selectAll('*').remove();\n            }\n            // Axis labels\n            //TODO: Add label for second Y axis for combo chart\n            if (chartHasAxisLabels) {\n                let hideXAxisTitle = !this.shouldRenderAxis(xAxis, \"showAxisTitle\");\n                let hideYAxisTitle = !this.shouldRenderAxis(yAxis, \"showAxisTitle\");\n                let hideY2AxisTitle = this.valueAxisProperties && this.valueAxisProperties[\"secShowAxisTitle\"] != null && this.valueAxisProperties[\"secShowAxisTitle\"] === false;\n\n                this.renderAxesLabels(axisLabels, this.legendViewport.height, hideXAxisTitle, hideYAxisTitle, hideY2AxisTitle);\n            }\n            else {\n                this.axisGraphicsContext.selectAll('.xAxisLabel').remove();\n                this.axisGraphicsContext.selectAll('.yAxisLabel').remove();\n            }\n            this.renderCrossHair();\n        }\n\n        private renderAxesLabels(axisLabels: ChartAxesLabels, legendMargin: number, hideXAxisTitle: boolean, hideYAxisTitle: boolean, hideY2AxisTitle: boolean): void {\n            this.axisGraphicsContext.selectAll('.xAxisLabel').remove();\n            this.axisGraphicsContext.selectAll('.yAxisLabel').remove();\n\n            let margin = this.margin;\n            let width = this.viewportIn.width;\n            let height = this.viewport.height;\n            let fontSize = EnhancedScatterChart.AxisFontSize;\n            let yAxisOrientation = this.yAxisOrientation;\n            let showY1OnRight = yAxisOrientation === yAxisPosition.right;\n\n            if (!hideXAxisTitle) {\n                let xAxisLabel = this.axisGraphicsContext.append(\"text\")\n                    .style(\"text-anchor\", \"middle\")\n                    .text(axisLabels.x)\n                    .call((text: D3.Selection) => {\n                        text.each(function () {\n                            let text = d3.select(this);\n                            text.attr({\n                                \"class\": \"xAxisLabel\",\n                                \"transform\": SVGUtil.translate(width / 2, height - fontSize - 2)\n                            });\n                        });\n                    });\n\n                xAxisLabel.call(AxisHelper.LabelLayoutStrategy.clip,\n                    width,\n                    TextMeasurementService.svgEllipsis);\n            }\n\n            if (!hideYAxisTitle) {\n                let yAxisLabel = this.axisGraphicsContext.append(\"text\")\n                    .style(\"text-anchor\", \"middle\")\n                    .text(axisLabels.y)\n                    .call((text: D3.Selection) => {\n                        text.each(function () {\n                            let text = d3.select(this);\n                            text.attr({\n                                \"class\": \"yAxisLabel\",\n                                \"transform\": \"rotate(-90)\",\n                                \"y\": showY1OnRight ? width + margin.right - fontSize : -margin.left,\n                                \"x\": -((height - margin.top - legendMargin) / 2),\n                                \"dy\": \"1em\"\n                            });\n                        });\n                    });\n\n                yAxisLabel.call(AxisHelper.LabelLayoutStrategy.clip,\n                    height - (margin.bottom + margin.top),\n                    TextMeasurementService.svgEllipsis);\n            }\n\n            if (!hideY2AxisTitle && axisLabels.y2) {\n                let y2AxisLabel = this.axisGraphicsContext.append(\"text\")\n                    .style(\"text-anchor\", \"middle\")\n                    .text(axisLabels.y2)\n                    .call((text: D3.Selection) => {\n                        text.each(function () {\n                            let text = d3.select(this);\n                            text.attr({\n                                \"class\": \"yAxisLabel\",\n                                \"transform\": \"rotate(-90)\",\n                                \"y\": showY1OnRight ? -margin.left : width + margin.right - fontSize,\n                                \"x\": -((height - margin.top - legendMargin) / 2),\n                                \"dy\": \"1em\"\n                            });\n                        });\n                    });\n\n                y2AxisLabel.call(AxisHelper.LabelLayoutStrategy.clip,\n                    height - (margin.bottom + margin.top),\n                    TextMeasurementService.svgEllipsis);\n            }\n        }\n\n        private updateAxis(): void {\n            this.adjustMargins();\n\n            let yAxisOrientation = this.yAxisOrientation;\n            let showY1OnRight = yAxisOrientation === yAxisPosition.right;\n\n            this.xAxisGraphicsContext\n                .attr('transform', SVGUtil.translate(0, this.viewportIn.height));\n\n            this.y1AxisGraphicsContext\n                .attr('transform', SVGUtil.translate(showY1OnRight ? this.viewportIn.width : 0, 0));\n\n            this.svg.attr({\n                'width': this.viewport.width,\n                'height': this.viewport.height\n            });\n\n            this.svgScrollable.attr({\n                'width': this.viewport.width,\n                'height': this.viewport.height\n            });\n\n            this.svgScrollable.attr({\n                'x': 0\n            });\n\n            let left: number = this.margin.left;\n            let top: number = this.margin.top;\n\n            this.axisGraphicsContext.attr('transform', SVGUtil.translate(left, top));\n            this.axisGraphicsContextScrollable.attr('transform', SVGUtil.translate(left, top));\n            this.clearCatcher.attr('transform', SVGUtil.translate(-left, -top));\n\n            if (this.isXScrollBarVisible) {\n                this.svgScrollable.attr({\n                    'x': left\n                });\n                this.axisGraphicsContextScrollable.attr('transform', SVGUtil.translate(0, top));\n                this.svgScrollable.attr('width', this.viewportIn.width);\n                this.svg.attr('width', this.viewport.width)\n                    .attr('height', this.viewport.height + this.ScrollBarWidth);\n            }\n            else if (this.isYScrollBarVisible) {\n                this.svgScrollable.attr('height', this.viewportIn.height + top);\n                this.svg.attr('width', this.viewport.width + this.ScrollBarWidth)\n                    .attr('height', this.viewport.height);\n            }\n        }\n\n        private getUnitType(xAxis: IAxisProperties) {\n            if (xAxis.formatter &&\n                xAxis.formatter.displayUnit &&\n                xAxis.formatter.displayUnit.value > 1)\n                return xAxis.formatter.displayUnit.title;\n            return null;\n        }\n\n        private addUnitTypeToAxisLabel(xAxis: IAxisProperties, yAxis: IAxisProperties): void {\n            let unitType = this.getUnitType(xAxis);\n            if (xAxis.isCategoryAxis) {\n                this.categoryAxisHasUnitType = unitType !== null;\n            }\n            else {\n                this.valueAxisHasUnitType = unitType !== null;\n            }\n\n            if (xAxis.axisLabel && unitType) {\n                if (xAxis.isCategoryAxis) {\n                    xAxis.axisLabel = AxisHelper.createAxisLabel(this.categoryAxisProperties, xAxis.axisLabel, unitType);\n                }\n                else {\n                    xAxis.axisLabel = AxisHelper.createAxisLabel(this.valueAxisProperties, xAxis.axisLabel, unitType);\n                }\n            }\n\n            unitType = this.getUnitType(yAxis);\n\n            if (!yAxis.isCategoryAxis) {\n                this.valueAxisHasUnitType = unitType !== null;\n            }\n            else {\n                this.categoryAxisHasUnitType = unitType !== null;\n            }\n\n            if (yAxis.axisLabel && unitType) {\n                if (!yAxis.isCategoryAxis) {\n                    yAxis.axisLabel = AxisHelper.createAxisLabel(this.valueAxisProperties, yAxis.axisLabel, unitType);\n                }\n                else {\n                    yAxis.axisLabel = AxisHelper.createAxisLabel(this.categoryAxisProperties, yAxis.axisLabel, unitType);\n                }\n            }\n        }\n\n        private hideAxisLabels(): boolean {\n            if (this.cartesianSmallViewPortProperties) {\n                if (this.cartesianSmallViewPortProperties.hideAxesOnSmallViewPort\n                    && ((this.viewport.height + this.legendViewport.height) < this.cartesianSmallViewPortProperties.MinHeightAxesVisible)\n                    && !this.options.interactivity.isInteractiveLegend) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        private drawScatterMarkers(scatterData: EnhancedScatterChartDataPoint[], hasSelection: boolean, sizeRange: NumberRange, duration: number) {\n            let xScale = this.xAxisProperties.scale;\n            let yScale = this.yAxisProperties.scale;\n            let shouldEnableFill = (!sizeRange || !sizeRange.min) && this.data.fillPoint;\n\n            let markers;\n            let useCustomColor = this.data.useCustomColor;\n            if (this.data.useShape) {\n                this.mainGraphicsContext.selectAll(EnhancedScatterChart.ImageClasses.selector).remove();\n                markers = this.mainGraphicsContext.classed('ScatterMarkers', true).selectAll(EnhancedScatterChart.DotClasses.selector).data(scatterData, (d: EnhancedScatterChartDataPoint) => d.identity.getKey());\n                markers.enter()\n                    .append('path')\n                    .classed(EnhancedScatterChart.DotClasses.class, true).attr('id', 'markershape');\n                markers\n                    .style({\n                        'stroke-opacity': (d: EnhancedScatterChartDataPoint) => ScatterChart.getBubbleOpacity(d, hasSelection),\n                        'stroke-width': '1px',\n                        'stroke': (d: EnhancedScatterChartDataPoint) => {\n                            let color = useCustomColor ? d.colorFill : d.fill;\n                            if (this.data.outline) {\n                                return d3.rgb(color).darker();\n                            } else {\n                                return d3.rgb(color);\n                            }\n                        },\n                        'fill': (d: EnhancedScatterChartDataPoint) => d3.rgb(useCustomColor ? d.colorFill : d.fill),\n                        'fill-opacity': (d: EnhancedScatterChartDataPoint) => (d.size != null || shouldEnableFill) ? ScatterChart.getBubbleOpacity(d, hasSelection) : 0,\n                    })\n                    .attr(\"d\", (d: EnhancedScatterChartDataPoint) => {\n                        let r = ScatterChart.getBubbleRadius(d.radius, sizeRange, this.viewport);\n                        let area = 4 * r * r;\n                        return d.shapeSymbolType(area);\n                    })\n                    .transition()\n                    .duration((d) => {\n                        if (this.keyArray.indexOf(d.identity.getKey()) >= 0) {\n                            return duration;\n                        } else {\n                            return 0;\n                        }\n                    })\n                    .attr(\"transform\", function (d) { return \"translate(\" + xScale(d.x) + \",\" + yScale(d.y) + \") rotate(\" + d.rotation + \")\"; });\n            } else {\n                this.mainGraphicsContext.selectAll(EnhancedScatterChart.DotClasses.selector).remove();\n                markers = this.mainGraphicsContext.classed('ScatterMarkers', true).selectAll(EnhancedScatterChart.ImageClasses.selector).data(scatterData, (d: EnhancedScatterChartDataPoint) => d.identity.getKey());\n                markers.enter().append(\"svg:image\")\n                    .classed(EnhancedScatterChart.ImageClasses.class, true).attr('id', 'markerimage');\n                markers\n                    .attr(\"xlink:href\", (d) => {\n                        if (d.svgurl !== undefined && d.svgurl != null && d.svgurl !== \"\") {\n                            return d.svgurl;\n                        } else {\n                            return this.svgDefaultImage;\n                        }\n                    })\n                    .attr(\"width\", (d) => {\n                        return ScatterChart.getBubbleRadius(d.radius, sizeRange, this.viewport) * 2;\n                    })\n                    .attr(\"height\", (d) => {\n                        return ScatterChart.getBubbleRadius(d.radius, sizeRange, this.viewport) * 2;\n                    })\n                    .transition()\n                    .duration((d) => {\n                        if (this.keyArray.indexOf(d.identity.getKey()) >= 0) {\n                            return duration;\n                        } else {\n                            return 0;\n                        }\n                    })\n                    .attr(\"transform\", (d) => {\n                        let radius = ScatterChart.getBubbleRadius(d.radius, sizeRange, this.viewport);\n                        return \"translate(\" + (xScale(d.x) - radius) + \",\" + (yScale(d.y) - radius) + \") rotate(\" + d.rotation + \",\" + radius + \",\" + radius + \")\";\n                    });\n            }\n\n            markers.exit().remove();\n            this.keyArray = [];\n            for (let i = 0; i < scatterData.length; i++) {\n                this.keyArray.push(scatterData[i].identity.getKey());\n            }\n\n            return markers;\n        }\n\n        public calculateAxes(\n            categoryAxisProperties: DataViewObject,\n            valueAxisProperties: DataViewObject,\n            textProperties: TextProperties,\n            scrollbarVisible: boolean): IAxisProperties[] {\n\n            let visualOptions: CalculateScaleAndDomainOptions = {\n                viewport: this.viewport,\n                margin: this.margin,\n                forcedXDomain: [categoryAxisProperties ? categoryAxisProperties['start'] : null, categoryAxisProperties ? categoryAxisProperties['end'] : null],\n                forceMerge: valueAxisProperties && valueAxisProperties['secShow'] === false,\n                showCategoryAxisLabel: false,\n                showValueAxisLabel: false,\n                categoryAxisScaleType: categoryAxisProperties && categoryAxisProperties['axisScale'] != null ? <string>categoryAxisProperties['axisScale'] : null,\n                valueAxisScaleType: valueAxisProperties && valueAxisProperties['axisScale'] != null ? <string>valueAxisProperties['axisScale'] : null,\n                valueAxisDisplayUnits: valueAxisProperties && valueAxisProperties['labelDisplayUnits'] != null ? <number>valueAxisProperties['labelDisplayUnits'] : EnhancedScatterChart.LabelDisplayUnitsDefault,\n                categoryAxisDisplayUnits: categoryAxisProperties && categoryAxisProperties['labelDisplayUnits'] != null ? <number>categoryAxisProperties['labelDisplayUnits'] : EnhancedScatterChart.LabelDisplayUnitsDefault,\n                trimOrdinalDataOnOverflow: false\n            };\n\n            if (valueAxisProperties) {\n                visualOptions.forcedYDomain = AxisHelper.applyCustomizedDomain([valueAxisProperties['start'], valueAxisProperties['end']], visualOptions.forcedYDomain);\n            }\n\n            visualOptions.showCategoryAxisLabel = (!!categoryAxisProperties && !!categoryAxisProperties['showAxisTitle']);\n\n            visualOptions.showValueAxisLabel = true;\n\n            let width = this.viewport.width - (this.margin.left + this.margin.right);\n\n            let axes = this.calculateAxesProperties(visualOptions);\n            axes[0].willLabelsFit = AxisHelper.LabelLayoutStrategy.willLabelsFit(\n                axes[0],\n                width,\n                TextMeasurementService.measureSvgTextWidth,\n                textProperties);\n\n            // If labels do not fit and we are not scrolling, try word breaking\n            axes[0].willLabelsWordBreak = (!axes[0].willLabelsFit && !scrollbarVisible) && AxisHelper.LabelLayoutStrategy.willLabelsWordBreak(\n                axes[0], this.margin, width, TextMeasurementService.measureSvgTextWidth,\n                TextMeasurementService.estimateSvgTextHeight, TextMeasurementService.getTailoredTextOrDefault,\n                textProperties);\n            return axes;\n        }\n\n        public calculateAxesProperties(options: CalculateScaleAndDomainOptions): IAxisProperties[] {\n            let data = this.data;\n            let dataPoints = data.dataPoints;\n            this.margin = options.margin;\n            this.viewport = options.viewport;\n\n            let minY = 0,\n                maxY = 10,\n                minX = 0,\n                maxX = 10;\n            if (dataPoints.length > 0) {\n                minY = d3.min<EnhancedScatterChartDataPoint, number>(dataPoints, d => d.y);\n                maxY = d3.max<EnhancedScatterChartDataPoint, number>(dataPoints, d => d.y);\n                minX = d3.min<EnhancedScatterChartDataPoint, number>(dataPoints, d => d.x);\n                maxX = d3.max<EnhancedScatterChartDataPoint, number>(dataPoints, d => d.x);\n            }\n\n            let xDomain = [minX, maxX];\n            let combinedXDomain = AxisHelper.combineDomain(options.forcedXDomain, xDomain);\n\n            this.xAxisProperties = AxisHelper.createAxis({\n                pixelSpan: this.viewportIn.width,\n                dataDomain: combinedXDomain,\n                metaDataColumn: data.xCol,\n                formatString: valueFormatter.getFormatString(data.xCol, scatterChartProps.general.formatString),\n                outerPadding: 0,\n                isScalar: true,\n                isVertical: false,\n                forcedTickCount: options.forcedTickCount,\n                useTickIntervalForDisplayUnits: true,\n                isCategoryAxis: true, //scatter doesn't have a categorical axis, but this is needed for the pane to react correctly to the x-axis toggle one/off\n                scaleType: options.categoryAxisScaleType,\n                axisDisplayUnits: options.categoryAxisDisplayUnits\n            });\n            this.xAxisProperties.axis.tickSize(-this.viewportIn.height, 0);\n            this.xAxisProperties.axisLabel = this.data.axesLabels.x;\n\n            let combinedDomain = AxisHelper.combineDomain(options.forcedYDomain, [minY, maxY]);\n\n            this.yAxisProperties = AxisHelper.createAxis({\n                pixelSpan: this.viewportIn.height,\n                dataDomain: combinedDomain,\n                metaDataColumn: data.yCol,\n                formatString: valueFormatter.getFormatString(data.yCol, scatterChartProps.general.formatString),\n                outerPadding: 0,\n                isScalar: true,\n                isVertical: true,\n                forcedTickCount: options.forcedTickCount,\n                useTickIntervalForDisplayUnits: true,\n                isCategoryAxis: false,\n                scaleType: options.valueAxisScaleType,\n                axisDisplayUnits: options.valueAxisDisplayUnits\n            });\n            this.yAxisProperties.axisLabel = this.data.axesLabels.y;\n\n            return [this.xAxisProperties, this.yAxisProperties];\n        }\n\n        private enumerateDataPoints(enumeration: ObjectEnumerationBuilder): void {\n            let data = this.data;\n            if (!data)\n                return;\n\n            let seriesCount = data.dataPoints.length;\n\n            if (!data.hasDynamicSeries) {\n                // Add default color and show all slices\n                enumeration.pushInstance({\n                    objectName: 'dataPoint',\n                    selector: null,\n                    properties: {\n                        defaultColor: { solid: { color: data.defaultDataPointColor || this.colors.getColorByIndex(0).value } }\n                    }\n                }).pushInstance({\n                    objectName: 'dataPoint',\n                    selector: null,\n                    properties: {\n                        showAllDataPoints: !!data.showAllDataPoints\n                    }\n                });\n\n                for (let i = 0; i < seriesCount; i++) {\n                    let seriesDataPoints = data.dataPoints[i];\n                    enumeration.pushInstance({\n                        objectName: 'dataPoint',\n                        displayName: seriesDataPoints.formattedCategory.getValue(),\n                        selector: ColorHelper.normalizeSelector(seriesDataPoints.identity.getSelector(), /*isSingleSeries*/ true),\n                        properties: {\n                            fill: { solid: { color: seriesDataPoints.fill } }\n                        },\n                    });\n                }\n            }\n            else {\n                let legendDataPointLength = data.legendData.dataPoints.length;\n                for (let i = 0; i < legendDataPointLength; i++) {\n                    let series = data.legendData.dataPoints[i];\n                    enumeration.pushInstance({\n                        objectName: 'dataPoint',\n                        displayName: series.label,\n                        selector: ColorHelper.normalizeSelector(series.identity.getSelector()),\n                        properties: {\n                            fill: { solid: { color: series.color } }\n                        },\n                    });\n                }\n            }\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            let enumeration = new ObjectEnumerationBuilder();\n\n            switch (options.objectName) {\n                case 'dataPoint':\n                    let categoricalDataView: DataViewCategorical = this.dataView && this.dataView.categorical ? this.dataView.categorical : null;\n                    if (!GradientUtils.hasGradientRole(categoricalDataView))\n                        this.enumerateDataPoints(enumeration);\n                    break;\n                case 'categoryAxis':\n                    this.getCategoryAxisValues(enumeration);\n                    break;\n                case 'valueAxis':\n                    this.getValueAxisValues(enumeration);\n                    break;\n                case 'categoryLabels':\n                    if (this.data)\n                        dataLabelUtils.enumerateCategoryLabels(enumeration, this.data.dataLabelsSettings, true);\n                    else\n                        dataLabelUtils.enumerateCategoryLabels(enumeration, null, true);\n                    break;\n                case 'fillPoint':\n                    let sizeRange = this.data.sizeRange;\n                    // Check if the card should be shown or not\n                    if (sizeRange && sizeRange.min)\n                        break;\n\n                    enumeration.pushInstance({\n                        objectName: 'fillPoint',\n                        selector: null,\n                        properties: {\n                            show: this.data.fillPoint,\n                        },\n                    });\n                    break;\n                case 'backdrop':\n                    enumeration.pushInstance({\n                        objectName: 'backdrop',\n                        displayName: 'Backdrop',\n                        selector: null,\n                        properties: {\n                            show: this.data.backdrop ? this.data.backdrop.show : false,\n                            url: this.data.backdrop ? this.data.backdrop.url : null\n                        },\n                    });\n                    break;\n                case 'crosshair':\n                    enumeration.pushInstance({\n                        objectName: 'crosshair',\n                        selector: null,\n                        properties: {\n                            show: this.data.crosshair\n                        },\n                    });\n                    break;\n                case 'outline':\n                    enumeration.pushInstance({\n                        objectName: 'outline',\n                        selector: null,\n                        properties: {\n                            show: this.data.outline\n                        },\n                    });\n                    break;\n                case 'legend':\n                    this.getLegendValue(enumeration);\n                    break;\n            }\n            return enumeration.complete();\n        }\n\n        public hasLegend(): boolean {\n            return this.data && this.data.hasDynamicSeries;\n        }\n\n        private getLegendValue(enumeration: ObjectEnumerationBuilder): void {\n            if (!this.hasLegend())\n                return;\n            let show = DataViewObject.getValue<boolean>(this.legendObjectProperties, legendProps.show, this.legend.isVisible());\n            let showTitle = DataViewObject.getValue<boolean>(this.legendObjectProperties, legendProps.showTitle, true);\n            let titleText = DataViewObject.getValue<string>(this.legendObjectProperties, legendProps.titleText, this.layerLegendData ? this.layerLegendData.title : '');\n            let legendLabelColor = DataViewObject.getValue<string>(this.legendObjectProperties, legendProps.labelColor, LegendData.DefaultLegendLabelFillColor);\n            this.legendLabelFontSize = DataViewObject.getValue<number>(this.legendObjectProperties, legendProps.fontSize, EnhancedScatterChart.LegendLabelFontSizeDefault);\n\n            enumeration.pushInstance({\n                selector: null,\n                properties: {\n                    show: show,\n                    position: LegendPosition[this.legend.getOrientation()],\n                    showTitle: showTitle,\n                    titleText: titleText,\n                    labelColor: legendLabelColor,\n                    fontSize: this.legendLabelFontSize,\n                },\n                objectName: 'legend'\n            });\n        }\n\n        private getCategoryAxisValues(enumeration: ObjectEnumerationBuilder): void {\n            let supportedType = axisType.both;\n            let isScalar = true;\n            let logPossible = false;\n            let scaleOptions = [axisScale.log, axisScale.linear];//until options can be update in propPane, show all options\n\n            if (!isScalar) {\n                if (this.categoryAxisProperties) {\n                    this.categoryAxisProperties['start'] = null;\n                    this.categoryAxisProperties['end'] = null;\n                }\n            }\n\n            let instance: VisualObjectInstance = {\n                selector: null,\n                properties: {},\n                objectName: 'categoryAxis',\n                validValues: {\n                    axisScale: scaleOptions\n                }\n            };\n\n            instance.properties['show'] = this.categoryAxisProperties && this.categoryAxisProperties['show'] != null ? this.categoryAxisProperties['show'] : true;\n            if (this.yAxisIsCategorical)//in case of e.g. barChart\n                instance.properties['position'] = this.valueAxisProperties && this.valueAxisProperties['position'] != null ? this.valueAxisProperties['position'] : yAxisPosition.left;\n            if (supportedType === axisType.both) {\n                instance.properties['axisType'] = isScalar ? axisType.scalar : axisType.categorical;\n            }\n            if (isScalar) {\n                instance.properties['axisScale'] = (this.categoryAxisProperties && this.categoryAxisProperties['axisScale'] != null && logPossible) ? this.categoryAxisProperties['axisScale'] : axisScale.linear;\n                instance.properties['start'] = this.categoryAxisProperties ? this.categoryAxisProperties['start'] : null;\n                instance.properties['end'] = this.categoryAxisProperties ? this.categoryAxisProperties['end'] : null;\n                instance.properties['labelDisplayUnits'] = this.categoryAxisProperties && this.categoryAxisProperties['labelDisplayUnits'] != null ? this.categoryAxisProperties['labelDisplayUnits'] : EnhancedScatterChart.LabelDisplayUnitsDefault;\n            }\n            instance.properties['showAxisTitle'] = this.categoryAxisProperties && this.categoryAxisProperties['showAxisTitle'] != null ? this.categoryAxisProperties['showAxisTitle'] : true;\n\n            enumeration\n                .pushInstance(instance)\n                .pushInstance({\n                    selector: null,\n                    properties: {\n                        axisStyle: this.categoryAxisProperties && this.categoryAxisProperties['axisStyle'] ? this.categoryAxisProperties['axisStyle'] : axisStyle.showTitleOnly,\n                        labelColor: this.categoryAxisProperties ? this.categoryAxisProperties['labelColor'] : null\n                    },\n                    objectName: 'categoryAxis',\n                    validValues: {\n                        axisStyle: this.categoryAxisHasUnitType ? [axisStyle.showTitleOnly, axisStyle.showUnitOnly, axisStyle.showBoth] : [axisStyle.showTitleOnly]\n                    }\n                });\n        }\n\n        //todo: wrap all these object getters and other related stuff into an interface\n        private getValueAxisValues(enumeration: ObjectEnumerationBuilder): void {\n            let scaleOptions = [axisScale.log, axisScale.linear];  //until options can be update in propPane, show all options\n            let logPossible = false;\n\n            let instance: VisualObjectInstance = {\n                selector: null,\n                properties: {},\n                objectName: 'valueAxis',\n                validValues: {\n                    axisScale: scaleOptions,\n                    secAxisScale: scaleOptions\n                }\n            };\n\n            instance.properties['show'] = this.valueAxisProperties && this.valueAxisProperties['show'] != null ? this.valueAxisProperties['show'] : true;\n\n            if (!this.yAxisIsCategorical) {\n                instance.properties['position'] = this.valueAxisProperties && this.valueAxisProperties['position'] != null ? this.valueAxisProperties['position'] : yAxisPosition.left;\n            }\n            instance.properties['axisScale'] = (this.valueAxisProperties && this.valueAxisProperties['axisScale'] != null && logPossible) ? this.valueAxisProperties['axisScale'] : axisScale.linear;\n            instance.properties['start'] = this.valueAxisProperties ? this.valueAxisProperties['start'] : null;\n            instance.properties['end'] = this.valueAxisProperties ? this.valueAxisProperties['end'] : null;\n            instance.properties['showAxisTitle'] = this.valueAxisProperties && this.valueAxisProperties['showAxisTitle'] != null ? this.valueAxisProperties['showAxisTitle'] : true;\n            instance.properties['labelDisplayUnits'] = this.valueAxisProperties && this.valueAxisProperties['labelDisplayUnits'] != null ? this.valueAxisProperties['labelDisplayUnits'] : EnhancedScatterChart.LabelDisplayUnitsDefault;\n\n            enumeration\n                .pushInstance(instance)\n                .pushInstance({\n                    selector: null,\n                    properties: {\n                        axisStyle: this.valueAxisProperties && this.valueAxisProperties['axisStyle'] != null ? this.valueAxisProperties['axisStyle'] : axisStyle.showTitleOnly,\n                        labelColor: this.valueAxisProperties ? this.valueAxisProperties['labelColor'] : null\n                    },\n                    objectName: 'valueAxis',\n                    validValues: {\n                        axisStyle: this.valueAxisHasUnitType ? [axisStyle.showTitleOnly, axisStyle.showUnitOnly, axisStyle.showBoth] : [axisStyle.showTitleOnly]\n                    },\n                });\n        }\n\n        public onClearSelection(): void {\n            if (this.interactivityService)\n                this.interactivityService.clearSelection();\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nvar THREE: any;\nvar WebGLHeatmap;\nvar GlobeMapCanvasLayers: JQuery[];\n\nmodule powerbi.visuals.samples {\n    import TouchRect = controls.TouchUtils.Rectangle;\n    import DataRoleHelper = powerbi.data.DataRoleHelper;\n\n    interface RenderData {\n        lat: number;\n        lng: number;\n        height: number;\n        heightBySeries: number[];\n        seriesToolTipData: any[];\n        heat: number;\n        toolTipData: any;\n    }\n\n    export class GlobeMap implements IVisual {\n        public static MercartorSphere: any;\n        private viewport: IViewport;\n        private container: JQuery;\n        private domElement: HTMLElement;\n        private camera: any;\n        private renderer: any;\n        private scene: any;\n        private orbitControls: any;\n        private earth: any;\n        private settings: any;\n        private renderData: RenderData[] = [];\n        private heatmap: any;\n        private heatTexture: any;\n        private mapTextures: any[];\n        private barsGroup: any;\n        private readyToRender: boolean;\n        private categoricalView: any;\n        private deferredRenderTimerId: any;\n        private globeMapLocationCache: any;\n        private locationsToLoad: number = 0;\n        private locationsLoaded: number = 0;\n        private renderLoopEnabled = true;\n        private needsRender = false;\n        private mousePosNormalized: any;\n        private mousePos: any;\n        private rayCaster: any;\n        private selectedBar: any;\n        private hoveredBar: any;\n        private averageBarVector: any;\n        private zoomControl: any;\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: 'Category',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Location'),\n                    preferredTypes: [\n                        { geography: { address: true } },\n                        { geography: { city: true } },\n                        { geography: { continent: true } },\n                        { geography: { country: true } },\n                        { geography: { county: true } },\n                        { geography: { place: true } },\n                        { geography: { postalCode: true } },\n                        { geography: { region: true } },\n                        { geography: { stateOrProvince: true } },\n                    ],\n                },\n                {\n                    name: 'Series',\n                    kind: powerbi.VisualDataRoleKind.Grouping,\n                    displayName: \"Legend\",\n                },\n                {\n                    name: 'X',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Longitude',\n                    description: 'Use to override the longitude of locations',\n                    preferredTypes: [{ geography: { longitude: true } }],\n                },\n                {\n                    name: 'Y',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Latitude',\n                    description: 'Use to override the latitude of locations',\n                    preferredTypes: [{ geography: { latitude: true } }],\n                },\n                {\n                    name: 'Height',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Bar Height',\n                },\n                {\n                    name: 'Heat',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Heat Intensity',\n                }\n            ],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter('Visual_General'),\n                    properties: {\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        },\n                    },\n                },\n                legend: {\n                    displayName: data.createDisplayNameGetter('Visual_Legend'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendPosition'),\n                            type: { formatting: { legendPosition: true } }\n                        },\n                        showTitle: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendShowTitle'),\n                            type: { bool: true }\n                        },\n                        titleText: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendTitleText'),\n                            type: { text: true }\n                        }\n                    }\n                },\n                dataPoint: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPoint'),\n                    properties: {\n                        defaultColor: {\n                            displayName: data.createDisplayNameGetter('Visual_DefaultColor'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        showAllDataPoints: {\n                            displayName: data.createDisplayNameGetter('Visual_DataPoint_Show_All'),\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fillRule: {\n                            displayName: data.createDisplayNameGetter('Visual_Gradient'),\n                            type: { fillRule: {} },\n                            rule: {\n                                inputRole: 'Gradient',\n                                output: {\n                                    property: 'fill',\n                                    selector: ['Category'],\n                                },\n                            },\n                        }\n                    }\n                },\n                categoryLabels: {\n                    displayName: data.createDisplayNameGetter('Visual_CategoryLabels'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: data.createDisplayNameGetter('Visual_LabelsFill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                    },\n                },\n            },\n            dataViewMappings: [{\n                conditions: [\n                    { 'Category': { max: 1 }, 'Series': { max: 1 }, 'Height': { max: 1 }, 'Heat': { max: 1 } },\n                ],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        group: {\n                            by: 'Series',\n                            select: [\n                                { bind: { to: 'Height' } },\n                                { bind: { to: 'Heat' } },\n                                { bind: { to: 'X' } },\n                                { bind: { to: 'Y' } },\n                            ],\n                            dataReductionAlgorithm: { top: {} }\n                        }\n                    },\n                    rowCount: { preferred: { min: 2 } }\n                },\n            }],\n            sorting: {\n                custom: {},\n            }\n        };\n\n        public static converter(dataView: DataView): any {\n            return {};\n        }\n\n        public init(options: VisualInitOptions): void {\n            this.container = options.element;\n            this.viewport = options.viewport;\n            this.readyToRender = false;\n            if (!this.globeMapLocationCache) this.globeMapLocationCache = {};\n\n            if (!THREE) {\n                loadGlobeMapLibs();\n            }\n\n            if (THREE) {\n                this.setup();\n            }\n        }\n\n        private setup() {\n            this.initSettings();\n            this.initTextures();\n            this.initMercartorSphere();\n            this.initZoomControl();\n            this.initScene();\n            this.initHeatmap();\n            this.readyToRender = true;\n            this.composeRenderData();\n            this.initRayCaster();\n        }\n\n        private initSettings() {\n            var settings = this.settings = <any>{};\n            settings.autoRotate = false;\n            settings.earthRadius = 30;\n            settings.cameraRadius = 100;\n            settings.earthSegments = 100;\n            settings.heatmapSize = 1000;\n            settings.heatPointSize = 7;\n            settings.heatIntensity = 10;\n            settings.heatmapScaleOnZoom = 0.95;\n            settings.barWidth = 0.3;\n            settings.barHeight = 5;\n            settings.rotateSpeed = 0.5;\n            settings.zoomSpeed = 0.8;\n            settings.cameraAnimDuration = 1000; //ms\n            settings.clickInterval = 200; //ms\n        }\n\n        private initScene() {\n            var viewport = this.viewport;\n            var settings = this.settings;\n            var clock = new THREE.Clock();\n            var renderer = this.renderer = new THREE.WebGLRenderer({ antialias: true, preserveDrawingBuffer: true });\n            this.container.append(renderer.domElement);\n            this.domElement = renderer.domElement;\n            var camera = this.camera = new THREE.PerspectiveCamera(35, viewport.width / viewport.height, 0.1, 10000);\n            var orbitControls = this.orbitControls = new THREE.OrbitControls(camera, this.domElement);\n            var scene = this.scene = new THREE.Scene();\n\n            renderer.setSize(viewport.width, viewport.height);\n            renderer.setClearColor(0xbac4d2, 1);\n            camera.position.z = settings.cameraRadius;\n\n            orbitControls.maxDistance = settings.cameraRadius;\n            orbitControls.minDistance = settings.earthRadius + 1;\n            orbitControls.rotateSpeed = settings.rotateSpeed;\n            orbitControls.zoomSpeed = settings.zoomSpeed;\n            orbitControls.autoRotate = settings.autoRotate;\n\n            var ambientLight = new THREE.AmbientLight(0x000000);\n            var light1 = new THREE.DirectionalLight(0xffffff, 0.4);\n            var light2 = new THREE.DirectionalLight(0xffffff, 0.4);\n            var earth = this.earth = this.createEarth();\n\n            scene.add(ambientLight);\n            scene.add(light1);\n            scene.add(light2);\n            scene.add(earth);\n\n            light1.position.set(20, 20, 20);\n            light2.position.set(0, 0, -20);\n\n            var _zis = this;\n\n            requestAnimationFrame(function render() {\n                try {\n                    if (_zis.renderLoopEnabled) requestAnimationFrame(render);\n                    if (!_zis.shouldRender()) return;\n                    orbitControls.update(clock.getDelta());\n                    _zis.setEarthTexture();\n                    _zis.intersectBars();\n                    _zis.heatmap.display(); // Needed for IE/Edge to behave nicely\n                    renderer.render(scene, camera);\n                    _zis.needsRender = false;\t\n                    //console.log(\"render\");\t\t\t\n                } catch (e) {\n                    console.error(e);\n                }\n            });\n        }\n\n        private shouldRender(): boolean {\n            return this.readyToRender && this.needsRender;\n        }\n\n        private createEarth() {\n            var geometry = new GlobeMap.MercartorSphere(this.settings.earthRadius, this.settings.earthSegments, this.settings.earthSegments);\n            var material = new THREE.MeshPhongMaterial({\n                map: this.mapTextures[0],\n                side: THREE.DoubleSide,\n                shininess: 1,\n                emissive: 0xaaaaaa,\n                //wireframe: true\n            });\n            return new THREE.Mesh(geometry, material);\n        }\n\n        public zoomClicked(zoomDirection: any) {\n            if (this.orbitControls.enabled === false || this.orbitControls.enableZoom === false)\n                return;\n\n            if (zoomDirection === -1)\n                this.orbitControls.constraint.dollyOut(Math.pow(0.95, this.settings.zoomSpeed));\n            else if (zoomDirection === 1)\n                this.orbitControls.constraint.dollyIn(Math.pow(0.95, this.settings.zoomSpeed));\n\n            this.orbitControls.update();\n            this.animateCamera(this.camera.position);\n        }\n\n        public rotateCam(deltaX: number, deltaY: number) {\n            if (this.orbitControls.enabled === false || this.orbitControls.enableRotate === false)\n                return;\n\n            this.orbitControls.constraint.rotateLeft(2 * Math.PI * deltaX / this.domElement.offsetHeight * this.settings.rotateSpeed);\n            this.orbitControls.constraint.rotateUp(2 * Math.PI * deltaY / this.domElement.offsetHeight * this.settings.rotateSpeed);\n            this.orbitControls.update();\n            this.animateCamera(this.camera.position);\n        }\n\n        private initZoomControl() {\n            let radius = 17;\n            let zoomControlWidth = radius * 8.5;\n            let zoomControlHeight = radius * 8.5;\n            let startX = radius * 3;\n            let startY = radius + 3;\n            let gap = radius * 2;\n\n            let zoomCss = {\n                'position': 'absolute',\n                'left': 'calc(100% - ' + zoomControlWidth + 'px)',\n                'top': 'calc(100% - ' + zoomControlHeight + 'px)',\n                'zIndex': '1000',\n            };\n\n            let zoomContainer =\n                d3.select(this.container[0])\n                    .append('div')\n                    .style(zoomCss);\n\n            this.zoomControl = zoomContainer.append(\"svg\")\n                .attr({\n                    \"width\": zoomControlWidth,\n                    \"height\": zoomControlHeight\n                });\n\n            let bottom = this.zoomControl.append(\"g\").on(\"click\", () => this.rotateCam(0, -5));\n\n            bottom.append(\"circle\").attr({\n                cx: startX + gap,\n                cy: startY + (2 * gap),\n                r: radius,\n                fill: \"white\",\n                opacity: 0.5,\n                stroke: 'gray',\n            });\n\n            bottom.append(\"path\").attr({\n                d: \"M\" + (startX + (2 * radius)) + \" \" + (startY + (radius * 4.7)) + \" l12 -20 a40,70 0 0,1 -24,0z\",\n                fill: \"gray\",\n            });\n\n            let left = this.zoomControl.append(\"g\").on(\"click\", () => this.rotateCam(5, 0));\n\n            left.append(\"circle\").attr({\n                cx: startX,\n                cy: startY + gap,\n                r: radius,\n                fill: \"white\",\n                stroke: \"gray\",\n                opacity: 0.5,\n            });\n\n            left.append(\"path\").attr({\n                d: \"M\" + (startX - radius / 1.5) + \" \" + (startY + (radius * 2)) + \" l20 -12 a70,40 0 0,0 0,24z\",\n                fill: \"gray\",\n            });\n\n            let top = this.zoomControl.append(\"g\").on(\"click\", () => this.rotateCam(0, 5));\n\n            top.append(\"circle\").attr({\n                cx: startX + gap,\n                cy: startY,\n                r: radius,\n                fill: \"white\",\n                stroke: \"gray\",\n                opacity: 0.5,\n            });\n\n            top.append(\"path\").attr({\n                d: \"M\" + (startX + (2 * radius)) + \" \" + (startY - (radius / 1.5)) + \" l12 20 a40,70 0 0,0 -24,0z\",\n                fill: \"gray\",\n            });\n\n            let right = this.zoomControl.append(\"g\").on(\"click\", () => this.rotateCam(-5, 0));\n\n            right.append(\"circle\").attr({\n                cx: startX + (2 * gap),\n                cy: startY + gap,\n                r: radius,\n                fill: \"white\",\n                stroke: \"gray\",\n                opacity: 0.5,\n            });\n\n            right.append(\"path\").attr({\n                d: \"M\" + (startX + (4.7 * radius)) + \" \" + (startY + (radius * 2)) + \" l-20 -12 a70,40 0 0,1 0,24z\",\n                fill: \"gray\",\n            });\n\n            let zoomIn = this.zoomControl.append(\"g\").on(\"click\", () => this.zoomClicked(-1));\n\n            zoomIn.append(\"circle\").attr({\n                cx: startX + 4 * radius,\n                cy: startY + 6 * radius,\n                r: radius,\n                fill: \"white\",\n                stroke: \"gray\",\n                opacity: 0.5,\n            });\n\n            zoomIn.append(\"rect\").attr({\n                x: startX + 3.5 * radius,\n                y: startY + 5.9 * radius,\n                width: radius,\n                height: radius / 3,\n                fill: \"gray\",\n            });\n            zoomIn.append(\"rect\").attr({\n                x: startX + (4 * radius) - radius / 6,\n                y: startY + 5.55 * radius,\n                width: radius / 3,\n                height: radius,\n                fill: \"gray\",\n            });\n\n            var zoomOut = this.zoomControl.append(\"g\").on(\"click\", () => this.zoomClicked(1));\n\n            zoomOut.append(\"circle\").attr({\n                cx: startX,\n                cy: startY + 6 * radius,\n                r: radius,\n                fill: \"white\",\n                stroke: \"gray\",\n                opacity: \"0.50\",\n            });\n\n            zoomOut.append(\"rect\").attr({\n                x: startX - (radius / 2),\n                y: startY + 5.9 * radius,\n                width: radius,\n                height: radius / 3,\n                fill: \"gray\",\n            });\n        }\n\n        private initTextures() {\n            if (!GlobeMapCanvasLayers) {\n                // Initialize once, since this is a CPU + Network heavy operation.\n                GlobeMapCanvasLayers = [];\n\n                for (var level = 2; level <= 5; ++level) {\n                    var canvas = this.getBingMapCanvas(level);\n                    GlobeMapCanvasLayers.push(canvas);\n                }\n            }\n\n            // Can't execute in for loop because variable assignement gets overwritten\n            var createTexture = (canvas: JQuery) => {\n                var texture = new THREE.Texture(canvas.get(0));\n                texture.needsUpdate = true;\n                canvas.on(\"ready\", (e, resolution) => {\n                    //console.log(\"level ready\", resolution, texture)\n                    texture.needsUpdate = true;\n                    this.needsRender = true;\n                });\n                return texture;\n\n            };\n\n            this.mapTextures = [];\n            for (var i = 0; i < GlobeMapCanvasLayers.length; ++i) {\n                this.mapTextures.push(createTexture(GlobeMapCanvasLayers[i]));\n            }\n        }\n\n        private initHeatmap() {\n            var settings = this.settings;\n\n            //console.log(\"initHeatmap\");\n            try {\n                var heatmap = this.heatmap = new WebGLHeatmap({ width: settings.heatmapSize, height: settings.heatmapSize, intensityToAlpha: true });\n            } catch (e) {\n                // IE & Edge will throw an error about texImage2D, we need to ignore it\n                console.error(e);\n            }\n\n            // canvas contents will be used for a texture\n            var texture = this.heatTexture = new THREE.Texture(heatmap.canvas);\n            texture.needsUpdate = true;\n\n            var material = new THREE.MeshBasicMaterial({ map: texture, transparent: true });\n            var geometry = new THREE.SphereGeometry(settings.earthRadius + 0.01, settings.earthSegments, settings.earthSegments);\n            var mesh = new THREE.Mesh(geometry, material);\n\n            window[\"heatmap\"] = heatmap;\n            window[\"heatmapTexture\"] = texture;\n\n            this.scene.add(mesh);\n        }\n\n        private setEarthTexture() {\n            //get distance as arbitrary value from 0-1\n            if (!this.camera) return;\n            var maxDistance = this.settings.cameraRadius - this.settings.earthRadius;\n            var distance = (this.camera.position.length() - this.settings.earthRadius) / maxDistance;\n\n            var texture;\n            if (distance <= 1 / 5) {\n                texture = this.mapTextures[3];\n            } else if (distance <= 2 / 5) {\n                texture = this.mapTextures[2];\n            } else if (distance <= 3 / 5) {\n                texture = this.mapTextures[1];\n            } else {\n                texture = this.mapTextures[0];\n            }\n\n            if (this.earth.material.map !== texture) {\n                this.earth.material.map = texture;\n            }\n\n            if (this.selectedBar) {\n                this.orbitControls.rotateSpeed = this.settings.rotateSpeed;\n            } else {\n                this.orbitControls.rotateSpeed = this.settings.rotateSpeed * distance;\n            }\n\n            //console.log(distance, this.orbitControls.rotateSpeed);\n        }\n\n        public update(options: VisualUpdateOptions) {\n            this.needsRender = true;\n            this.cleanHeatAndBar();\n            if (options.viewport.height !== this.viewport.height || options.viewport.width !== this.viewport.width) {\n                var viewport = this.viewport = options.viewport;\n                if (this.camera && this.renderer) {\n                    this.camera.aspect = viewport.width / viewport.height;\n                    this.camera.updateProjectionMatrix();\n                    this.renderer.setSize(viewport.width, viewport.height);\n                }\n                return;\n            }\n\n            // PowerBI fires two update calls, one for size, one for data\n            if (options.dataViews[0] && options.dataViews[0].categorical) {\n                this.composeRenderData(options.dataViews[0].categorical);\n            }\n        }\n\n        public cleanHeatAndBar() {\n            this.heatmap.clear();\n            this.heatTexture.needsUpdate = true;\n            if (this.barsGroup) {\n                this.scene.remove(this.barsGroup);\n            }\n        }\n\n        private renderMagic() {\n            if (!this.readyToRender) {\n                //console.log(\"not ready to render\");\n                this.defferedRender();\n                return;\n            }\n\n            var renderData = this.renderData;\n            var heatmap = this.heatmap;\n            var settings = this.settings;\n\n            heatmap.clear();\n\n            if (this.barsGroup) {\n                this.scene.remove(this.barsGroup);\n            }\n\n            this.barsGroup = new THREE.Object3D();\n            this.scene.add(this.barsGroup);\n\n            //colors for stacked vector by series values\n            var barMaterials = [\n                new THREE.MeshPhongMaterial({ color: 0xff00ff, side: THREE.DoubleSide, shading: THREE.FlatShading, transparent: true }),\n                new THREE.MeshPhongMaterial({ color: 0xffff1a, side: THREE.DoubleSide, shading: THREE.FlatShading, transparent: true }),\n                new THREE.MeshPhongMaterial({ color: 0xff0000, side: THREE.DoubleSide, shading: THREE.FlatShading, transparent: true }),\n                new THREE.MeshPhongMaterial({ color: 0x00ffff, side: THREE.DoubleSide, shading: THREE.FlatShading, transparent: true }),\n                new THREE.MeshPhongMaterial({ color: 0x994d00, side: THREE.DoubleSide, shading: THREE.FlatShading, transparent: true }),\n                new THREE.MeshPhongMaterial({ color: 0xb3cccc, side: THREE.DoubleSide, shading: THREE.FlatShading, transparent: true }),\n                new THREE.MeshPhongMaterial({ color: 0xace600, side: THREE.DoubleSide, shading: THREE.FlatShading, transparent: true }),\n                new THREE.MeshPhongMaterial({ color: 0x52527a, side: THREE.DoubleSide, shading: THREE.FlatShading, transparent: true }),\n            ];\n\n            this.averageBarVector = new THREE.Vector3();\n\n            for (var i = 0, len = renderData.length; i < len; ++i) {\n                var renderDatum = renderData[i];\n\n                if (!renderDatum.lat || !renderDatum.lng) continue;\n\n                if (renderDatum.heat > 0.001) {\n                    if (renderDatum.heat < 0.1) renderDatum.heat = 0.1;\n                    var x = (180 + renderDatum.lng) / 360 * settings.heatmapSize;\n                    var y = (1 - ((90 + renderDatum.lat) / 180)) * settings.heatmapSize;\n                    heatmap.addPoint(x, y, settings.heatPointSize, renderDatum.heat * settings.heatIntensity);\n                }\n\n                if (renderDatum.height >= 0) {\n                    if (renderDatum.height < 0.01) renderDatum.height = 0.01;\n                    var latRadians = renderDatum.lat / 180 * Math.PI; //radians\n                    var lngRadians = renderDatum.lng / 180 * Math.PI;\n\n                    var x = Math.cos(lngRadians) * Math.cos(latRadians);\n                    var z = -Math.sin(lngRadians) * Math.cos(latRadians);\n                    var y = Math.sin(latRadians);\n                    var v = new THREE.Vector3(x, y, z);\n\n                    this.averageBarVector.add(v);\n\n                    var barHeight = settings.barHeight * renderDatum.height;\n                    //this array holds the relative series values to the actual measure for example [0.2,0.3,0.5]\n                    //this is how we draw the vectors relativly to the complete value one on top of another. \n                    var measuresBySeries = [];\n                    //this array holds the original values of the series for the tool tips\n                    var dataPointToolTip = [];\n                    if (renderDatum.heightBySeries) {\n                        for (var c = 0; c < renderDatum.heightBySeries.length; c++) {\n                            if (renderDatum.heightBySeries[c])\n                                measuresBySeries.push(renderDatum.heightBySeries[c]);\n                            dataPointToolTip.push(renderDatum.seriesToolTipData[c]);\n                        }\n                    } else {\n                        //no category series so we'll just draw one value\n                        measuresBySeries.push(1);\n                    }\n\n                    var previousMeasureValue = 0;\n                    for (var j = 0; j < measuresBySeries.length; j++) {\n                        previousMeasureValue += measuresBySeries[j];\n                        var geometry = new THREE.CubeGeometry(settings.barWidth, settings.barWidth, barHeight * measuresBySeries[j]);\n                        var bar = new THREE.Mesh(geometry, barMaterials[j % (barMaterials.length - 1)]);\n                        bar.position = v.clone().multiplyScalar(settings.earthRadius + ((barHeight / 2) * previousMeasureValue));\n                        bar.lookAt(v);\n                        bar.toolTipData = dataPointToolTip.length === 0 ? renderDatum.toolTipData : this.getToolTipDataForSeries(renderDatum.toolTipData, dataPointToolTip[j]);\n                        this.barsGroup.add(bar);\n                        previousMeasureValue += measuresBySeries[j];\n                    }\n                }\n            }\n\n            if (this.barsGroup.children.length > 0 && this.camera) {\n                this.averageBarVector.multiplyScalar(1 / this.barsGroup.children.length);\n                if (this.locationsLoaded === this.locationsToLoad) {\n                    this.animateCamera(this.averageBarVector);\n                }\n            }\n\n            heatmap.update();\n            heatmap.blur();\n            this.heatTexture.needsUpdate = true;\n            this.needsRender = true;\t\t\t\n\n            //console.log(\"renderMagic done! locations:\", this.barsGroup.children.length, \"toload/loaded\", this.locationsToLoad, this.locationsLoaded)\n        }\n\n        private getToolTipDataForSeries(toolTipData, dataPointToolTip): any {\n            var result = jQuery.extend(true, {\n                series: { displayName: dataPointToolTip.displayName, value: dataPointToolTip.value }\n            }, toolTipData);\n            result.height.value = dataPointToolTip.dataPointValue;\n            return result;\n        }\n\n        private composeRenderData(categoricalView?) {\n            // memoize last value\n            if (categoricalView) {\n                this.categoricalView = categoricalView;\n            } else {\n                categoricalView = this.categoricalView;\n            }\n\n            this.renderData = [];\n            var locations = [];\n            var globeMapLocationCache = this.globeMapLocationCache;\n\n            //console.log(\"categoricalView\", categoricalView)\n            if (!categoricalView) return;\n            var categories = categoricalView.categories;\n            var grouped = categoricalView.values.grouped();\n            var heightIndex = 0;\n            var intensityIndex = 0;\n            try {\n                heightIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, \"Height\");\n                intensityIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, \"Heat\");\n                var longitudeIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, \"X\");\n                var latitudeIndex = DataRoleHelper.getMeasureIndexOfRole(grouped, \"Y\");\n            } catch (e) { }\n\n            var locationType, heights, heightsBySeries, toolTipDataBySeries, heats, latitudes, longitudes, locationDispName, heightDispName, heatDispName, heightFormat, heatFormat;\n\n            if (heightIndex !== undefined && categoricalView.values[heightIndex] && categoricalView.values !== undefined) {\n                var locationCategory = categories[0];\n                locations = locationCategory.values;\n                locationDispName = locationCategory.source.displayName;\n                if (locationCategory.source.type.category) {\n                    locationType = locationCategory.source.type.category.toLowerCase();\n                } else {\n                    locationType = \"\";\n                }\n            } else {\n                locations = [];\n            }\n\n            // For debugging since devTools - salesByCountry isn't really sales by country\n            //var places = [\"kenya\", \"india\", \"united states\", \"london\", \"australia\", \"canada\"]\n            //heightIndex = 0;\n\n            if (heightIndex !== undefined && categoricalView.values[heightIndex]) {\n                // heights = categoricalView.values[heightIndex].values;\n                heightDispName = categoricalView.values[heightIndex].source.displayName;\n                heightFormat = categoricalView.values[heightIndex].source.format;\n                if (grouped.length > 1) {\n                    heights = new Array(locations.length);\n                    heightsBySeries = new Array(locations.length);\n                    toolTipDataBySeries = new Array(locations.length);\n                    //creating a matrix for drawing values by series later.\n                    for (var i = 0; i < grouped.length; i++) {\n                        var values = grouped[i].values[heightIndex].values;\n                        for (var j = 0; j < values.length; j++) {\n                            if (!heights[j]) heights[j] = 0;\n                            heights[j] += values[j] ? values[j] : 0;\n                            if (!heightsBySeries[j]) heightsBySeries[j] = [];\n                            heightsBySeries[j][i] = values[j];\n                            if (!toolTipDataBySeries[j]) toolTipDataBySeries[j] = [];\n                            toolTipDataBySeries[j][i] = { displayName: categoricalView.values.source.displayName, value: grouped[i].name, dataPointValue: values[j] };\n                        }\n                    }\n                    for (var i = 0; i < grouped.length; i++) {\n                        var values = grouped[i].values[heightIndex].values;\n                        for (var j = 0; j < values.length; j++) { \n                            //calculating relative size of series\n                            heightsBySeries[j][i] = values[j] / heights[j];\n                        }\n                    }\n                } else {\n                    heights = categoricalView.values[heightIndex].values;\n                    heightsBySeries = new Array(grouped.length);\n                }\n\n            } else {\n                heightsBySeries = new Array(locations.length);\n                heights = new Array(locations.length);\n            }\n\n            if (intensityIndex !== undefined && categoricalView.values[intensityIndex]) {\n                if (grouped.length > 1) {\n                    heats = new Array(locations.length);\n                    for (var i = 0; i < grouped.length; i++) {\n                        var values = grouped[i].values[intensityIndex].values;\n                        for (var j = 0; j < values.length; j++) {\n                            if (!heats[j]) heats[j] = 0;\n                            heats[j] += values[j] ? values[j] : 0;\n                        }\n                    }\n                } else {\n                    heats = categoricalView.values[intensityIndex].values;\n                }\n                heatDispName = categoricalView.values[intensityIndex].source.displayName;\n                heatFormat = categoricalView.values[intensityIndex].source.format;\n            } else {\n                heats = new Array(locations.length);\n            }\n\n            if (longitudeIndex !== undefined && categoricalView.values[longitudeIndex]\n                && latitudeIndex !== undefined && categoricalView.values[latitudeIndex]) {\n                longitudes = categoricalView.values[longitudeIndex].values;\n                latitudes = categoricalView.values[latitudeIndex].values;\n            }\n            else {\n                longitudes = null;\n                latitudes = null;\n            }\n\n            var maxHeight = Math.max.apply(null, heights) || 1;\n            var maxHeat = Math.max.apply(null, heats) || 1;\n            var heatFormatter = valueFormatter.create({ format: heatFormat, value: heats[0], value2: heats[1] });\n            var heightFormatter = valueFormatter.create({ format: heightFormat, value: heights[0], value2: heights[1] });\n\n            for (var i = 0, len = locations.length; i < len; ++i) {\n                var place = locations[i];\n                var lat, lng, latlng, height, heat;\n\n                //place = places[i];\n\n                if (place && typeof (place) === \"string\") {\n                    place = place.toLowerCase();\n                    var placeKey = place + \"/\" + locationType;\n\n                    if (!longitudes && globeMapLocationCache[placeKey]) {\n                        latlng = globeMapLocationCache[placeKey];\n                        lat = latlng.latitude;\n                        lng = latlng.longitude;\n                    }\n                    else if (longitudes) {\n                        lat = latitudes[i];\n                        lng = longitudes[i];\n                    }\n\n                    height = heights[i] / maxHeight;\n                    heat = heats[i] / maxHeat;\n\n                    var renderDatum = {\n                        lat: lat,\n                        lng: lng,\n                        height: height ? height || 0.01 : undefined,\n                        heightBySeries: heightsBySeries[i],\n                        seriesToolTipData: toolTipDataBySeries ? toolTipDataBySeries[i] : undefined,\n                        heat: heat || 0,\n                        toolTipData: {\n                            location: { displayName: locationDispName, value: locations[i] },\n                            height: { displayName: heightDispName, value: heightFormatter.format(heights[i]) },\n                            heat: { displayName: heatDispName, value: heatFormatter.format(heats[i]) }\n                        }\n                    };\n\n                    this.renderData.push(renderDatum);\n\n                    if (!longitudes && !latlng) {\n                        this.geocodeRenderDatum(renderDatum, place, locationType);\n                    }\n                }\n            }\n\n            try {\n                this.renderMagic();\n            } catch (e) {\n                console.error(e);\n            }\n        }\n\n        private geocodeRenderDatum(renderDatum, place, locationType) {\n            var placeKey = place + \"/\" + locationType;\n            this.globeMapLocationCache[placeKey] = {}; //store empty object so we don't send AJAX request again\n            this.locationsToLoad++;\n\n            try {\n                var geocoder = powerbi.visuals[\"BI\"].Services.GeocodingManager.geocode;\n            } catch (e) {\n                geocoder = services.geocode;\n            }\n\n            if (geocoder) {\n                geocoder(place, locationType).always((latlng: any) => {\n                    // we use always because we want to cache unknown values. \n                    // No point asking bing again and again when it tells us it doesn't know about a location\n                    this.globeMapLocationCache[placeKey] = latlng;\n                    this.locationsLoaded++;\n                    //console.log(place, latlng);\n\n                    if (latlng.latitude && latlng.longitude) {\n                        renderDatum.lat = latlng.latitude;\n                        renderDatum.lng = latlng.longitude;\n\n                        this.defferedRender();\n                    }\n                });\n            }\n        }\n\n        private defferedRender() {\n            if (!this.deferredRenderTimerId) {\n                this.deferredRenderTimerId = setTimeout(() => {\n                    this.deferredRenderTimerId = null;\n                    this.composeRenderData();\n                }, 500);\n            }\n        }\n\n        private initRayCaster() {\n            this.rayCaster = new THREE.Raycaster();\n            var settings = this.settings;\n            var mousePosNormalized = this.mousePosNormalized = new THREE.Vector2();\n            var mousePos = this.mousePos = new THREE.Vector2();\n            var element = this.container.get(0);\n            var mouseDownTime;\n\n            $(this.domElement).on(\"mousemove\", (event) => {\n                // get coordinates in -1 to +1 space\n                var rect = element.getBoundingClientRect();\n                mousePos.x = event.clientX;\n                mousePos.y = event.clientY;\n                mousePosNormalized.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n                mousePosNormalized.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n                this.needsRender = true;\n            }).on(\"mousedown\", (event) => {\n                mouseDownTime = Date.now();\n            }).on(\"mouseup\", (event) => {\n                // Debounce slow clicks\n                if ((Date.now() - mouseDownTime) > settings.clickInterval) return;\n                if (this.hoveredBar && event.shiftKey) {\n                    this.selectedBar = this.hoveredBar;\n                    this.animateCamera(this.selectedBar.position, () => {\n                        if (!this.selectedBar) return;\n                        this.orbitControls.center.copy(this.selectedBar.position.clone().normalize().multiplyScalar(settings.earthRadius));\n                        this.orbitControls.minDistance = 1;\n                    });\n                } else {\n                    if (this.selectedBar) {\n                        this.animateCamera(this.selectedBar.position, () => {\n                            this.orbitControls.center.set(0, 0, 0);\n                            this.orbitControls.minDistance = settings.earthRadius + 1;\n                        });\n                        this.selectedBar = null;\n                    }\n                }\n            }).on(\"mousewheel DOMMouseScroll\", (e: any) => {\n                this.needsRender = true;\n                if (this.orbitControls.enabled && this.orbitControls.enableZoom) {\n                    this.heatTexture.needsUpdate = true;\n                    e = e.originalEvent;\n                    var delta = e.wheelDelta > 0 || e.detail < 0 ? 1 : -1;\n                    var scale = delta > 0 ? this.settings.heatmapScaleOnZoom : (1 / this.settings.heatmapScaleOnZoom);\n                    this.heatmap.multiply(scale);\n                    this.heatmap.update();\n                }\n            });\n        }\n\n        private intersectBars() {\n            if (!this.rayCaster || !this.barsGroup) return;\n            var rayCaster = this.rayCaster;\n            rayCaster.setFromCamera(this.mousePosNormalized, this.camera);\n            var intersects = rayCaster.intersectObjects(this.barsGroup.children);\n\n            if (intersects && intersects.length > 0) {\n                //console.log(intersects[0], this.mousePos.x, this.mousePos.y);\n                var object = intersects[0].object;\n                if (!object || !object.toolTipData) return;\n                var toolTipData = object.toolTipData;\n                var toolTipItems: TooltipDataItem[] = [];\n                if (toolTipData.location.displayName) toolTipItems.push(toolTipData.location);\n                if (toolTipData.series) toolTipItems.push(toolTipData.series);\n                if (toolTipData.height.displayName) toolTipItems.push(toolTipData.height);\n                if (toolTipData.heat.displayName) toolTipItems.push(toolTipData.heat);\n                this.hoveredBar = object;\n                TooltipManager.ToolTipInstance.show(toolTipItems, <TouchRect>{ x: this.mousePos.x, y: this.mousePos.y, width: 0, height: 0 });\n            } else {\n                this.hoveredBar = null;\n                TooltipManager.ToolTipInstance.hide();\n            }\n        }\n\n        private animateCamera(to: any, done?: Function) {\n            if (!this.camera) return;\n            var startTime = Date.now();\n            var duration = this.settings.cameraAnimDuration;\n            var endTime = startTime + duration;\n            var startPos = this.camera.position.clone().normalize();\n            var endPos = to.clone().normalize();\n            var length = this.camera.position.length();\n\n            var easeInOut = function (t) {\n                t *= 2;\n                if (t < 1) return (t * t * t) / 2;\n                t -= 2;\n                return (t * t * t + 2) / 2;\n            };\n\n            var onUpdate = () => {\n                var now = Date.now();\n                var t = (now - startTime) / duration;\n                if (t > 1) t = 1;\n                t = easeInOut(t);\n\n                var pos = new THREE.Vector3()\n                    .add(startPos.clone().multiplyScalar(1 - t))\n                    .add(endPos.clone().multiplyScalar(t))\n                    .normalize()\n                    .multiplyScalar(length);\n\n                this.camera.position = pos;\n\n                if (now < endTime) {\n                    requestAnimationFrame(onUpdate);\n                } else if (done) {\n                    done();\n                }\n\n                this.needsRender = true;\n            };\n            requestAnimationFrame(onUpdate);\n        }\n\n        public destroy() {\n            clearTimeout(this.deferredRenderTimerId);\n            this.renderLoopEnabled = false;\n            this.scene = null;\n            this.heatmap = null;\n            this.heatTexture = null;\n            this.camera = null;\n            if (this.renderer) {\n                if (this.renderer.context) {\n                    let extension = this.renderer.context.getExtension('WEBGL_lose_context');\n                    if (extension)\n                        extension.loseContext();\n                    this.renderer.context = null;\n                }\n                this.renderer.domElement = null;\n            }\n            this.renderer = null;\n            this.renderData = null;\n            this.barsGroup = null;\n            if (this.orbitControls) this.orbitControls.dispose();\n            this.orbitControls = null;\n            if (this.domElement) $(this.domElement)\n                .off(\"mousemove mouseup mousedown mousewheel DOMMouseScroll\");\n            this.domElement = null;\n            if (this.container) this.container.empty();\n        }\n\n        private initMercartorSphere() {\n            if (GlobeMap.MercartorSphere) return;\n\n            var MercartorSphere = function (radius, widthSegments, heightSegments) {\n                THREE.Geometry.call(this);\n\n                this.radius = radius;\n                this.widthSegments = widthSegments;\n                this.heightSegments = heightSegments;\n\n                this.t = 0;\n\n                var x, y, vertices = [], uvs = [];\n\n                function interplolate(a, b, t) {\n                    return (1 - t) * a + t * b;\n                }\n\n                // interpolates between sphere and plane\n                function interpolateVertex(u, v, t) {\n                    var maxLng = Math.PI * 2;\n                    var maxLat = Math.PI;\n                    var radius = this.radius;\n\n                    var sphereX = - radius * Math.cos(u * maxLng) * Math.sin(v * maxLat);\n                    var sphereY = - radius * Math.cos(v * maxLat);\n                    var sphereZ = radius * Math.sin(u * maxLng) * Math.sin(v * maxLat);\n\n                    var planeX = u * radius * 2 - radius;\n                    var planeY = v * radius * 2 - radius;\n                    var planeZ = 0;\n\n                    var x = interplolate(sphereX, planeX, t);\n                    var y = interplolate(sphereY, planeY, t);\n                    var z = interplolate(sphereZ, planeZ, t);\n\n                    return new THREE.Vector3(x, y, z);\n                }\n\n                // http://mathworld.wolfram.com/MercatorProjection.html\n                // Mercator projection goes form +85.05 to -85.05 degrees\n                function interpolateUV(u, v, t) {\n                    var lat = (v - 0.5) * 90 * 2 / 180 * Math.PI; //turn from 0-1 into lat in radians\n                    var sin = Math.sin(lat);\n                    var normalizedV = 0.5 + 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI;\n                    return new THREE.Vector2(u, normalizedV);//interplolate(normalizedV1, v, t))\n                }\n\n                for (y = 0; y <= heightSegments; y++) {\n\n                    var verticesRow = [];\n                    var uvsRow = [];\n\n                    for (x = 0; x <= widthSegments; x++) {\n\n                        var u = x / widthSegments;\n                        var v = y / heightSegments;\n\n                        this.vertices.push(interpolateVertex.call(this, u, v, this.t));\n                        uvsRow.push(interpolateUV.call(this, u, v, this.t));\n                        verticesRow.push(this.vertices.length - 1);\n                    }\n\n                    vertices.push(verticesRow);\n                    uvs.push(uvsRow);\n\n                }\n\n                //console.log(vertices, uvs);\n\n                for (y = 0; y < this.heightSegments; y++) {\n\n                    for (x = 0; x < this.widthSegments; x++) {\n\n                        var v1 = vertices[y][x + 1];\n                        var v2 = vertices[y][x];\n                        var v3 = vertices[y + 1][x];\n                        var v4 = vertices[y + 1][x + 1];\n\n                        var n1 = this.vertices[v1].clone().normalize();\n                        var n2 = this.vertices[v2].clone().normalize();\n                        var n3 = this.vertices[v3].clone().normalize();\n                        var n4 = this.vertices[v4].clone().normalize();\n\n                        var uv1 = uvs[y][x + 1].clone();\n                        var uv2 = uvs[y][x].clone();\n                        var uv3 = uvs[y + 1][x].clone();\n                        var uv4 = uvs[y + 1][x + 1].clone();\n\n                        var normals = [n1, n2, n3, n4];\n\n                        this.faces.push(new THREE.Face4(v1, v2, v3, v4, normals));\n                        this.faceVertexUvs[0].push([uv1, uv2, uv3, uv4]);\n                    }\n\n                }\n\n                this.computeCentroids();\n                this.computeFaceNormals();\n\n                this.boundingSphere = new THREE.Sphere(new THREE.Vector3(), radius);\n            };\n\n            MercartorSphere.prototype = Object.create(THREE.Geometry.prototype);\n            GlobeMap.MercartorSphere = MercartorSphere;\n        }\n\n        private getBingMapCanvas(resolution): JQuery {\n            var tileSize = 256;\n            var numSegments = Math.pow(2, resolution);\n            var numTiles = numSegments * numSegments;\n            var tilesLoaded = 0;\n            var canvasSize = tileSize * numSegments;\n            var canvas: JQuery = $('<canvas/>').attr({ width: canvasSize, height: canvasSize });\n            var canvasElem: any = canvas.get(0);\n            var canvasContext = canvasElem.getContext(\"2d\");\n\n            function generateQuads(res, quad) {\n                if (res <= resolution) {\n                    if (res === resolution) {\n                        loadTile(quad);\n                        //console.log(res, maxResolution, quad);\n                    }\n\n                    generateQuads(res + 1, quad + \"0\");\n                    generateQuads(res + 1, quad + \"1\");\n                    generateQuads(res + 1, quad + \"2\");\n                    generateQuads(res + 1, quad + \"3\");\n                }\n            }\n\n            function loadTile(quad) {\n                var template: any = \"https://t{server}.tiles.virtualearth.net/tiles/r{quad}.jpeg?g=0&mkt={language}\";\n                var numServers = 7;\n                var server = Math.round(Math.random() * numServers);\n                var language = (navigator[\"languages\"] && navigator[\"languages\"].length) ? navigator[\"languages\"][0] : navigator.language;\n                var url = template.replace(\"{server}\", server)\n                    .replace(\"{quad}\", quad)\n                    .replace(\"{language}\", language);\n                var coords = getCoords(quad);\n                //console.log(quad, coords.x, coords.y)\n\n                var tile = new Image();\n                tile.onload = function () {\n                    tilesLoaded++;\n                    canvasContext.drawImage(tile, coords.x * tileSize, coords.y * tileSize, tileSize, tileSize);\n                    if (tilesLoaded === numTiles) {\n                        canvas.trigger(\"ready\", resolution);\n                    }\n                };\n\n                // So the canvas doesn't get tainted\n                tile.crossOrigin = '';\n                tile.src = url;\n            }\n\n            function getCoords(quad) {\n                var x = 0;\n                var y = 0;\n                var last = quad.length - 1;\n\n                for (var i = last; i >= 0; i--) {\n                    var chr = quad.charAt(i);\n                    var pow = Math.pow(2, last - i);\n\n                    if (chr === \"1\") {\n                        x += pow;\n                    } else if (chr === \"2\") {\n                        y += pow;\n                    } else if (chr === \"3\") {\n                        x += pow;\n                        y += pow;\n                    }\n                }\n\n                return { x: x, y: y };\n            }\n\n            generateQuads(0, \"\");\n            return canvas;\n        }\n    }\n}\n\nfunction loadGlobeMapLibs() {\n    // include GlobeMapLibs.js\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import SelectionManager = utility.SelectionManager;\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import CreateClassAndSelector = jsCommon.CssConstants.createClassAndSelector;\n    import PixelConverter = jsCommon.PixelConverter;\n\n    export interface RadarChartConstructorOptions {\n        animator?: IGenericAnimator;\n        svg?: D3.Selection;\n        margin?: IMargin;\n    }\n\n    export interface RadarChartDatapoint extends SelectableDataPoint {\n        x: number;\n        y: number;\n        y0?: number;\n        color?: string;\n        value?: number;\n        tooltipInfo?: TooltipDataItem[];\n        labelFormatString?: string;\n        labelFontSize?: string;\n    }\n\n    export interface RadarChartData {\n        legendData: LegendData;\n        series: RadarChartSeries[];\n        settings: RadarChartSettings;\n        dataLabelsSettings: PointDataLabelsSettings;\n    }\n\n    export interface RadarChartSeries {\n        fill: string;\n        name: string;\n        data: RadarChartDatapoint[];\n        identity: SelectionId;\n    }\n\n    export interface RadarChartSettings {\n        showLegend?: boolean;\n    }\n\n    export interface RadarChartBehaviorOptions {\n        selection: D3.Selection;\n        clearCatcher: D3.Selection;\n    }\n    \n    /**\n     * RadarChartBehavior\n     */\n    export class RadarChartWebBehavior implements IInteractiveBehavior {\n        private selection: D3.Selection;\n\n        public bindEvents(options: RadarChartBehaviorOptions, selectionHandler: ISelectionHandler): void {\n            let selection = this.selection = options.selection;\n            let clearCatcher = options.clearCatcher;\n\n            selection.on('click', function (d: SelectableDataPoint) {\n                selectionHandler.handleSelection(d, d3.event.ctrlKey);\n                d3.event.stopPropagation();\n            });\n\n            clearCatcher.on('click', function () {\n                selectionHandler.handleClearSelection();\n            });\n        }\n\n        public renderSelection(hasSelection: boolean): void {\n            this.selection.style(\"opacity\", (d: SelectableDataPoint) => (hasSelection && !d.selected) ? RadarChart.DimmedAreaFillOpacity : RadarChart.AreaFillOpacity);\n        }\n    }\n\n    export class RadarChart implements IVisual {\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    displayName: 'Category',\n                    name: 'Category',\n                    kind: powerbi.VisualDataRoleKind.Grouping,\n                },\n                {\n                    displayName: 'Y Axis',\n                    name: 'Y',\n                    kind: powerbi.VisualDataRoleKind.Measure,\n                },\n            ],\n            dataViewMappings: [{\n                conditions: [{ 'Category': { min: 1, max: 1 } }],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        select: [{ bind: { to: 'Y' } }]\n                    }\n                }\n            }],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter('Visual_General'),\n                    properties: {\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        },\n                    },\n                },\n                legend: {\n                    displayName: data.createDisplayNameGetter('Visual_Legend'),\n                    description: data.createDisplayNameGetter('Visual_LegendDescription'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendPosition'),\n                            description: data.createDisplayNameGetter('Visual_LegendPositionDescription'),\n                            type: { enumeration: legendPosition.type }\n                        },\n                        showTitle: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendShowTitle'),\n                            description: data.createDisplayNameGetter('Visual_LegendShowTitleDescription'),\n                            type: { bool: true }\n                        },\n                        titleText: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendName'),\n                            description: data.createDisplayNameGetter('Visual_LegendNameDescription'),\n                            type: { text: true },\n                            suppressFormatPainterCopy: true\n                        },\n                        labelColor: {\n                            displayName: data.createDisplayNameGetter('Visual_LegendTitleColor'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } }\n                        }\n                    }\n                },\n                dataPoint: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPoint'),\n                    description: data.createDisplayNameGetter('Visual_DataPointDescription'),\n                    properties: {\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                labels: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPointsLabels'),\n                    description: data.createDisplayNameGetter('Visual_DataPointsLabelsDescription'),\n                    properties: {\n                        show: {\n                            displayName: data.createDisplayNameGetter('Visual_Show'),\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: data.createDisplayNameGetter('Visual_LabelsFill'),\n                            description: data.createDisplayNameGetter('Visual_LabelsFillDescription'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        labelDisplayUnits: {\n                            displayName: data.createDisplayNameGetter('Visual_DisplayUnits'),\n                            description: data.createDisplayNameGetter('Visual_DisplayUnitsDescription'),\n                            type: { formatting: { labelDisplayUnits: true } },\n                            suppressFormatPainterCopy: true,\n                        },\n                        labelPrecision: {\n                            displayName: data.createDisplayNameGetter('Visual_Precision'),\n                            description: data.createDisplayNameGetter('Visual_PrecisionDescription'),\n                            placeHolderText: data.createDisplayNameGetter('Visual_Precision_Auto'),\n                            type: { numeric: true },\n                            suppressFormatPainterCopy: true,\n                        },\n                        fontSize: {\n                            displayName: data.createDisplayNameGetter('Visual_TextSize'),\n                            type: { formatting: { fontSize: true } }\n                        },\n                    }\n                }\n            }\n        };\n\n        /** Note: Public for testability */\n        public static formatStringProp: DataViewObjectPropertyIdentifier = {\n            objectName: 'general',\n            propertyName: 'formatString',\n        };\n\n        private static Properties: any = {\n            legend: {\n                show: <DataViewObjectPropertyIdentifier>{ objectName: 'legend', propertyName: 'show' }\n            },\n            dataPoint: {\n                fill: <DataViewObjectPropertyIdentifier>{ objectName: 'dataPoint', propertyName: 'fill' }\n            },\n            labels: {\n                show: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'show' },\n                color: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'color' },\n                displayUnits: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'labelDisplayUnits' },\n                precision: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'labelPrecision' },\n                fontSize: <DataViewObjectPropertyIdentifier>{ objectName: 'labels', propertyName: 'fontSize' },\n            }\n        };\n\n        private static VisualClassName = 'radarChart';\n        private static Segments: ClassAndSelector = CreateClassAndSelector('segments');\n        private static SegmentNode: ClassAndSelector = CreateClassAndSelector('segmentNode');\n        private static Axis: ClassAndSelector = CreateClassAndSelector('axis');\n        private static AxisNode: ClassAndSelector = CreateClassAndSelector('axisNode');\n        private static AxisLabel: ClassAndSelector = CreateClassAndSelector('axisLabel');\n        private static Chart: ClassAndSelector = CreateClassAndSelector('chart');\n        private static ChartNode: ClassAndSelector = CreateClassAndSelector('chartNode');\n        private static ChartPolygon: ClassAndSelector = CreateClassAndSelector('chartPolygon');\n        private static ChartDot: ClassAndSelector = CreateClassAndSelector('chartDot');\n\n        private svg: D3.Selection;\n        private segments: D3.Selection;\n        private axis: D3.Selection;\n        private chart: D3.Selection;\n\n        private mainGroupElement: D3.Selection;\n        private colors: IDataColorPalette;\n        private selectionManager: SelectionManager;\n        private viewport: IViewport;\n        private interactivityService: IInteractivityService;\n\n        private animator: IGenericAnimator;\n        private margin: IMargin;\n        private legend: ILegend;\n        private legendObjectProperties: DataViewObject;\n        private radarChartData: RadarChartData;\n        private isInteractiveChart: boolean;\n\n        private static DefaultMargin: IMargin = {\n            top: 50,\n            bottom: 50,\n            right: 100,\n            left: 100\n        };\n\n        private static SegmentLevels: number = 6;\n        private static SegmentFactor: number = 1;\n        private static Radians: number = 2 * Math.PI;\n        private static Scale: number = 1;\n        public static AreaFillOpacity = 1;\n        public static DimmedAreaFillOpacity = 0.4;\n        private angle: number;\n        private radius: number;\n\n        public static converter(dataView: DataView, colors: IDataColorPalette): RadarChartData {\n            if (!dataView ||\n                !dataView.categorical ||\n                !dataView.categorical.categories ||\n                !(dataView.categorical.categories.length > 0) ||\n                !dataView.categorical.categories[0] ||\n                !dataView.categorical.values ||\n                !(dataView.categorical.values.length > 0)) {\n                return {\n                    legendData: {\n                        dataPoints: []\n                    },\n                    settings: {\n                        showLegend: true\n                    },\n                    series: [],\n                    dataLabelsSettings: dataLabelUtils.getDefaultPointLabelSettings(),\n                };\n            }\n\n            let catDv: DataViewCategorical = dataView.categorical;\n            let values = catDv.values;\n            let series: RadarChartSeries[] = [];\n            let colorHelper = new ColorHelper(colors, RadarChart.Properties.dataPoint.fill);\n            let legendData: LegendData = {\n                fontSize: 8.25,\n                dataPoints: [],\n                title: \"\"\n            };\n\n            //Parse legend settings          \n            let legendSettings: RadarChartSettings = RadarChart.parseSettings(dataView);\n            let dataLabelsSettings: PointDataLabelsSettings = RadarChart.parseLabelSettings(dataView);\n\n            for (let i = 0, iLen = values.length; i < iLen; i++) {\n                let color = colors.getColorByIndex(i).value,\n                    serieIdentity: SelectionId,\n                    queryName: string,\n                    displayName: string,\n                    dataPoints: RadarChartDatapoint[] = [];\n\n                if (values[i].source) {\n                    let source = values[i].source;\n\n                    if (source.queryName) {\n                        queryName = source.queryName;\n                        serieIdentity = SelectionId.createWithMeasure(queryName);\n                    }\n\n                    if (source.displayName)\n                        displayName = source.displayName;\n\n                    if (source.objects) {\n                        let objects: any = source.objects;\n                        color = colorHelper.getColorForMeasure(objects, queryName);\n                    }\n                }\n\n                legendData.dataPoints.push({\n                    label: displayName,\n                    color: color,\n                    icon: LegendIcon.Box,\n                    selected: false,\n                    identity: serieIdentity\n                });\n\n                for (let k = 0, kLen = values[i].values.length; k < kLen; k++) {\n\n                    let dataPointIdentity = SelectionIdBuilder\n                        .builder()\n                        .withMeasure(queryName)\n                        .withCategory(catDv.categories[0], k)\n                        .withSeries(dataView.categorical.values, dataView.categorical.values[i])\n                        .createSelectionId();\n\n                    let tooltipInfo: TooltipDataItem[] = TooltipBuilder.createTooltipInfo(RadarChart.formatStringProp,\n                        catDv,\n                        catDv.categories[0].values[k],\n                        values[i].values[k],\n                        null,\n                        null,\n                        i);\n\n                    let labelFormatString = valueFormatter.getFormatString(catDv.values[i].source, RadarChart.formatStringProp);\n                    let fontSizeInPx = jsCommon.PixelConverter.fromPoint(dataLabelsSettings.fontSize);\n\n                    dataPoints.push({\n                        x: k,\n                        y: values[i].values[k],\n                        color: color,\n                        identity: dataPointIdentity,\n                        selected: false,\n                        tooltipInfo: tooltipInfo,\n                        value: values[i].values[k],\n                        labelFormatString: labelFormatString,\n                        labelFontSize: fontSizeInPx,\n                    });\n                }\n\n                if (dataPoints.length > 0)\n                    series.push({\n                        fill: color,\n                        name: displayName,\n                        data: dataPoints,\n                        identity: serieIdentity,\n                    });\n            }\n\n            return {\n                legendData: legendData,\n                settings: legendSettings,\n                series: series,\n                dataLabelsSettings: dataLabelsSettings,\n            };\n        }\n\n        public constructor(options?: RadarChartConstructorOptions) {\n\n            if (options) {\n                if (options.svg)\n                    this.svg = options.svg;\n\n                if (options.animator)\n                    this.animator = options.animator;\n\n                if (options.margin)\n                    this.margin = options.margin;\n            }\n        }\n\n        public init(options: VisualInitOptions): void {\n            let element = options.element;\n            this.selectionManager = new SelectionManager({ hostServices: options.host });\n\n            if (!this.svg) {\n                this.svg = d3.select(element.get(0)).append('svg');\n                this.svg.style('position', 'absolute');\n            }\n\n            if (!this.margin)\n                this.margin = RadarChart.DefaultMargin;\n\n            this.svg.classed(RadarChart.VisualClassName, true);\n            this.interactivityService = visuals.createInteractivityService(options.host);\n            this.isInteractiveChart = options.interactivity && options.interactivity.isInteractiveLegend;\n            this.legend = createLegend(element,\n                this.isInteractiveChart,\n                this.interactivityService,\n                true,\n                LegendPosition.Top);\n            this.colors = options.style.colorPalette.dataColors;\n            this.mainGroupElement = this.svg.append('g');\n\n            this.segments = this.mainGroupElement\n                .append('g')\n                .classed(RadarChart.Segments.class, true);\n\n            this.axis = this.mainGroupElement\n                .append('g')\n                .classed(RadarChart.Axis.class, true);\n\n            this.chart = this.mainGroupElement\n                .append('g')\n                .classed(RadarChart.Chart.class, true);\n        }\n\n        public update(options: VisualUpdateOptions): void {\n            if (!options.dataViews || !options.dataViews[0])\n                return;\n\n            let dataView = options.dataViews[0];\n            this.radarChartData = RadarChart.converter(dataView, this.colors);\n            let categories: any[] = [],\n                series = this.radarChartData.series,\n                dataViewMetadataColumn: DataViewMetadataColumn,\n                duration = AnimatorCommon.GetAnimationDuration(this.animator, options.suppressAnimations);\n\n            if (dataView.categorical &&\n                dataView.categorical.categories &&\n                dataView.categorical.categories[0] &&\n                dataView.categorical.categories[0].values)\n                categories = dataView.categorical.categories[0].values;\n\n            if (dataView.metadata && dataView.metadata.columns && dataView.metadata.columns.length > 0)\n                dataViewMetadataColumn = dataView.metadata.columns[0];\n\n            this.viewport = {\n                height: options.viewport.height > 0 ? options.viewport.height : 0,\n                width: options.viewport.width > 0 ? options.viewport.width : 0\n            };\n\n            this.parseLegendProperties(dataView);\n            this.renderLegend(this.radarChartData);\n            this.updateViewport();\n\n            this.svg\n                .attr({\n                    'height': this.viewport.height,\n                    'width': this.viewport.width\n                });\n\n            let mainGroup = this.mainGroupElement;\n            mainGroup.attr('transform', SVGUtil.translate(this.viewport.width / 2, this.viewport.height / 2));\n           \n            let width: number = this.viewport.width - this.margin.left - this.margin.right;\n            let height: number = this.viewport.height - this.margin.top - this.margin.bottom;\n\n            this.angle = RadarChart.Radians / categories.length;\n            this.radius = RadarChart.SegmentFactor * RadarChart.Scale * Math.min(width, height) / 2;\n\n            this.drawCircularSegments(categories);\n            this.drawAxes(categories);\n            this.drawAxesLabels(categories, dataViewMetadataColumn);\n            this.drawChart(series, duration);\n            this.drawDataLabels(series);\n        }\n\n        private getRadarChartLabelLayout(labelSettings: PointDataLabelsSettings, allDataPoints: RadarChartDatapoint[]): ILabelLayout {\n\n            let formattersCache = dataLabelUtils.createColumnFormatterCacheManager();\n            let angle: number = this.angle;\n            let radius: number = this.radius;\n            let dataPoints: RadarChartDatapoint[][] = this.getDataPoints(this.radarChartData.series);\n            let stack = d3.layout.stack();\n            let layers = stack(dataPoints);\n            let viewport = this.viewport;\n            let halfHeight = this.viewport.height / 2;\n            let halfWidth = this.viewport.width / 2;\n            let y = d3.scale.linear()\n                .domain([0, d3.max(layers, (layer) => {\n                    return d3.max(layer, (d) => {\n                        return d.y0 + d.y;\n                    });\n                })]).range([0, radius]);\n\n            return {\n                labelText: (d: RadarChartDatapoint) => {\n\n                    let formmater = formattersCache.getOrCreate(d.labelFormatString, labelSettings);\n\n                    if (labelSettings.displayUnits === 0) {\n                        let maxDataPoint: RadarChartDatapoint = _.max(allDataPoints, d => d.value);\n                        let maxValue = maxDataPoint.value > 0 ? maxDataPoint.value : 0;\n\n                        formmater = formattersCache.getOrCreate(d.labelFormatString, labelSettings, maxValue);\n                    }\n                    return dataLabelUtils.getLabelFormattedText({ label: formmater.format(d.value), maxWidth: viewport.width, fontSize: labelSettings.fontSize });\n                },\n                labelLayout: {\n                    x: (d: RadarChartDatapoint) => -1 * y(d.y) * Math.sin(d.x * angle) + halfWidth,\n                    y: (d: RadarChartDatapoint) => -1 * y(d.y) * Math.cos(d.x * angle) + halfHeight - 10,\n                },\n                filter: (d: RadarChartDatapoint) => {\n                    return (d != null && d.value != null);\n                },\n                style: {\n                    'fill': labelSettings.labelColor,\n                    'font-size': (d: RadarChartDatapoint) => PixelConverter.fromPoint(labelSettings.fontSize),\n                },\n            };\n        }\n\n        private drawCircularSegments(values: string[]): void {\n            let data = [];\n            let angle: number = this.angle,\n                factor: number = RadarChart.SegmentFactor,\n                levels: number = RadarChart.SegmentLevels,\n                radius: number = this.radius;\n\n            for (let level = 0; level < levels - 1; level++) {\n                let levelFactor: number = radius * ((level + 1) / levels);\n                let transform: number = -1 * levelFactor;\n\n                for (let i = 0; i < values.length; i++)\n                    data.push({\n                        x1: levelFactor * (1 - factor * Math.sin(i * angle)),\n                        y1: levelFactor * (1 - factor * Math.cos(i * angle)),\n                        x2: levelFactor * (1 - factor * Math.sin((i + 1) * angle)),\n                        y2: levelFactor * (1 - factor * Math.cos((i + 1) * angle)),\n                        translate: SVGUtil.translate(transform, transform)\n                    });\n            }\n\n            let selection = this.mainGroupElement\n                .select(RadarChart.Segments.selector)\n                .selectAll(RadarChart.SegmentNode.selector)\n                .data(data);\n\n            selection\n                .enter()\n                .append('svg:line')\n                .classed(RadarChart.SegmentNode.class, true);\n            selection\n                .attr({\n                    'x1': item => item.x1,\n                    'y1': item => item.y1,\n                    'x2': item => item.x2,\n                    'y2': item => item.y2,\n                    'transform': item => item.translate\n                });\n\n            selection.exit().remove();\n        }\n\n        private drawDataLabels(series: RadarChartSeries[]): void {\n\n            let allDataPoints: RadarChartDatapoint[] = this.getAllDataPointsList(series);\n\n            if (this.radarChartData.dataLabelsSettings.show) {\n                let layout = this.getRadarChartLabelLayout(this.radarChartData.dataLabelsSettings, allDataPoints);\n                let viewport = this.viewport;\n                let labels = dataLabelUtils.drawDefaultLabelsForDataPointChart(allDataPoints, this.mainGroupElement, layout, viewport);\n\n                if (labels)\n                    labels.attr('transform', SVGUtil.translate(-(viewport.width / 2), -(viewport.height / 2)));\n            }\n            else\n                dataLabelUtils.cleanDataLabels(this.mainGroupElement);\n        }\n\n        private drawAxes(values: string[]): void {\n\n            let angle: number = this.angle,\n                radius: number = -1 * this.radius;\n\n            let selection: D3.Selection = this.mainGroupElement\n                .select(RadarChart.Axis.selector)\n                .selectAll(RadarChart.AxisNode.selector);\n\n            let axis = selection.data(values);\n\n            axis\n                .enter()\n                .append('svg:line');\n            axis\n                .attr({\n                    'x1': 0,\n                    'y1': 0,\n                    'x2': (name, i) => radius * Math.sin(i * angle),\n                    'y2': (name, i) => radius * Math.cos(i * angle)\n                })\n                .classed(RadarChart.AxisNode.class, true);\n\n            axis.exit().remove();\n        }\n\n        private drawAxesLabels(values: string[], dataViewMetadataColumn?: DataViewMetadataColumn): void {\n            let angle: number = this.angle,\n                radius: number = -1 * this.radius,\n                length: number = values.length;\n\n            let formatter = valueFormatter.create({\n                format: valueFormatter.getFormatString(dataViewMetadataColumn, RadarChart.formatStringProp, true),\n                value: values[0],\n                value2: values[length - 1],\n            });\n\n            let selection: D3.Selection = this.mainGroupElement\n                .select(RadarChart.Axis.selector)\n                .selectAll(RadarChart.AxisLabel.selector);\n\n            let labels = selection.data(values);\n\n            labels\n                .enter()\n                .append('svg:text');\n\n            labels\n                .attr({\n                    'text-anchor': 'middle',\n                    'dy': '1.5em',\n                    'transform': SVGUtil.translate(0, -10),\n                    'x': (name, i) => { return (radius - 20) * Math.sin(i * angle); },\n                    'y': (name, i) => { return (radius - 10) * Math.cos(i * angle); }\n                })\n                .text(item => formatter.format(item))\n                .classed(RadarChart.AxisLabel.class, true);\n\n            labels.exit().remove();\n        }\n\n        private drawChart(series: RadarChartSeries[], duration: number): void {\n            let angle: number = this.angle,\n                radius: number = this.radius,\n                dotRadius: number = 5,\n                dataPoints: RadarChartDatapoint[][] = this.getDataPoints(series);\n\n            let stack = d3.layout.stack();\n            let layers = stack(dataPoints);\n\n            let y = d3.scale.linear()\n                .domain([0, d3.max(layers, (layer) => {\n                    return d3.max(layer, (d) => {\n                        return d.y0 + d.y;\n                    });\n                })]).range([0, radius]);\n\n            let calculatePoints = (points) => {\n                return points.map((value) => {\n                    let x1 = -1 * y(value.y) * Math.sin(value.x * angle);\n                    let y1 = -1 * y(value.y) * Math.cos(value.x * angle);\n                    return `${x1},${y1}`;\n                }).join(' ');\n            };\n\n            let selection = this.chart.selectAll(RadarChart.ChartNode.selector).data(layers);\n\n            selection\n                .enter()\n                .append('g')\n                .classed(RadarChart.ChartNode.class, true);\n\n            let polygon = selection.selectAll(RadarChart.ChartPolygon.selector).data(d => {\n                if (d && d.length > 0) {\n                    return [d];\n                }\n\n                return [];\n            });\n            polygon\n                .enter()\n                .append('polygon')\n                .classed(RadarChart.ChartPolygon.class, true);\n            polygon\n                .style('fill', d => d[0].color)\n                .style('opacity', RadarChart.DimmedAreaFillOpacity)\n                .on('mouseover', function (d) {\n                    d3.select(this).transition()\n                        .duration(duration)\n                        .style('opacity', RadarChart.AreaFillOpacity);\n                })\n                .on('mouseout', function (d) {\n                    d3.select(this).transition()\n                        .duration(duration)\n                        .style('opacity', RadarChart.DimmedAreaFillOpacity);\n                })\n                .attr('points', calculatePoints);\n            polygon.exit().remove();\n\n            let dots = selection.selectAll(RadarChart.ChartDot.selector)\n                .data((d: RadarChartDatapoint[]) => { return d.filter(d => d.y != null); });\n\n            dots.enter()\n                .append('svg:circle')\n                .classed(RadarChart.ChartDot.class, true);\n            dots.attr('r', dotRadius)\n                .attr({\n                    'cx': (value) => -1 * y(value.y) * Math.sin(value.x * angle),\n                    'cy': (value) => -1 * y(value.y) * Math.cos(value.x * angle)\n                })\n                .style('fill', d => d.color);\n\n            dots.exit().remove();\n\n            TooltipManager.addTooltip(dots, (tooltipEvent: TooltipEvent) => tooltipEvent.data.tooltipInfo, true);\n\n            selection.exit().remove();\n\n            let behaviorOptions: RadarChartBehaviorOptions = undefined;\n\n            if (this.interactivityService) {\n                \t\t\t\t\t                      \n                // Register interactivity\n                let dataPointsToBind = this.getAllDataPointsList(series);\n\n                behaviorOptions = { selection: dots, clearCatcher: this.svg };\n                this.interactivityService.bind(dataPointsToBind, new RadarChartWebBehavior(), behaviorOptions);\n            }\n        }\n\n        private renderLegend(radarChartData: RadarChartData): void {\n            if (!radarChartData.legendData)\n                return;\n\n            let legendData: LegendData = radarChartData.legendData;\n\n            if (this.legendObjectProperties) {\n                LegendData.update(legendData, this.legendObjectProperties);\n                let position = <string>this.legendObjectProperties[legendProps.position];\n\n                if (position)\n                    this.legend.changeOrientation(LegendPosition[position]);\n            }\n            else\n                this.legend.changeOrientation(LegendPosition.Top);\n\n            let viewport = this.viewport;\n            this.legend.drawLegend(legendData, { height: viewport.height, width: viewport.width });\n            Legend.positionChartArea(this.svg, this.legend);\n        }\n\n        private getDataPoints(series: RadarChartSeries[]): RadarChartDatapoint[][] {\n            let dataPoints: RadarChartDatapoint[][] = [];\n\n            for (let serie of series) {\n                dataPoints.push(serie.data);\n            }\n\n            return dataPoints;\n        }\n\n        private getAllDataPointsList(series: RadarChartSeries[]): RadarChartDatapoint[] {\n            let dataPoints: RadarChartDatapoint[] = [];\n\n            for (let serie of series) {\n                dataPoints = dataPoints.concat(serie.data);\n            }\n\n            return dataPoints;\n        }\n\n        private parseLegendProperties(dataView: DataView): void {\n            if (!dataView || !dataView.metadata) {\n                this.legendObjectProperties = {};\n                return;\n            }\n\n            this.legendObjectProperties = DataViewObjects.getObject(dataView.metadata.objects, \"legend\", {});\n        }\n\n        private static parseSettings(dataView: DataView): RadarChartSettings {\n            let objects: DataViewObjects;\n\n            if (!dataView || !dataView.metadata || !dataView.metadata.columns || !dataView.metadata.objects)\n                objects = null;\n            else\n                objects = dataView.metadata.objects;\n\n            return {\n                showLegend: DataViewObjects.getValue(objects, RadarChart.Properties.legend.show, true)\n            };\n        }\n\n        private static parseLabelSettings(dataView: DataView): PointDataLabelsSettings {\n            let objects: DataViewObjects;\n\n            if (!dataView || !dataView.metadata || !dataView.metadata.objects)\n                objects = null;\n            else\n                objects = dataView.metadata.objects;\n\n            let dataLabelsSettings: PointDataLabelsSettings = dataLabelUtils.getDefaultPointLabelSettings();\n\n            let labelsObj: PointDataLabelsSettings = {\n                show: DataViewObjects.getValue(objects, RadarChart.Properties.labels.show, dataLabelsSettings.show),\n                labelColor: DataViewObjects.getFillColor(objects, RadarChart.Properties.labels.color, dataLabelsSettings.labelColor),\n                displayUnits: DataViewObjects.getValue(objects, RadarChart.Properties.labels.displayUnits, dataLabelsSettings.displayUnits),\n                precision: DataViewObjects.getValue(objects, RadarChart.Properties.labels.precision, dataLabelsSettings.precision),\n                fontSize: DataViewObjects.getValue(objects, RadarChart.Properties.labels.fontSize, dataLabelsSettings.fontSize),\n                position: dataLabelsSettings.position\n            };\n\n            return labelsObj;\n        }\n\n        // This function returns the values to be displayed in the property pane for each object.\n        // Usually it is a bind pass of what the property pane gave you, but sometimes you may want to do\n        // validation and return other values/defaults\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            let enumeration = new ObjectEnumerationBuilder();\n            let settings: RadarChartSettings;\n\n            if (!this.radarChartData || !this.radarChartData.settings)\n                return [];\n\n            settings = this.radarChartData.settings;\n\n            switch (options.objectName) {\n                case \"legend\":\n                    enumeration.pushInstance(this.enumerateLegend(settings));\n                    break;\n                case \"dataPoint\":\n                    this.enumerateDataPoint(enumeration);\n                    break;\n                case 'labels':\n                    this.enumerateDataLabels(enumeration);\n                    break;\n            }\n\n            return enumeration.complete();\n        }\n\n        private getLabelSettingsOptions(enumeration: ObjectEnumerationBuilder, labelSettings: PointDataLabelsSettings): VisualDataLabelsSettingsOptions {\n            return {\n                enumeration: enumeration,\n                dataLabelsSettings: labelSettings,\n                show: true,\n                displayUnits: true,\n                precision: true,\n                fontSize: true,\n            };\n        }\n\n        private enumerateDataLabels(enumeration: ObjectEnumerationBuilder): void {\n            let labelSettings = this.radarChartData.dataLabelsSettings;\n           \n            //Draw default settings\n            dataLabelUtils.enumerateDataLabels(this.getLabelSettingsOptions(enumeration, labelSettings));\n        }\n\n        private enumerateLegend(settings: RadarChartSettings): VisualObjectInstance {\n            let showTitle: boolean = true,\n                titleText: string = \"\",\n                legend: VisualObjectInstance,\n                labelColor: DataColorPalette,\n                fontSize: number = 8;\n\n            showTitle = DataViewObject.getValue(this.legendObjectProperties, legendProps.showTitle, showTitle);\n            titleText = DataViewObject.getValue(this.legendObjectProperties, legendProps.titleText, titleText);\n            labelColor = DataViewObject.getValue(this.legendObjectProperties, legendProps.labelColor, labelColor);\n            fontSize = DataViewObject.getValue(this.legendObjectProperties, legendProps.fontSize, fontSize);\n            legend = {\n                objectName: \"legend\",\n                displayName: \"legend\",\n                selector: null,\n                properties: {\n                    show: settings.showLegend,\n                    position: LegendPosition[this.legend.getOrientation()],\n                    showTitle: showTitle,\n                    titleText: titleText,\n                    labelColor: labelColor,\n                    fontSize: fontSize,\n                }\n            };\n\n            return legend;\n        }\n\n        private enumerateDataPoint(enumeration: ObjectEnumerationBuilder): void {\n            if (!this.radarChartData || !this.radarChartData.series)\n                return;\n\n            let series: RadarChartSeries[] = this.radarChartData.series;\n\n            for (let serie of series) {\n                enumeration.pushInstance({\n                    objectName: \"dataPoint\",\n                    displayName: serie.name,\n                    selector: ColorHelper.normalizeSelector(serie.identity.getSelector(), false),\n                    properties: {\n                        fill: { solid: { color: serie.fill } }\n                    }\n                });\n            }\n        }\n\n        private updateViewport(): void {\n            let legendMargins: IViewport = this.legend.getMargins(),\n                legendPosition: LegendPosition;\n\n            legendPosition = LegendPosition[<string>this.legendObjectProperties[legendProps.position]];\n\n            switch (legendPosition) {\n                case LegendPosition.Top:\n                case LegendPosition.TopCenter:\n                case LegendPosition.Bottom:\n                case LegendPosition.BottomCenter:\n                    this.viewport.height -= legendMargins.height;\n                    break;\n\n                case LegendPosition.Left:\n                case LegendPosition.LeftCenter:\n                case LegendPosition.Right:\n                case LegendPosition.RightCenter:\n                    this.viewport.width -= legendMargins.width;\n                    break;\n            }\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import SelectionManager = utility.SelectionManager;\n    import ValueFormatter = powerbi.visuals.valueFormatter;\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import getAnimationDuration = AnimatorCommon.GetAnimationDuration;\n\n    type D3Element =\n        D3.UpdateSelection |\n        D3.Selection |\n        D3.Selectors |\n        D3.Transition.Transition;\n\n    export interface HistogramConstructorOptions {\n        svg?: D3.Selection;\n        animator?: IGenericAnimator;\n        margin?: IMargin;\n    }\n\n    export interface HistogramSettings {\n        displayName?: string;\n        fillColor?: string;\n        frequency: boolean;\n        bins?: number;\n        precision: number;\n    }\n\n    export interface HistogramData extends D3.Layout.Bin, TooltipEnabledDataPoint {\n        range: number[];\n        selectionIds: SelectionId[];\n    }\n\n    export interface HistogramDataView {\n        data: HistogramData[];\n        xScale?: D3.Scale.LinearScale;\n        yScale?: D3.Scale.LinearScale;\n        settings: HistogramSettings;\n        formatter: IValueFormatter;\n    }\n\n    interface HistogramValue {\n        value: number;\n        selectionId: SelectionId;\n        frequency: number;\n    }\n\n    interface Legend {\n        text: string;\n        transform?: string;\n        dx?: string;\n        dy?: string;\n    }\n\n    interface Brackets {\n        left: string;\n        right: string;\n    }\n\n    interface HistogramProperty {\n        [propertyName: string]: DataViewObjectPropertyIdentifier;\n    }\n\n    interface HistogramProperties {\n        [objectName: string]: HistogramProperty;\n    }\n\n    export class HistogramChartWarning {\n        public static ErrorInvalidDataValues: string = \"Some data values are invalid or too big\";\n\n        private message: string;\n        constructor(message: string) {\n            this.message = message;\n        }\n\n        public get code(): string {\n            return \"BulletChartWarning\";\n        }\n\n        public getMessages(resourceProvider: jsCommon.IStringResourceProvider): IVisualErrorMessage {\n            return {\n                message: this.message,\n                title: resourceProvider.get(\"\"),\n                detail: resourceProvider.get(\"\")\n            };\n        }\n    }\n\n    export class Histogram implements IVisual {\n        private static ClassName: string = \"histogram\";\n        private static FrequencyText: string = \"Frequency\";\n        private static DensityText: string = \"Density\";\n\n        private static Properties: HistogramProperties = {\n            general: {\n                bins: {\n                    objectName: \"general\",\n                    propertyName: \"bins\"\n                },\n                frequency: {\n                    objectName: \"general\",\n                    propertyName: \"frequency\"\n                },\n                formatString: {\n                    objectName: \"general\",\n                    propertyName: \"formatString\"\n                }\n            },\n            dataPoint: {\n                fill: {\n                    objectName: \"dataPoint\",\n                    propertyName: \"fill\"\n                }\n            },\n            labels: {\n                labelPrecision: {\n                    objectName: \"labels\",\n                    propertyName: \"labelPrecision\"\n                }\n            }\n        };\n\n        private static DefaultHistogramSettings: HistogramSettings = {\n            frequency: true,\n            displayName: \"Histogram\",\n            bins: null,\n            fillColor: \"cadetblue\",\n            precision: 2\n        };\n\n        private static Axes: ClassAndSelector = {\n            \"class\": \"axes\",\n            selector: \".axes\"\n        };\n\n        private static Axis: ClassAndSelector = {\n            \"class\": \"axis\",\n            selector: \".axis\"\n        };\n\n        private static Columns: ClassAndSelector = {\n            \"class\": \"columns\",\n            selector: \".columns\"\n        };\n\n        private static Column: ClassAndSelector = {\n            \"class\": \"column\",\n            selector: \".column\"\n        };\n\n        private static Legends: ClassAndSelector = {\n            \"class\": \"legends\",\n            selector: \".legends\"\n        };\n\n        private static Legend: ClassAndSelector = {\n            \"class\": \"legend\",\n            selector: \".legend\"\n        };\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [{\n                name: \"Values\",\n                kind: VisualDataRoleKind.Grouping,\n                displayName: data.createDisplayNameGetter(\"Role_DisplayName_Values\")\n            }, {\n                name: \"Frequency\",\n                kind: VisualDataRoleKind.Measure,\n                displayName: \"Frequency\"\n            }],\n            dataViewMappings: [{\n                conditions: [{ \"Values\": { min: 1, max: 1 }, \"Frequency\": { min: 0, max: 1 } }],\n                categorical: {\n                    categories: {\n                        bind: { to: \"Values\" },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: { for: { in: \"Frequency\" } }\n                }\n            }],\n            sorting: {\n                implicit: {\n                    clauses: [{ role: \"Values\", direction: 1 /*SortDirection.Ascending*/ }] //Constant SortDirection.Ascending currently is not supported on the msit\n                }\n            },\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter(\"Visual_General\"),\n                    properties: {\n                        formatString: { type: { formatting: { formatString: true } } },\n                        bins: {\n                            displayName: \"Bins\",\n                            type: { numeric: true }\n                        },\n                        frequency: {\n                            displayName: \"Frequency\",\n                            type: { bool: true }\n                        }\n                    },\n                },\n                dataPoint: {\n                    displayName: data.createDisplayNameGetter(\"Visual_DataPoint\"),\n                    properties: {\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                labels: {\n                    displayName: data.createDisplayNameGetter('Visual_DataPointsLabels'),\n                    properties: {\n                        labelPrecision: {\n                            displayName: data.createDisplayNameGetter('Visual_Precision'),\n                            type: { numeric: true }\n                        }\n                    }\n                }\n            }\n        };\n\n        private ColumnPadding: number = 1;\n        private MinColumnHeight: number = 1;\n        private MinOpacity: number = 0.3;\n        private MaxOpacity: number = 1;\n        private NumberOfLabelsOnAxisY: number = 5;\n        private MinNumberOfBins: number = 0;\n        private MaxNumberOfBins: number = 100;\n        private MinPrecision: number = 0;\n        private MaxPrecision: number = 17; // max number of decimals in float\n        private TooltipDisplayName: string = \"Range\";\n        private SeparatorNumbers: string = \", \";\n        private LegendSize: number = 50;\n        private AxisSize: number = 30;\n\n        private ExcludeBrackets: Brackets = {\n            left: \"(\",\n            right: \")\"\n        };\n\n        private IncludeBrackets: Brackets = {\n            left: \"[\",\n            right: \"]\"\n        };\n\n        private margin: IMargin = {\n            top: 10,\n            right: 10,\n            bottom: 10,\n            left: 10\n        };\n\n        private durationAnimations: number = 200;\n\n        private viewport: IViewport;\n        private hostService: IVisualHostServices;\n        private selectionManager: SelectionManager;\n        private colors: IDataColorPalette;\n\n        private root: D3.Selection;\n        private svg: D3.Selection;\n        private main: D3.Selection;\n        private axes: D3.Selection;\n        private axisX: D3.Selection;\n        private axisY: D3.Selection;\n        private legend: D3.Selection;\n        private columns: D3.Selection;\n\n        private histogramDataView: HistogramDataView;\n\n        private animator: IGenericAnimator;\n\n        private get columnsSelection(): D3.Selection {\n            return this.main.select(Histogram.Columns.selector)\n                .selectAll(Histogram.Column.selector);\n        }\n\n        constructor(histogramConstructorOptions?: HistogramConstructorOptions) {\n            if (histogramConstructorOptions) {\n                if (histogramConstructorOptions.svg) {\n                    this.svg = histogramConstructorOptions.svg;\n                }\n\n                if (histogramConstructorOptions.animator) {\n                    this.animator = histogramConstructorOptions.animator;\n                }\n\n                this.margin = histogramConstructorOptions.margin || this.margin;\n            }\n        }\n\n        public init(visualsOptions: VisualInitOptions): void {\n            this.hostService = visualsOptions.host;\n\n            if (this.svg) {\n                this.root = this.svg;\n            } else {\n                this.root = d3.select(visualsOptions.element.get(0))\n                    .append(\"svg\");\n            }\n\n            var style: IVisualStyle = visualsOptions.style;\n\n            this.colors = style && style.colorPalette\n                ? style.colorPalette.dataColors\n                : new DataColorPalette();\n\n            this.root.classed(Histogram.ClassName, true);\n\n            this.main = this.root.append(\"g\");\n\n            this.axes = this.main\n                .append(\"g\")\n                .classed(Histogram.Axes[\"class\"], true);\n\n            this.axisX = this.axes\n                .append(\"g\")\n                .classed(Histogram.Axis[\"class\"], true);\n\n            this.axisY = this.axes\n                .append(\"g\")\n                .classed(Histogram.Axis[\"class\"], true);\n\n            this.legend = this.main\n                .append(\"g\")\n                .classed(Histogram.Legends[\"class\"], true);\n\n            this.columns = this.main\n                .append(\"g\")\n                .classed(Histogram.Columns[\"class\"], true);\n\n            this.selectionManager = new SelectionManager({ hostServices: visualsOptions.host });\n        }\n\n        public converter(dataView: DataView): HistogramDataView {\n            if (!dataView ||\n                !dataView.categorical ||\n                !dataView.categorical.categories ||\n                !dataView.categorical.categories[0] ||\n                !dataView.categorical.categories[0].values ||\n                !(dataView.categorical.categories[0].values.length > 0)) {\n                return null;\n            }\n\n            var settings: HistogramSettings,\n                histogramLayout: D3.Layout.HistogramLayout,\n                values: HistogramValue[],\n                numericalValues: number[] = [],\n                data: D3.Layout.Bin[],\n                xScale: D3.Scale.LinearScale,\n                yScale: D3.Scale.LinearScale,\n                valueFormatter: IValueFormatter,\n                frequencies: number[] = [],\n                identities: DataViewScopeIdentity[] = [],\n                shiftByValues: number = 0,\n                sumFrequency: number = 0;\n\n            if (dataView.categorical.values &&\n                dataView.categorical.values[0] &&\n                dataView.categorical.values[0].values) {\n                frequencies = dataView.categorical.values[0].values;\n            }\n\n            if (dataView.categorical.categories[0].identity\n                && dataView.categorical.categories[0].identity.length > 0) {\n                identities = dataView.categorical.categories[0].identity;\n            }\n\n            settings = this.parseSettings(dataView);\n\n            if (!settings) {\n                return null;\n            }\n\n            values = this.getValuesByFrequencies(\n                dataView.categorical.categories[0].values,\n                frequencies,\n                identities);\n\n            values.forEach((value: HistogramValue) => {\n                numericalValues.push(value.value);\n\n                sumFrequency += value.frequency;\n            });\n\n            histogramLayout = d3.layout.histogram();\n\n            if (settings.bins && settings.bins > this.MinNumberOfBins) {\n                histogramLayout = histogramLayout.bins(settings.bins);\n            }\n\n            data = histogramLayout.frequency(settings.frequency)(numericalValues);\n\n            data.forEach((bin: D3.Layout.Bin, index: number) => {\n                var filteredValues: HistogramValue[],\n                    frequency: number;\n\n                filteredValues = values.filter((value: HistogramValue) => {\n                    return this.isValueContainedInRange(value, bin, index);\n                });\n\n                frequency = filteredValues.reduce((previousValue: number, currentValue: HistogramValue): number => {\n                    return previousValue + currentValue.frequency;\n                }, 0);\n\n                bin.y = settings.frequency\n                    ? frequency\n                    : frequency / sumFrequency;\n\n                shiftByValues += bin.length;\n            });\n\n            xScale = d3.scale.linear()\n                .domain([\n                    d3.min(data, (item: D3.Layout.Bin) => d3.min(item)),\n                    d3.max(data, (item: D3.Layout.Bin) => d3.max(item))\n                ])\n                .range([0, this.viewport.width - this.LegendSize - this.AxisSize]);\n\n            yScale = d3.scale.linear()\n                .domain([\n                    0,\n                    d3.max(data, (item: D3.Layout.Bin) => item.y)\n                ])\n                .range([this.viewport.height - this.LegendSize, 0]);\n\n            valueFormatter = ValueFormatter.create({\n                format: ValueFormatter.getFormatString(\n                    dataView.categorical.categories[0].source, Histogram.Properties[\"general\"][\"formatString\"]),\n                value: values[0].value,\n                value2: values[values.length - 1].value,\n                precision: settings.precision\n            });\n\n            return {\n                xScale: xScale,\n                yScale: yScale,\n                settings: settings,\n                data: this.getData(values, numericalValues, data, settings, valueFormatter),\n                formatter: valueFormatter\n            };\n        }\n\n        private getValuesByFrequencies(sourceValues: number[], frequencies: number[], identities: DataViewScopeIdentity[]): HistogramValue[] {\n            var values: HistogramValue[] = [];\n\n            sourceValues.forEach((item: number, index: number) => {\n                var frequency: number = 1,\n                    value: number = Number(item);\n\n                value = isNaN(value) ? 0 : value;\n\n                if (frequencies\n                    && frequencies[index]\n                    && !isNaN(frequencies[index])\n                    && frequencies[index] > 1) {\n                    frequency = frequencies[index];\n                }\n\n                values.push({\n                    value: value,\n                    frequency: frequency,\n                    selectionId: SelectionId.createWithId(identities[index])\n                });\n            });\n\n            return values;\n        }\n\n        private getData(\n            values: HistogramValue[],\n            numericalValues: number[],\n            data: D3.Layout.Bin[],\n            settings: HistogramSettings,\n            valueFormatter: IValueFormatter): HistogramData[] {\n            var minValue: number = d3.min(numericalValues),\n                maxValue: number = d3.max(numericalValues);\n\n            return data.map((bin: HistogramData, index: number): HistogramData => {\n                bin.range = this.getRange(minValue, maxValue, bin.dx, index);\n                bin.tooltipInfo = this.getTooltipData(bin.y, bin.range, settings, index === 0, valueFormatter);\n                bin.selectionIds = this.getSelectionIds(values, bin, index);\n\n                return bin;\n            });\n        }\n\n        private getRange(minValue: number, maxValue: number, step: number, index: number): number[] {\n            var leftBorder: number = minValue + index * step,\n                rightBorder: number = leftBorder + step;\n\n            return [leftBorder, rightBorder];\n        }\n\n        private getTooltipData(\n            value: number,\n            range: number[],\n            settings: HistogramSettings,\n            includeLeftBorder: boolean,\n            valueFormatter: IValueFormatter): TooltipDataItem[] {\n\n            return [{\n                displayName: this.getLegendText(settings),\n                value: valueFormatter.format(value)\n            }, {\n                displayName: this.TooltipDisplayName,\n                value: this.rangeToString(range, includeLeftBorder, valueFormatter)\n            }];\n        }\n\n        private getSelectionIds(values: HistogramValue[], bin: HistogramData, index: number): SelectionId[] {\n            var selectionIds: SelectionId[] = [];\n\n            values.forEach((value: HistogramValue) => {\n                if (this.isValueContainedInRange(value, bin, index)) {\n                    selectionIds.push(value.selectionId);\n                }\n            });\n\n            return selectionIds;\n        }\n\n        private isValueContainedInRange(value: HistogramValue, bin: D3.Layout.Bin, index: number): boolean {\n            return ((index === 0 && value.value >= bin.x) || (value.value > bin.x)) && value.value <= bin.x + bin.dx;\n        }\n\n        private parseSettings(dataView: DataView): HistogramSettings {\n            if (!dataView ||\n                !dataView.metadata ||\n                !dataView.metadata.columns ||\n                !dataView.metadata.columns[0]) {\n                return null;\n            }\n\n            var histogramSettings: HistogramSettings = <HistogramSettings>{},\n                objects: DataViewObjects,\n                colorHelper: ColorHelper;\n\n            colorHelper = new ColorHelper(\n                this.colors,\n                Histogram.Properties[\"dataPoint\"][\"fill\"],\n                Histogram.DefaultHistogramSettings.fillColor);\n\n            histogramSettings.displayName = Histogram.DefaultHistogramSettings.displayName;\n            histogramSettings.fillColor = Histogram.DefaultHistogramSettings.fillColor;\n            histogramSettings.bins = Histogram.DefaultHistogramSettings.bins;\n            histogramSettings.frequency = Histogram.DefaultHistogramSettings.frequency;\n            histogramSettings.displayName =\n                dataView.metadata.columns[0].displayName || Histogram.DefaultHistogramSettings.displayName;\n\n            objects = this.getObjectsFromDataView(dataView);\n\n            if (objects) {\n                histogramSettings.fillColor = colorHelper.getColorForMeasure(objects, \"\");\n                histogramSettings.bins = this.getBins(objects);\n                histogramSettings.frequency = this.getFrequency(objects);\n                histogramSettings.precision = this.getPrecision(objects);\n            }\n\n            return histogramSettings;\n        }\n\n        private getBins(objects: DataViewObjects): number {\n            var binsNumber: number;\n\n            binsNumber = Number(DataViewObjects.getValue<number>(\n                objects,\n                Histogram.Properties[\"general\"][\"bins\"],\n                Histogram.DefaultHistogramSettings.bins));\n\n            if (!binsNumber || isNaN(binsNumber) || binsNumber <= this.MinNumberOfBins) {\n                return Histogram.DefaultHistogramSettings.bins;\n            }\n\n            if (binsNumber > this.MaxNumberOfBins) {\n                return this.MaxNumberOfBins;\n            }\n\n            return binsNumber;\n        }\n\n        private getFrequency(objects: DataViewObjects): boolean {\n            return DataViewObjects.getValue<boolean>(\n                objects,\n                Histogram.Properties[\"general\"][\"frequency\"],\n                Histogram.DefaultHistogramSettings.frequency);\n        }\n\n        private getPrecision(objects: DataViewObjects): number {\n            var precision: number = DataViewObjects.getValue(\n                objects,\n                Histogram.Properties[\"labels\"][\"labelPrecision\"],\n                Histogram.DefaultHistogramSettings.precision);\n\n            if (precision <= this.MinPrecision) {\n                return this.MinPrecision;\n            }\n\n            if (precision >= this.MaxPrecision) {\n                return this.MaxPrecision;\n            }\n\n            return precision;\n        }\n\n        public validateData(data: HistogramDataView): boolean {\n            if (data && data.data.some(x=> x.range.some(x => isNaN(x) || x === Infinity || x === -Infinity))) {\n                this.hostService.setWarnings([new HistogramChartWarning(HistogramChartWarning.ErrorInvalidDataValues)]);\n                return false;\n            }\n\n            return true;\n        }\n\n        public update(visualUpdateOptions: VisualUpdateOptions): void {\n            if (!visualUpdateOptions ||\n                !visualUpdateOptions.dataViews ||\n                !visualUpdateOptions.dataViews[0]) {\n                return;\n            }\n\n            var dataView: DataView = visualUpdateOptions.dataViews[0];\n\n            this.durationAnimations = getAnimationDuration(\n                this.animator,\n                visualUpdateOptions.suppressAnimations);\n\n            this.setSize(visualUpdateOptions.viewport);\n\n            this.histogramDataView = this.converter(dataView);\n            if (!this.validateData(this.histogramDataView)) {\n                this.histogramDataView.data = [];\n            }\n\n            this.render();\n        }\n\n        private setSize(viewport: IViewport): void {\n            var height: number,\n                width: number;\n\n            height = viewport.height -\n                this.margin.top -\n                this.margin.bottom;\n\n            width = viewport.width -\n                this.margin.left -\n                this.margin.right;\n\n            this.viewport = {\n                height: height,\n                width: width\n            };\n\n            this.updateElements(viewport.height, viewport.width);\n        }\n\n        private updateElements(height: number, width: number): void {\n            var shiftToRight: number = this.margin.left + this.LegendSize;\n\n            this.root.attr({\n                \"height\": height,\n                \"width\": width\n            });\n\n            this.main.attr(\"transform\", SVGUtil.translate(this.margin.left, this.margin.top));\n\n            this.legend.attr(\"transform\", SVGUtil.translate(this.margin.left, this.margin.top));\n\n            this.columns.attr(\"transform\", SVGUtil.translate(shiftToRight, 0));\n\n            this.axes.attr(\"transform\", SVGUtil.translate(shiftToRight, 0));\n\n            this.axisX.attr(\n                \"transform\",\n                SVGUtil.translate(0, this.viewport.height - this.LegendSize));\n        }\n\n        private render(): void {\n            if (!this.histogramDataView || !this.histogramDataView.settings) {\n                return;\n            }\n\n            this.renderAxes();\n            var columnsSelection: D3.UpdateSelection = this.renderColumns();\n            this.renderLegend();\n\n            this.bindSelectionHandler(columnsSelection);\n        }\n\n        private renderColumns(): D3.UpdateSelection {\n            var data: HistogramData[] = this.histogramDataView.data,\n                yScale: D3.Scale.LinearScale = this.histogramDataView.yScale,\n                countOfValues: number = data.length,\n                widthOfColumn: number,\n                updateColumnsSelection: D3.UpdateSelection;\n\n            widthOfColumn = countOfValues && ((this.viewport.width - this.AxisSize - this.LegendSize) / countOfValues - this.ColumnPadding);\n\n            if (widthOfColumn < 0) {\n                widthOfColumn = 0;\n            }\n\n            updateColumnsSelection = this.columnsSelection.data(data);\n\n            updateColumnsSelection\n                .enter()\n                .append(\"svg:rect\");\n\n            updateColumnsSelection\n                .attr(\"x\", this.ColumnPadding / 2)\n                .attr(\"width\", widthOfColumn)\n                .attr(\"height\", (item: HistogramData) => this.getColumnHeight(item, yScale))\n                .style(\"fill\", this.histogramDataView.settings.fillColor)\n                .attr(\"class\", Histogram.Column[\"class\"])\n                .attr(\"transform\", (item: HistogramData, index: number) => SVGUtil.translate(\n                    widthOfColumn * index + this.ColumnPadding * index,\n                    yScale(item.y) - this.ColumnPadding / 2.5));\n\n            if (countOfValues) {\n                //if data is empty, it throws for some reason\n                updateColumnsSelection.classed(Histogram.Column[\"class\"]);\n            }\n\n            updateColumnsSelection.exit().remove();\n\n            this.renderTooltip(updateColumnsSelection);\n\n            return updateColumnsSelection;\n        }\n\n        private renderTooltip(selection: D3.UpdateSelection): void {\n            TooltipManager.addTooltip(selection, (tooltipEvent: TooltipEvent) => {\n                return (<HistogramData> tooltipEvent.data).tooltipInfo;\n            });\n        }\n\n        private getColumnHeight(column: D3.Layout.Bin, y: D3.Scale.LinearScale): number {\n            var height: number = this.viewport.height - this.LegendSize - y(column.y);\n\n            return height > 0 ? height : this.MinColumnHeight;\n        }\n\n        private renderAxes(): void {\n            var xScale: D3.Scale.LinearScale = this.histogramDataView.xScale,\n                yScale: D3.Scale.LinearScale = this.histogramDataView.yScale,\n                valueFormatter: IValueFormatter = this.histogramDataView.formatter,\n                xAxis: D3.Svg.Axis,\n                yAxis: D3.Svg.Axis;\n\n            xAxis = d3.svg.axis()\n                .scale(xScale)\n                .orient(\"bottom\")\n                .tickValues(this.rangesToArray(this.histogramDataView.data))\n                .tickFormat((item: number) => valueFormatter.format(item));\n\n            yAxis = d3.svg.axis()\n                .scale(yScale)\n                .orient(\"left\")\n                .ticks(this.NumberOfLabelsOnAxisY);\n\n            this.axisX.call(xAxis);\n\n            this.axisY.call(yAxis);\n        }\n\n        private rangesToArray(data: HistogramData[]): number[] {\n            return data.reduce((previousValue: number[], currentValue: HistogramData, index: number) => {\n                var range: number[];\n\n                range = index === 0\n                    ? currentValue.range\n                    : currentValue.range.slice(1);\n\n                return previousValue.concat(range);\n            }, []);\n        }\n\n        private rangeToString(range: number[], includeLeftBorder: boolean, valueFormatter: IValueFormatter): string {\n            var leftBracket: string,\n                rightBracket: string = this.IncludeBrackets.right,\n                leftBorder: string = valueFormatter.format(range[0]),\n                rightBorder: string = valueFormatter.format(range[1]);\n\n            leftBracket = includeLeftBorder\n                ? this.IncludeBrackets.left\n                : this.ExcludeBrackets.left;\n\n            return `${leftBracket}${leftBorder}${this.SeparatorNumbers}${rightBorder}${rightBracket}`;\n        }\n\n        private renderLegend(): void {\n            var legendElements: D3.Selection,\n                legendSelection: D3.UpdateSelection,\n                datalegends: Legend[] = this.getDataLegends(this.histogramDataView.settings);\n\n            legendElements = this.main\n                .select(Histogram.Legends.selector)\n                .selectAll(Histogram.Legend.selector);\n\n            legendSelection = legendElements.data(datalegends);\n\n            legendSelection\n                .enter()\n                .append(\"svg:text\");\n\n            legendSelection\n                .attr(\"x\", 0)\n                .attr(\"y\", 0)\n                .attr(\"dx\", (item: Legend) => item.dx)\n                .attr(\"dy\", (item: Legend) => item.dy)\n                .attr(\"transform\", (item: Legend) => item.transform)\n                .attr(\"class\", Histogram.Legend[\"class\"])\n                .text((item: Legend) => item.text)\n                .classed(Histogram.Legend[\"class\"], true);\n\n            legendSelection\n                .exit()\n                .remove();\n        }\n\n        private getDataLegends(settings: HistogramSettings): Legend[] {\n            var bottomLegendText: string = this.getLegendText(settings);\n\n            return [{\n                transform: SVGUtil.translate(\n                    this.viewport.width / 2,\n                    this.viewport.height),\n                text: settings.displayName,\n                dx: \"1em\",\n                dy: \"-1em\"\n            }, {\n                transform: SVGUtil.translateAndRotate(\n                    0,\n                    this.viewport.height / 2,\n                    0,\n                    0,\n                    270),\n                text: bottomLegendText,\n                dx: \"3em\"\n            }];\n        }\n\n        private getLegendText(settings: HistogramSettings): string {\n            return settings.frequency\n                ? Histogram.FrequencyText\n                : Histogram.DensityText;\n        }\n\n        private bindSelectionHandler(columnsSelection: D3.UpdateSelection): void {\n            this.setSelection(columnsSelection);\n\n            columnsSelection.on(\"click\", (data: HistogramData) => {\n                this.selectionManager.clear();\n\n                data.selectionIds.forEach((selectionId: SelectionId) => {\n                    this.selectionManager.select(selectionId, true).then((selectionIds: SelectionId[]) => {\n                        if (selectionIds.length > 0) {\n                            this.setSelection(columnsSelection, data);\n                        } else {\n                            this.setSelection(columnsSelection);\n                        }\n                    });\n                });\n\n                d3.event.stopPropagation();\n            });\n\n            this.root.on(\"click\", () => {\n                this.selectionManager.clear();\n                this.setSelection(columnsSelection);\n            });\n        }\n\n        private setSelection(columnsSelection: D3.UpdateSelection, data?: HistogramData): void {\n            columnsSelection.transition()\n                .duration(this.durationAnimations)\n                .style(\"fill-opacity\", this.MaxOpacity);\n\n            if (!data) {\n                return;\n            }\n\n            columnsSelection\n                .filter((columnSelection: HistogramData) => {\n                    return columnSelection !== data;\n                })\n                .transition()\n                .duration(this.durationAnimations)\n                .style(\"fill-opacity\", this.MinOpacity);\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstance[] {\n            var instances: VisualObjectInstance[] = [],\n                settings: HistogramSettings;\n\n            if (!this.histogramDataView ||\n                !this.histogramDataView.settings) {\n                return instances;\n            }\n\n            settings = this.histogramDataView.settings;\n\n            switch (options.objectName) {\n                case \"general\": {\n                    var general: VisualObjectInstance = {\n                        objectName: \"general\",\n                        displayName: \"general\",\n                        selector: null,\n                        properties: {\n                            bins: settings.bins,\n                            frequency: settings.frequency\n                        }\n                    };\n\n                    instances.push(general);\n                    break;\n                }\n                case \"dataPoint\": {\n                    var dataPoint: VisualObjectInstance = {\n                        objectName: \"dataPoint\",\n                        displayName: \"dataPoint\",\n                        selector: null,\n                        properties: {\n                            fill: settings.fillColor\n                        }\n                    };\n\n                    instances.push(dataPoint);\n                    break;\n                }\n                case \"labels\": {\n                    var labels: VisualObjectInstance = {\n                        objectName: \"labels\",\n                        displayName: \"labels\",\n                        selector: null,\n                        properties: {\n                            labelPrecision: settings.precision\n                        }\n                    };\n\n                    instances.push(labels);\n                    break;\n                }\n            }\n\n            return instances;\n        }\n\n        private getObjectsFromDataView(dataView: DataView): DataViewObjects {\n            if (!dataView ||\n                !dataView.metadata ||\n                !dataView.metadata.columns ||\n                !dataView.metadata.objects) {\n                    return null;\n            }\n\n            return dataView.metadata.objects;\n        }\n\n        public destroy(): void {\n            this.root = null;\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import ValueFormatter = powerbi.visuals.valueFormatter;\n    \n    export interface ColorBarChartData {\n        category: string;\n        value: number;\n        color: string;\n    }\n    \n    export interface ColorBarChartDataView {\n        values: ColorBarChartData[];\n    }\n\n    export class ColorBarChart implements IVisual {\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [{\n                displayName: 'Values',\n                name: 'Values',\n                kind: VisualDataRoleKind.GroupingOrMeasure\n            }],\n            dataViewMappings: [{\n                table: {\n                    rows: {\n                        for: { in: 'Values' },\n                        dataReductionAlgorithm: { window: { count: 100 } }\n                    },\n                    rowCount: { preferred: { min: 1 } }\n                },\n            }],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter('Visual_General'),\n                    properties: {\n                        fill: {\n                            type: { fill: { solid: { color: true } } },\n                            displayName: 'Fill'\n                        },\n                        size: {\n                            type: { numeric: true },\n                            displayName: 'Size'\n                        }\n                    },\n                }\n            },\n        };\n\n        private viewport: IViewport;\n        private root: D3.Selection;\n        private main: D3.Selection;\n        private dataView: DataView;\n        private NumberOfLabelsOnAxisY: number = 5;\n        private axes: D3.Selection;\n        private axisX: D3.Selection;\n        private axisY: D3.Selection;\n        private xAxis: D3.Svg.Axis;\n        private yAxis: D3.Svg.Axis;\n        private columns: D3.Selection;\n        private valueFormatter: IValueFormatter;\n        private xScale: D3.Scale.OrdinalScale;\n        private yScale: D3.Scale.LinearScale;\n        \n        private margin: IMargin = {\n            top: 10,\n            right: 10,\n            bottom: 20,\n            left: 40\n        };\n\n        public static converter(dataView: DataView): ColorBarChartDataView {\n            var viewModel: ColorBarChartDataView = {\n                values: []\n            };\n            var table = dataView.table;\n            if (!table) return viewModel;\n            \n            for (var row of table.rows) {\n                var chartData: ColorBarChartData = {\n                    category: row[0],\n                    value: row[1],\n                    color: row[2]\n                };\n                viewModel.values.push(chartData);\n            }\n\n            return viewModel;\n        }\n\n        public init(options: VisualInitOptions): void {\n            this.root = d3.select(options.element.get(0))\n                .append('svg')\n                .classed('colorBarChart', true);\n                \n            this.main = this.root.append('g');\n            \n            this.axes = this.main\n                .append(\"g\")\n                .classed(\"axes\", true);\n\n            this.axisX = this.axes\n                .append(\"g\")\n                .classed(\"axis\", true);\n\n            this.axisY = this.axes\n                .append(\"g\")\n                .classed(\"axis\", true);\n        }\n\n        public update(options: VisualUpdateOptions) {\n            if (!options.dataViews && !options.dataViews[0]) return;\n            var dataView = this.dataView = options.dataViews[0];\n            var viewModel: ColorBarChartDataView = ColorBarChart.converter(dataView);\n            \n            this.valueFormatter = ValueFormatter.create({\n                value: viewModel.values[0].value,\n                value2: viewModel.values[viewModel.values.length - 1].value\n            });\n\n            this.viewport = options.viewport;\n            \n            this.setSize(options.viewport);\n        \n            this.renderAxes(viewModel);\n            \n            this.renderColumns(viewModel);\n        }\n        \n        private renderAxes(viewModel: ColorBarChartDataView): void {\n            var valueFormatter: IValueFormatter = this.valueFormatter;\n\n            this.xScale = d3.scale.ordinal()\n                        .domain(viewModel.values.map((v: ColorBarChartData) => { return v.category; }))\n                        .rangeRoundBands([0, this.viewport.width], .1);\n\n            this.yScale = d3.scale.linear()\n                      .domain([0, d3.max(viewModel.values.map((v: ColorBarChartData) => { return v.value; }))])\n                      .range([this.viewport.height, 0]);\n\n            this.xAxis = d3.svg.axis()\n                .scale(this.xScale)\n                .orient(\"bottom\")\n                .tickValues(viewModel.values.map((v: ColorBarChartData) => { return v.category; }));\n\n            this.yAxis = d3.svg.axis()\n                .scale(this.yScale)\n                .orient(\"left\")\n                .tickFormat((item: number) => valueFormatter.format(item))\n                .ticks(this.NumberOfLabelsOnAxisY);\n\n            this.axisX.call(this.xAxis);\n\n            this.axisY.call(this.yAxis);\n        }\n        \n        private renderColumns(viewModel: ColorBarChartDataView): void {\n            var self = this;\n            this.columns = this.main.append('g').selectAll('.column')\n                            .data(viewModel.values)\n                            .enter().append('svg:rect')\n                            .attr('class', 'column')\n                            .attr('fill', (item: ColorBarChartData) => { return item.color; })\n                            .attr('x', (item: ColorBarChartData) => this.xScale(item.category))\n                            .attr('y', (item: ColorBarChartData) => this.yScale(item.value))\n                            .attr('width', this.xScale.rangeBand())\n                            .attr('height', (item: ColorBarChartData) => { return self.viewport.height - this.yScale(item.value); });\n        }\n        \n        private setSize(viewport: IViewport): void {\n            var height: number,\n                width: number;\n\n            height = viewport.height -\n                this.margin.top -\n                this.margin.bottom;\n\n            width = viewport.width -\n                this.margin.left -\n                this.margin.right;\n\n            this.viewport = {\n                height: height,\n                width: width\n            };\n\n            this.updateElements(viewport.height, viewport.width);\n        }\n\n        private updateElements(height: number, width: number): void {\n            var shiftToRight: number = 0;\n\n            this.root.attr({\n                \"height\": height,\n                \"width\": width\n            });\n\n            this.main.attr(\"transform\", SVGUtil.translate(this.margin.left, this.margin.top));\n\n            this.axes.attr(\"transform\", SVGUtil.translate(shiftToRight, 0));\n\n            this.axisX.attr(\n                \"transform\",\n                SVGUtil.translate(0, this.viewport.height));\n        }\n\n        private static getFill(dataView: DataView): Fill {\n            if (dataView) {\n                var objects = dataView.metadata.objects;\n                if (objects) {\n                    var general = objects['general'];\n                    if (general) {\n                        var fill = <Fill>general['fill'];\n                        if (fill)\n                            return fill;\n                    }\n                }\n            }\n            return { solid: { color: 'red' } };\n        }\n\n        private static getSize(dataView: DataView): number {\n            if (dataView) {\n                var objects = dataView.metadata.objects;\n                if (objects) {\n                    var general = objects['general'];\n                    if (general) {\n                        var size = <number>general['size'];\n                        if (size)\n                            return size;\n                    }\n                }\n            }\n            return 100;\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstance[] {\n            var instances: VisualObjectInstance[] = [];\n            var dataView = this.dataView;\n            switch (options.objectName) {\n                case 'general':\n                    var general: VisualObjectInstance = {\n                        objectName: 'general',\n                        displayName: 'General',\n                        selector: null,\n                        properties: {\n                            fill: ColorBarChart.getFill(dataView),\n                            size: ColorBarChart.getSize(dataView)\n                        }\n                    };\n                    instances.push(general);\n                    break;\n            }\n\n            return instances;\n        }\n\n        public destroy(): void {\n            this.root = null;\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import getAnimationDuration = AnimatorCommon.GetAnimationDuration;\n    import CreateClassAndSelector = jsCommon.CssConstants.createClassAndSelector;\n    import AxisScale = powerbi.visuals.axisScale;\n    import PixelConverter = jsCommon.PixelConverter;\n\n    const MaxXAxisHeight: number = 40;\n    const LabelMargin: number = 15;\n    const DefaultRadius: number = 5;\n    const DefaultStrokeWidth: number = 1;\n    const DefaultDataPointColor = \"#00B8AA\";\n    const MinPrecision: number = 0;\n    const MaxPrecision: number = 17;\n\n    export const DotPlotProperties: any = {\n        general: {\n            formatString: <DataViewObjectPropertyIdentifier>{\n                objectName: \"general\",\n                propertyName: \"formatString\"\n            }\n        },\n        labels: {\n            show: <DataViewObjectPropertyIdentifier>{\n                objectName: \"labels\",\n                propertyName: \"show\"\n            },\n            fontSize: <DataViewObjectPropertyIdentifier>{\n                objectName: \"labels\",\n                propertyName: \"fontSize\"\n            },\n            labelPrecision: <DataViewObjectPropertyIdentifier>{\n                objectName: \"labels\",\n                propertyName: \"labelPrecision\"\n            },\n            labelDisplayUnits: <DataViewObjectPropertyIdentifier>{\n                objectName: \"labels\",\n                propertyName: \"labelDisplayUnits\"\n            },\n            labelColor: <DataViewObjectPropertyIdentifier>{\n                objectName: \"labels\",\n                propertyName: \"labelColor\"\n            }\n        },\n        dataPoint: {\n            fill: <DataViewObjectPropertyIdentifier>{\n                objectName: \"dataPoint\",\n                propertyName: \"fill\"\n            }\n        },\n        categories: {\n            show: <DataViewObjectPropertyIdentifier>{\n                objectName: \"categories\",\n                propertyName: \"show\"\n            },\n            fontColor: <DataViewObjectPropertyIdentifier>{\n                objectName: \"categories\",\n                propertyName: \"fontColor\"\n            },\n            fontSize: <DataViewObjectPropertyIdentifier>{\n                objectName: \"categories\",\n                propertyName: \"fontSize\"\n            }\n        }\n    };\n\n    export interface DotPlotSelectors {\n        svgPlotSelector: ClassAndSelector;\n        plotSelector: ClassAndSelector;\n        plotGroupSelector: ClassAndSelector;\n        axisSelector: ClassAndSelector;\n        xAxisSelector: ClassAndSelector;\n        circleSeletor: ClassAndSelector;\n    }\n\n    export interface DotPlotChartCategory {\n        value: string;\n        selectionId: SelectionId;\n    }\n\n    export interface DotPlotConstructorOptions {\n        animator?: IGenericAnimator;\n        svg?: D3.Selection;\n        margin?: IMargin;\n        radius?: number;\n        strokeWidth?: number;\n    }\n\n    export interface DotPlotDataPoint {\n        x: number;\n        y: number;\n        tooltipInfo: TooltipDataItem[];\n    }\n\n    export interface DotPlotSettings {\n        labelSettings?: VisualDataLabelsSettings;\n        formatter?: IValueFormatter;\n        tooltipFormatter?: IValueFormatter;\n        categorySettings?: DotPlotCategorySettings;\n        defaultDataPointColor?: string;\n    }\n\n    export interface DotPlotCategorySettings {\n        show?: boolean;\n        fontColor?: string;\n        fontSize?: number;\n    }\n\n    export interface DotPlotDataGroup extends SelectableDataPoint {\n        label?: string;\n        value?: number;\n        color?: string;\n        tooltipInfo?: TooltipDataItem[];\n        dataPoints: DotPlotDataPoint[];\n        labelFontSize: string;\n        highlight?: boolean;\n    }\n\n    export interface DotPlotDataView {\n        displayName: string;\n        dataPoints: DotPlotDataGroup[];\n        values: any[];\n        settings: DotPlotSettings;\n        categories: DotPlotChartCategory[];\n    }\n\n    export class DotPlot implements IVisual {\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [{\n                name: 'Category',\n                kind: powerbi.VisualDataRoleKind.Grouping,\n                displayName: 'Category'\n            },\n                {\n                    name: \"Values\",\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Values'\n                }],\n            dataViewMappings: [{\n                conditions: [\n                    { 'Category': { max: 1 }, 'Values': { max: 1 } },\n                ],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        group: {\n                            by: \"Series\",\n                            select: [{ for: { in: \"Values\" } }],\n                            dataReductionAlgorithm: { top: {} }\n                        }\n                    }\n                },\n            }],\n            objects: {\n                general: {\n                    displayName: 'General',\n                    properties: {\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        },\n                    },\n                },\n                dataPoint: {\n                    displayName: 'Data colors',\n                    properties: {\n                        fill: {\n                            displayName: 'Fill',\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                labels: {\n                    displayName: \"Data labels\",\n                    description: 'Display data label options',\n                    properties: {\n                        show: {\n                            displayName: 'Show',\n                            type: { bool: true }\n                        },\n                        showSeries: {\n                            displayName: 'Show',\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: 'Color',\n                            description: 'Select color for data labels',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        labelDisplayUnits: {\n                            displayName: 'Display units',\n                            description: 'Select the units (millions, billions, etc.)',\n                            type: { formatting: { labelDisplayUnits: true } },\n                            suppressFormatPainterCopy: true\n                        },\n                        labelPrecision: {\n                            displayName: 'Decimal places',\n                            description: 'Select the number of decimal places to display',\n                            placeHolderText: 'Auto',\n                            type: { numeric: true },\n                            suppressFormatPainterCopy: true\n                        },\n                        showAll: {\n                            displayName: 'Customize series',\n                            type: { bool: true }\n                        },\n                        fontSize: {\n                            displayName: 'Text Size',\n                            type: { formatting: { fontSize: true } }\n                        },\n                    }\n                }\n            }\n        };\n\n        private DefaultMargin: IMargin = {\n            top: 10,\n            bottom: 10,\n            right: 20,\n            left: 20\n        };\n\n        private svg: D3.Selection;\n        private xAxis: D3.Selection;\n        private dotPlot: D3.Selection;\n        private clearCatcher: D3.Selection;\n        private behavior: IInteractiveBehavior;\n\n        private colors: IDataColorPalette;\n        private dataView: DataView;\n        private animator: IGenericAnimator;\n        private durationAnimations: number = 200;\n        private dotPlotDataView: DotPlotDataView;\n\n        private radius: number;\n        private strokeWidth: number;\n        private interactivityService: IInteractivityService;\n        private scaleType: string = AxisScale.linear;\n        private textProperties: TextProperties = {\n            fontFamily: 'wf_segoe-ui_normal',\n            fontSize: jsCommon.PixelConverter.toString(9),\n        };\n\n        private dotPlotSelectors: DotPlotSelectors =\n        {\n            svgPlotSelector: CreateClassAndSelector('dotplot'),\n            plotSelector: CreateClassAndSelector('dotplotSelector'),\n            plotGroupSelector: CreateClassAndSelector('dotplotGroup'),\n            axisSelector: CreateClassAndSelector('axisGraphicsContext'),\n            xAxisSelector: CreateClassAndSelector('x axis'),\n            circleSeletor: CreateClassAndSelector('circleSelector'),\n        };\n\n        private DefaultDotPlotSettings: DotPlotSettings = {\n            labelSettings: {\n                show: true,\n                precision: 2,\n                fontSize: dataLabelUtils.DefaultFontSizeInPt,\n                displayUnits: 0,\n                labelColor: dataLabelUtils.defaultLabelColor,\n            },\n            categorySettings: {\n                show: true,\n                fontColor: LegendData.DefaultLegendLabelFillColor\n            },\n            defaultDataPointColor: DefaultDataPointColor\n        };\n\n        private static getTooltipData(value: number): TooltipDataItem[] {\n            return [{\n                displayName: \"Value\",\n                value: value.toString()\n            }];\n        }\n\n        public static converter(dataView: DataView, scale: D3.Scale.OrdinalScale, defaultMargin: IMargin, defaultSetting: DotPlotSettings, colors: IDataColorPalette, viewport: IViewport, radius: number): DotPlotDataView {\n            let values: DataViewValueColumns = dataView.categorical.values,\n                dataPointsGroup: DotPlotDataGroup[] = [],\n                displayName: string = dataView.categorical.categories[0].source.displayName,\n                objects: DataViewObjects = this.getObjectsFromDataView(dataView),\n                settings: DotPlotSettings,\n                defaultColor = DataViewObjects.getFillColor(objects, DotPlotProperties.dataPoint.fill, colors.getColorByIndex(0).value);\n\n            let categories: DotPlotChartCategory[] = dataView.categorical.categories[0].values.map((x, i) => <DotPlotChartCategory>{\n                value: x,\n                selectionId: SelectionId.createWithId(dataView.categorical.categories[0].identity[i])\n            });\n\n            settings = {\n                categorySettings: this.getCategorySettings(objects, defaultSetting),\n                defaultDataPointColor: defaultColor,\n                labelSettings: this.parseSettings(objects, defaultSetting)\n            };\n\n            let categoryColumn = dataView.categorical.categories[0];\n            let diameter: number = 2 * radius + 1;\n            let dotsTotalHeight: number = viewport.height - radius - MaxXAxisHeight;\n            let maxDots: number = Math.floor((dotsTotalHeight - defaultMargin.top) / diameter) - 1;\n            let fontSizeInPx: string = PixelConverter.fromPoint(settings.labelSettings.fontSize);\n\n            let yScale: D3.Scale.LinearScale = d3.scale.linear()\n                .domain([0, maxDots])\n                .range([dotsTotalHeight - defaultMargin.bottom, defaultMargin.top + defaultMargin.bottom]);\n\n            for (let value of values) {\n                let min = _.min(value.values);\n                let max = _.max(value.values);\n\n                let color = DataViewObjects.getFillColor(objects, DotPlotProperties.dataPoint.fill, colors.getColorByIndex(0).value);\n                let length = value.values.length;\n                let minDots = min / (max / maxDots);\n                let dotsScale = d3.scale.log().domain([min, max]).range([minDots === 0 ? 1 : minDots, maxDots]).clamp(true);\n\n                for (let k = 0; k < length; k++) {\n                    let y = dotsScale(value.values[k]);\n                    let dataPoints: DotPlotDataPoint[] = [];\n\n                    for (let level = 0; level < y; level++) {\n                        dataPoints.push({\n                            x: scale(categories[k].value) + scale.rangeBand() / 2,\n                            y: yScale(level),\n                            tooltipInfo: DotPlot.getTooltipData(value.values[k])\n                        });\n                    }\n\n                    let categorySelectionId = SelectionIdBuilder.builder().withCategory(categoryColumn, k).createSelectionId();\n                    let tooltipInfo = DotPlot.getTooltipData(value.values[k]);\n\n                    dataPointsGroup.push({\n                        selected: false,\n                        value: value.values[k],\n                        label: value.values[k],\n                        color: color,\n                        identity: categorySelectionId,\n                        tooltipInfo: tooltipInfo,\n                        dataPoints: dataPoints,\n                        labelFontSize: fontSizeInPx,\n                    });\n                }\n            }\n\n            return {\n                dataPoints: dataPointsGroup,\n                values: dataView.categorical.categories[0].values,\n                displayName: displayName,\n                categories: categories,\n                settings: settings\n            };\n        }\n\n        public constructor(options?: DotPlotConstructorOptions) {\n            if (options) {\n                if (options.svg) {\n                    this.svg = options.svg;\n                }\n                if (options.animator) {\n                    this.animator = options.animator;\n                }\n\n                this.radius = options.radius || DefaultRadius;\n                this.strokeWidth = options.strokeWidth || DefaultStrokeWidth;\n            }\n        }\n\n        public init(options: VisualInitOptions): void {\n            let element = options.element;\n            this.behavior = new DotplotBehavior();\n\n            this.interactivityService = createInteractivityService(options.host);\n            this.radius = DefaultRadius;\n            this.strokeWidth = DefaultStrokeWidth;\n            this.colors = options.style.colorPalette.dataColors;\n\n            this.svg = d3.select(element.get(0)).append('svg').classed(this.dotPlotSelectors.svgPlotSelector.class, true).style('position', 'absolute');\n            this.clearCatcher = appendClearCatcher(this.svg);\n\n            let axisGraphicsContext = this.svg.append('g').classed(this.dotPlotSelectors.axisSelector.class, true);\n            this.dotPlot = this.svg.append('g').classed(this.dotPlotSelectors.plotSelector.class, true);\n            this.xAxis = axisGraphicsContext.append(\"g\").classed(this.dotPlotSelectors.xAxisSelector.class, true);\n        }\n\n        public update(options: VisualUpdateOptions): void {\n            if (!options.dataViews || !options.dataViews[0]) return;\n\n            this.durationAnimations = getAnimationDuration(this.animator, options.suppressAnimations);\n            let dataView = this.dataView = options.dataViews[0];\n            let viewport = options.viewport;\n\n            if (!dataView ||\n                !dataView.categorical ||\n                !dataView.categorical.values ||\n                dataView.categorical.values.length < 1 ||\n                !dataView.categorical ||\n                !dataView.categorical.categories ||\n                !dataView.categorical.categories[0]) {\n                this.clearData();\n                return;\n            }\n\n            let viewportIn: IViewport =\n                {\n                    height: (viewport.height - this.DefaultMargin.top),\n                    width: (viewport.width - this.DefaultMargin.left)\n                };\n\n            this.svg.style({\n                height: PixelConverter.toString(viewport.height),\n                width: PixelConverter.toString(viewport.width)\n            });\n\n            let xAxisProperties = this.calculateAxes(viewportIn, this.textProperties, false);\n            let data = DotPlot.converter(dataView, <D3.Scale.OrdinalScale>xAxisProperties.scale, this.DefaultMargin, this.DefaultDotPlotSettings, this.colors, viewport, this.radius);\n\n            this.dotPlotDataView = data;\n            let dataPoints = data.dataPoints;\n\n            if (this.interactivityService)\n                this.interactivityService.applySelectionStateToData(dataPoints);\n\n            this.renderAxis(viewportIn.height - MaxXAxisHeight, xAxisProperties, data, this.durationAnimations);\n            this.drawDotPlot(dataPoints, data.settings);\n\n            let dataLabelsSettings = data.settings.labelSettings;\n            if (dataLabelsSettings.show) {\n                let layout = this.getEnhanchedDotplotLayout(dataLabelsSettings, viewportIn);\n                dataLabelUtils.drawDefaultLabelsForDataPointChart(dataPoints, this.svg, layout, viewportIn, !options.suppressAnimations, this.durationAnimations);\n            }\n            else {\n                dataLabelUtils.cleanDataLabels(this.svg);\n            }\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            let enumeration = new ObjectEnumerationBuilder();\n\n            switch (options.objectName) {\n                case 'dataPoint':\n                    this.enumerateDataPoints(enumeration, this.dataView);\n                    break;\n                case 'labels':\n                    this.enumerateDataLabels(enumeration, this.dataView);\n                    break;\n                case 'categories':\n                    this.enumerateCategories(enumeration, this.dataView);\n                    break;\n            }\n\n            return enumeration.complete();\n        }\n\n        private static getObjectsFromDataView(dataView: DataView): DataViewObjects {\n            if (!dataView ||\n                !dataView.metadata ||\n                !dataView.metadata.columns ||\n                !dataView.metadata.objects) {\n                return null;\n            }\n\n            return dataView.metadata.objects;\n        }\n\n        private static parseSettings(objects: DataViewObjects, defaultDotPlotSettings: DotPlotSettings): VisualDataLabelsSettings {\n            let precision = this.getPrecision(objects, defaultDotPlotSettings);\n\n            return {\n                show: DataViewObjects.getValue(objects, DotPlotProperties.labels.show, defaultDotPlotSettings.labelSettings.show),\n                precision: precision,\n                fontSize: DataViewObjects.getValue(objects, DotPlotProperties.labels.fontSize, defaultDotPlotSettings.labelSettings.fontSize),\n                displayUnits: DataViewObjects.getValue<number>(objects, DotPlotProperties.labels.labelDisplayUnits, defaultDotPlotSettings.labelSettings.displayUnits),\n                labelColor: DataViewObjects.getFillColor(objects, DotPlotProperties.labels.labelColor, defaultDotPlotSettings.labelSettings.labelColor),\n            };\n        }\n\n        private static getCategorySettings(objects: DataViewObjects, defaultDotPlotSettings: DotPlotSettings): DotPlotCategorySettings {\n            return {\n                show: DataViewObject.getValue<boolean>(objects, DotPlotProperties.categories.show, defaultDotPlotSettings.categorySettings.show),\n                fontColor: DataViewObjects.getFillColor(objects, DotPlotProperties.categories.fontColor, defaultDotPlotSettings.categorySettings.fontColor)\n            };\n        }\n\n        private static getPrecision(objects: DataViewObjects, defaultDotPlotSettings: DotPlotSettings): number {\n            let precision: number = DataViewObjects.getValue<number>(objects, DotPlotProperties.labels.labelPrecision, defaultDotPlotSettings.labelSettings.precision);\n\n            if (precision <= MinPrecision)\n                return MinPrecision;\n\n            if (precision >= MaxPrecision)\n                return MaxPrecision;\n\n            return precision;\n        }\n\n        private drawDotPlot(data: DotPlotDataGroup[], setting: DotPlotSettings): void {\n            let selection: D3.UpdateSelection = this.dotPlot.selectAll(this.dotPlotSelectors.plotGroupSelector.selector).data(data);\n            let hasSelection = this.interactivityService && this.interactivityService.hasSelection();\n\n            selection\n                .enter()\n                .append('g')\n                .attr(\n                {\n                    stroke: \"black\",\n                    \"stroke-width\": this.strokeWidth\n                }).\n                style(\"fill-opacity\", (item: DotPlotDataGroup) => ColumnUtil.getFillOpacity(item.selected, item.highlight, hasSelection, false)).\n                classed(this.dotPlotSelectors.plotGroupSelector.class, true);\n\n            let circleSelection = selection.selectAll(this.dotPlotSelectors.circleSeletor.selector).data((d: DotPlotDataGroup) => { return d.dataPoints; });\n            circleSelection.enter().append('circle')\n                .classed(this.dotPlotSelectors.circleSeletor.class, true);\n\n            circleSelection.attr(\n                {\n                    cx: (point: DotPlotDataPoint) => { return point.x; },\n                    cy: (point: DotPlotDataPoint) => { return point.y; },\n                    r: this.radius,\n                    fill: setting.defaultDataPointColor\n                });\n\n            this.renderTooltip(selection);\n            circleSelection.exit().remove();\n            selection.exit().remove();\n\n            let interactivityService = this.interactivityService;\n            if (interactivityService) {\n                interactivityService.applySelectionStateToData(data);\n\n                let behaviorOptions: DotplotBehaviorOptions = {\n                    columns: selection,\n                    clearCatcher: this.clearCatcher,\n                    interactivityService: this.interactivityService,\n                };\n                interactivityService.bind(data, this.behavior, behaviorOptions);\n            }\n        }\n\n        private getEnhanchedDotplotLayout(labelSettings: VisualDataLabelsSettings, viewport: IViewport): ILabelLayout {\n            let fontSizeInPx = jsCommon.PixelConverter.fromPoint(labelSettings.fontSize);\n\n            let formatter: IValueFormatter = valueFormatter.create({\n                format: valueFormatter.getFormatString(this.dataView.categorical.categories[0].source, DotPlotProperties.general.formatString),\n                precision: labelSettings.precision,\n                value: labelSettings.displayUnits\n            });\n\n            return {\n                labelText: function (d) {\n                    return dataLabelUtils.getLabelFormattedText({\n                        label: formatter.format(d.label),\n                        fontSize: labelSettings.fontSize,\n                        maxWidth: viewport.width,\n                    });\n                },\n                labelLayout: {\n                    x: (d: DotPlotDataGroup) => d && d.dataPoints && d.dataPoints[d.dataPoints.length - 1] ? d.dataPoints[d.dataPoints.length - 1].x : 0,\n                    y: (d: DotPlotDataGroup) => d && d.dataPoints && d.dataPoints[d.dataPoints.length - 1] ? d.dataPoints[d.dataPoints.length - 1].y - LabelMargin : 0\n                },\n                filter: function (d) {\n                    return (d != null && d.label != null);\n                },\n                style: {\n                    'fill': labelSettings.categoryLabelColor,\n                    'font-size': fontSizeInPx,\n                },\n            };\n        }\n\n        private enumerateDataLabels(enumeration: ObjectEnumerationBuilder, dataView: DataView): void {\n            let objects = dataView && dataView.metadata ? dataView.metadata.objects : undefined;\n            enumeration.pushInstance({\n                objectName: \"labels\",\n                displayName: \"Labels\",\n                selector: null,\n                properties: {\n                    show: DataViewObjects.getValue<boolean>(objects, DotPlotProperties.labels.show, this.DefaultDotPlotSettings.labelSettings.show),\n                    fontSize: DataViewObjects.getValue<number>(objects, DotPlotProperties.labels.fontSize, this.DefaultDotPlotSettings.labelSettings.fontSize),\n                    labelPrecision: DataViewObjects.getValue<number>(objects, DotPlotProperties.labels.labelPrecision, this.DefaultDotPlotSettings.labelSettings.precision),\n                    labelDisplayUnits: DataViewObjects.getValue<number>(objects, DotPlotProperties.labels.labelDisplayUnits, this.DefaultDotPlotSettings.labelSettings.displayUnits),\n                    labelColor: DataViewObjects.getFillColor(objects, DotPlotProperties.labels.labelColor, this.DefaultDotPlotSettings.labelSettings.labelColor)\n                }\n            });\n        }\n\n        private enumerateDataPoints(enumeration: ObjectEnumerationBuilder, dataView: DataView): void {\n            let objects = dataView && dataView.metadata ? dataView.metadata.objects : undefined;\n            let dataPointColor = DataViewObjects.getFillColor(objects, DotPlotProperties.dataPoint.fill, this.DefaultDotPlotSettings.defaultDataPointColor);\n            enumeration.pushInstance({\n                objectName: \"dataPoint\",\n                displayName: \"Data Points\",\n                selector: null,\n                properties: {\n                    fill: { solid: { color: dataPointColor } }\n                }\n            });\n        }\n\n        private enumerateCategories(enumeration: ObjectEnumerationBuilder, dataView: DataView): void {\n            let objects = dataView && dataView.metadata ? dataView.metadata.objects : undefined;\n            let categoriesSettings = DotPlot.getCategorySettings(objects, this.DefaultDotPlotSettings);\n            enumeration.pushInstance({\n                objectName: \"categories\",\n                displayName: \"Categories\",\n                selector: null,\n                properties: {\n                    show: categoriesSettings.show,\n                    fontSize: categoriesSettings.fontSize,\n                    fontColor: categoriesSettings.fontColor\n                }\n            });\n        }\n\n        private clearData(): void {\n            this.dotPlot.selectAll(\"*\").remove();\n            this.xAxis.selectAll(\"*\").remove();\n            dataLabelUtils.cleanDataLabels(this.svg);\n        }\n\n        private renderTooltip(selection: D3.UpdateSelection): void {\n            TooltipManager.addTooltip(selection, (tooltipEvent: TooltipEvent) =>\n                (<DotPlotDataGroup>tooltipEvent.data).tooltipInfo);\n        }\n\n        private calculateAxes(\n            viewportIn: IViewport,\n            textProperties: TextProperties,\n            scrollbarVisible: boolean): IAxisProperties {\n\n            let category = this.dataView.categorical.categories && this.dataView.categorical.categories.length > 0\n                ? this.dataView.categorical.categories[0]\n                : {\n                    source: undefined,\n                    values: [valueFormatter.format(null)],\n                    identity: undefined,\n                };\n\n            let visualOptions: CalculateScaleAndDomainOptions = {\n                viewport: viewportIn,\n                margin: this.DefaultMargin,\n                forcedXDomain: this.dataView.categorical.categories[0].values,\n                forceMerge: false,\n                showCategoryAxisLabel: false,\n                showValueAxisLabel: false,\n                categoryAxisScaleType: this.scaleType,\n                valueAxisScaleType: null,\n                valueAxisDisplayUnits: 0,\n                categoryAxisDisplayUnits: 0,\n                trimOrdinalDataOnOverflow: false,\n            };\n\n            let width = viewportIn.width;\n            let axes = this.calculateAxesProperties(viewportIn, visualOptions, category.source);\n            axes.willLabelsFit = AxisHelper.LabelLayoutStrategy.willLabelsFit(\n                axes,\n                width,\n                TextMeasurementService.measureSvgTextWidth,\n                textProperties);\n\n            // If labels do not fit and we are not scrolling, try word breaking\n            axes.willLabelsWordBreak = (!axes.willLabelsFit && !scrollbarVisible) && AxisHelper.LabelLayoutStrategy.willLabelsWordBreak(\n                axes, this.DefaultMargin, width, TextMeasurementService.measureSvgTextWidth,\n                TextMeasurementService.estimateSvgTextHeight, TextMeasurementService.getTailoredTextOrDefault,\n                textProperties);\n\n            return axes;\n        }\n\n        private calculateAxesProperties(viewportIn: IViewport, options: CalculateScaleAndDomainOptions, metaDataColumn: DataViewMetadataColumn): IAxisProperties {\n            let xAxisProperties = AxisHelper.createAxis({\n                pixelSpan: viewportIn.width,\n                dataDomain: options.forcedXDomain,\n                metaDataColumn: metaDataColumn,\n                formatString: valueFormatter.getFormatString(metaDataColumn, DotPlotProperties.general.formatString),\n                outerPadding: 0,\n                isScalar: false,\n                isVertical: false,\n                forcedTickCount: options.forcedTickCount,\n                useTickIntervalForDisplayUnits: true,\n                isCategoryAxis: true,\n                getValueFn: (index, type) => index,\n                scaleType: options.categoryAxisScaleType,\n                axisDisplayUnits: options.categoryAxisDisplayUnits\n            });\n\n            xAxisProperties.axisLabel = \"New Label\";\n            return xAxisProperties;\n        }\n\n        private renderAxis(height: number, xAxisProperties: IAxisProperties, data: DotPlotDataView, duration: number): void {\n            this.xAxis.attr(\n                {\n                    transform: SVGUtil.translate(0, height)\n                });\n\n            let xAxis = xAxisProperties.axis;\n            xAxis.orient('bottom');\n\n            this.xAxis\n                .transition()\n                .duration(duration)\n                .call(xAxis);\n        }\n    }\n\n    export interface DotplotBehaviorOptions {\n        columns: D3.Selection;\n        clearCatcher: D3.Selection;\n        interactivityService: IInteractivityService;\n    }\n\n    export class DotplotBehavior implements IInteractiveBehavior {\n        private columns: D3.Selection;\n        private clearCatcher: D3.Selection;\n        private interactivityService: IInteractivityService;\n\n        public bindEvents(options: DotplotBehaviorOptions, selectionHandler: ISelectionHandler): void {\n            this.columns = options.columns;\n            this.clearCatcher = options.clearCatcher;\n            this.interactivityService = options.interactivityService;\n\n            this.columns.on('click', (d: SelectableDataPoint, i: number) => {\n                selectionHandler.handleSelection(d, d3.event.ctrlKey);\n            });\n\n            options.clearCatcher.on('click', () => {\n                selectionHandler.handleClearSelection();\n            });\n        }\n\n        public renderSelection(hasSelection: boolean) {\n            let hasHighlights = this.interactivityService.hasSelection();\n            this.columns.style(\"fill-opacity\", (d: DotPlotDataGroup) => ColumnUtil.getFillOpacity(d.selected, d.highlight, !d.highlight && hasSelection, !d.selected && hasHighlights));\n        }\n    }\n}\n","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\n/*\n *  This file is based on or incorporates material from the projects listed below (Third Party IP). \n *  The original copyright notice and the license under which Microsoft received such Third Party IP, \n *  are set forth below. Such licenses and notices are provided for informational purposes only. \n *  Microsoft licenses the Third Party IP to you under the licensing terms for the Microsoft product. \n *  Microsoft reserves all other rights not expressly granted under this agreement, whether by \n *  implication, estoppel or otherwise.\n *  \n *  d3 Force Layout\n *  Copyright (c) 2010-2015, Michael Bostock\n *  All rights reserved.\n *  \n *  Redistribution and use in source and binary forms, with or without\n *  modification, are permitted provided that the following conditions are met:\n *  \n *  * Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *  \n *  * Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *  \n *  * The name Michael Bostock may not be used to endorse or promote products\n *    derived from this software without specific prior written permission.\n *  \n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n *  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n *  DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n *  BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n *  DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n *  OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n *  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nmodule powerbi.visuals.samples {\n    import PixelConverter = jsCommon.PixelConverter;\n\n    module linkColorType {\n        export var byWeight: string = 'ByWeight';\n        export var byLinkType: string = 'ByLinkType';\n        export var interactive: string = 'Interactive';\n\n        export var type: IEnumType = createEnumType([\n            { value: byWeight, displayName: 'ByWeight' },\n            { value: byLinkType, displayName: 'ByLinkType' },\n            { value: interactive, displayName: 'Interactive' },\n        ]);\n    }\n\n    export interface ForceGraphOptions {\n        showDataLabels: boolean;\n        labelColor: string;\n        fontSize: number;\n        showArrow: boolean;\n        showLabel: boolean;\n        colorLink: string;\n        thickenLink: boolean;\n        displayImage: boolean;\n        defaultImage: string;\n        imageUrl: string;\n        imageExt: string;\n        nameMaxLength: number;\n        highlightReachableLinks: boolean;\n        charge: number;\n        defaultLinkColor: string;\n        defaultLinkHighlightColor: string;\n        defaultLinkThickness: string;\n    }\n\n    export var forceProps = {\n        general: {\n            formatString: <DataViewObjectPropertyIdentifier>{\n                objectName: \"general\",\n                propertyName: \"formatString\"\n            }\n        },\n        labels: {\n            show: <DataViewObjectPropertyIdentifier>{\n                objectName: \"labels\",\n                propertyName: \"show\"\n            },\n            color: <DataViewObjectPropertyIdentifier>{\n                objectName: \"labels\",\n                propertyName: \"color\"\n            },\n            fontSize: <DataViewObjectPropertyIdentifier>{\n                objectName: \"labels\",\n                propertyName: \"fontSize\"\n            }\n        },\n        links: {\n            showArrow: <DataViewObjectPropertyIdentifier>{ objectName: 'links', propertyName: 'showArrow' },\n            showLabel: <DataViewObjectPropertyIdentifier>{ objectName: 'links', propertyName: 'showLabel' },\n            colorLink: <DataViewObjectPropertyIdentifier>{ objectName: 'links', propertyName: 'colorLink' },\n            thickenLink: <DataViewObjectPropertyIdentifier>{ objectName: 'links', propertyName: 'thickenLink' },\n        },\n        nodes: {\n            displayImage: <DataViewObjectPropertyIdentifier>{ objectName: 'nodes', propertyName: 'displayImage' },\n            defaultImage: <DataViewObjectPropertyIdentifier>{ objectName: 'nodes', propertyName: 'defaultImage' },\n            imageUrl: <DataViewObjectPropertyIdentifier>{ objectName: 'nodes', propertyName: 'imageUrl' },\n            imageExt: <DataViewObjectPropertyIdentifier>{ objectName: 'nodes', propertyName: 'imageExt' },\n            nameMaxLength: <DataViewObjectPropertyIdentifier>{ objectName: 'nodes', propertyName: 'nameMaxLength' },\n            highlightReachableLinks: <DataViewObjectPropertyIdentifier>{ objectName: 'nodes', propertyName: 'highlightReachableLinks' },\n        },\n        size: {\n            charge: <DataViewObjectPropertyIdentifier>{ objectName: 'size', propertyName: 'charge' },\n        }\n    };\n\n    export interface ForceGraphData {\n        nodes: {};\n        links: any[];\n        minFiles: number;\n        maxFiles: number;\n        linkedByName: {};\n        linkTypes: {};\n    }\n\n    export class ForceGraph implements IVisual {\n        public static VisualClassName = 'forceGraph';\n        private root: D3.Selection;\n        private paths: D3.Selection;\n        private nodes: D3.Selection;\n        private forceLayout: D3.Layout.ForceLayout;\n        private dataView: DataView;\n        private colors: IDataColorPalette;\n        private options: ForceGraphOptions;\n        private data: ForceGraphData;\n\n        private marginValue: IMargin;\n        private get margin(): IMargin {\n            return this.marginValue || { left: 0, right: 0, top: 0, bottom: 0 };\n        }\n        private set margin(value: IMargin) {\n            this.marginValue = $.extend({}, value);\n            this.viewportInValue = ForceGraph.substractMargin(this.viewport, this.margin);\n        }\n\n        private viewportValue: IViewport;\n        private get viewport(): IViewport {\n            return this.viewportValue || { width: 0, height: 0 };\n        }\n        private set viewport(value: IViewport) {\n            this.viewportValue = $.extend({}, value);\n            this.viewportInValue = ForceGraph.substractMargin(this.viewport, this.margin);\n        }\n\n        private viewportInValue: IViewport;\n        private get viewportIn(): IViewport {\n            return this.viewportInValue || this.viewport;\n        }\n\n        private static substractMargin(viewport: IViewport, margin: IMargin): IViewport {\n            return {\n                width: Math.max(viewport.width - (margin.left + margin.right), 0),\n                height: Math.max(viewport.height - (margin.top + margin.bottom), 0)\n            };\n        }\n\n        private scale1to10(d) {\n            let scale = d3.scale.linear().domain([this.data.minFiles, this.data.maxFiles]).rangeRound([1, 10]).clamp(true);\n            return scale(d);\n        }\n\n        private getLinkColor(d): string {\n            switch (this.options.colorLink) {\n                case linkColorType.byWeight:\n                    return this.colors.getColorByIndex(this.scale1to10(d.filecount)).value;\n                case linkColorType.byLinkType:\n                    return d.type && this.data.linkTypes[d.type] ? this.data.linkTypes[d.type].color : this.options.defaultLinkColor;\n            };\n            return this.options.defaultLinkColor;\n        }\n\n        private getDefaultOptions(): ForceGraphOptions {\n            return {\n                showDataLabels: true,\n                labelColor: dataLabelUtils.defaultLabelColor,\n                fontSize: dataLabelUtils.DefaultFontSizeInPt,\n                showArrow: false,\n                showLabel: false,\n                colorLink: linkColorType.interactive,\n                thickenLink: true,\n                displayImage: false,\n                defaultImage: \"Home\",\n                imageUrl: \"\",\n                imageExt: \".png\",\n                nameMaxLength: 10,\n                highlightReachableLinks: false,\n                charge: -15,\n                defaultLinkColor: \"#bbb\",\n                defaultLinkHighlightColor: \"#f00\",\n                defaultLinkThickness: \"1.5px\",\n            };\n        }\n\n        private updateOptions(objects: DataViewObjects) {\n            this.options.showDataLabels = DataViewObjects.getValue(objects, forceProps.labels.show, this.options.showDataLabels);\n            this.options.labelColor = DataViewObjects.getFillColor(objects, forceProps.labels.color, this.options.labelColor);\n            this.options.fontSize = DataViewObjects.getValue(objects, forceProps.labels.fontSize, this.options.fontSize);\n            this.options.showArrow = DataViewObjects.getValue(objects, forceProps.links.showArrow, this.options.showArrow);\n            this.options.showLabel = DataViewObjects.getValue(objects, forceProps.links.showLabel, this.options.showLabel);\n            this.options.colorLink = DataViewObjects.getValue(objects, forceProps.links.colorLink, this.options.colorLink);\n            this.options.thickenLink = DataViewObjects.getValue(objects, forceProps.links.thickenLink, this.options.thickenLink);\n            this.options.displayImage = DataViewObjects.getValue(objects, forceProps.nodes.displayImage, this.options.displayImage);\n            this.options.defaultImage = DataViewObjects.getValue(objects, forceProps.nodes.defaultImage, this.options.defaultImage);\n            this.options.imageUrl = DataViewObjects.getValue(objects, forceProps.nodes.imageUrl, this.options.imageUrl);\n            this.options.imageExt = DataViewObjects.getValue(objects, forceProps.nodes.imageExt, this.options.imageExt);\n            this.options.nameMaxLength = DataViewObjects.getValue(objects, forceProps.nodes.nameMaxLength, this.options.nameMaxLength);\n            this.options.highlightReachableLinks = DataViewObjects.getValue(objects, forceProps.nodes.highlightReachableLinks, this.options.highlightReachableLinks);\n            this.options.charge = DataViewObjects.getValue(objects, forceProps.size.charge, this.options.charge);\n            if (this.options.charge >= 0 || this.options.charge < -100) this.options.charge = this.getDefaultOptions().charge;\n        }\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: 'Source',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Source',\n                },\n                {\n                    name: 'Target',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Target',\n                },\n                {\n                    name: 'Weight',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Weight',\n                },\n                {\n                    name: 'LinkType',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'LinkType',\n                    description: 'Links can be colored by link types',\n                },\n                {\n                    name: 'SourceType',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'SourceType',\n                    description: 'Source type represents the image name for source entities',\n                },\n                {\n                    name: 'TargetType',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'TargetType',\n                    description: 'Target type represents the image name for target entities',\n                },\n            ],\n            objects: {\n                general: {\n                    properties: {\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        }\n                    }\n                },\n                labels: {\n                    displayName: 'Data labels',\n                    properties: {\n                        show: {\n                            displayName: 'Show',\n                            type: { bool: true }\n                        },\n                        color: {\n                            displayName: 'Fill',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: 'Text Size',\n                            type: { formatting: { fontSize: true } }\n                        }\n                    }\n                },\n                links: {\n                    displayName: 'Links',\n                    properties: {\n                        showArrow: {\n                            type: { bool: true },\n                            displayName: 'Arrow'\n                        },\n                        showLabel: {\n                            type: { bool: true },\n                            displayName: 'Label',\n                            description: 'Displays weight on links',\n                        },\n                        colorLink: {\n                            type: { enumeration: linkColorType.type },\n                            displayName: 'Color',\n                        },\n                        thickenLink: {\n                            type: { bool: true },\n                            displayName: 'Thickness',\n                            description: 'Thickenss of links represents weight',\n                        },\n                    }\n                },\n                nodes: {\n                    displayName: 'Nodes',\n                    properties: {\n                        displayImage: {\n                            type: { bool: true },\n                            displayName: 'Image',\n                            description: 'Images are loaded from image url + source or target type + image extension',\n                        },\n                        defaultImage: {\n                            type: { text: true },\n                            displayName: 'Default image'\n                        },\n                        imageUrl: {\n                            type: { text: true },\n                            displayName: 'Image url'\n                        },\n                        imageExt: {\n                            type: { text: true },\n                            displayName: 'Image extension'\n                        },\n                        nameMaxLength: {\n                            type: { numeric: true },\n                            displayName: 'Max name length',\n                            description: 'Max length of the name of entities displayed',\n                        },\n                        highlightReachableLinks: {\n                            type: { bool: true },\n                            displayName: 'Highlight all reachable links',\n                            description: \"In interactive mode, whether a node's all reachable links will be highlighted\",\n                        },\n                    }\n                },\n                size: {\n                    displayName: 'Size',\n                    properties: {\n                        charge: {\n                            type: { numeric: true },\n                            displayName: 'Charge',\n                            description: 'The larger the negative charge the more apart the entities, must be negative but greater than -100',\n                        },\n                    }\n                },\n            },\n            dataViewMappings: [{\n                conditions: [\n                    { 'Source': { max: 1 }, 'Target': { max: 1 }, 'Weight': { max: 1 }, 'LinkType': { max: 1 }, 'SourceType': { max: 1 }, 'TargetType': { max: 1 } },\n                ],\n                categorical: {\n                    categories: {\n                        for: { in: 'Source' },\n                        dataReductionAlgorithm: { top: {} }\n                    },\n                    values: {\n                        select: [\n                            { bind: { to: 'Target' } },\n                            { bind: { to: 'Weight' } },\n                            { bind: { to: 'LinkType' } },\n                            { bind: { to: 'SourceType' } },\n                            { bind: { to: 'TargetType' } },\n                        ],\n                    },\n                    rowCount: { preferred: { min: 1 } }\n                },\n            }],\n            suppressDefaultTitle: true,\n        };\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            let enumeration = new ObjectEnumerationBuilder();\n\n            switch (options.objectName) {\n                case 'labels':\n                    this.enumerateLabels(enumeration);\n                    break;\n                case 'links':\n                    this.enumerateLinks(enumeration);\n                    break;\n                case 'nodes':\n                    this.enumerateNodes(enumeration);\n                    break;\n                case 'size':\n                    this.enumerateSize(enumeration);\n                    break;\n                default:\n                    break;\n            }\n\n            return enumeration.complete();\n        }\n\n        private enumerateLabels(enumeration: ObjectEnumerationBuilder): void {\n            let labels: VisualObjectInstance,\n                options: ForceGraphOptions;\n\n            if (!this.options || !this.options)\n                return;\n\n            options = this.options;\n\n            labels = {\n                objectName: 'labels',\n                displayName: 'Labels',\n                selector: null,\n                properties: {\n                    show: options.showDataLabels,\n                    fontSize: options.fontSize,\n                    color: options.labelColor\n                }\n            };\n\n            enumeration.pushInstance(labels);\n        }\n\n        private enumerateLinks(enumeration: ObjectEnumerationBuilder): void {\n            let links: VisualObjectInstance,\n                options: ForceGraphOptions;\n\n            if (!this.options)\n                return;\n\n            options = this.options;\n\n            links = {\n                objectName: 'links',\n                displayName: 'Links',\n                selector: null,\n                properties: {\n                    showArrow: options.showArrow,\n                    colorLink: options.colorLink,\n                    showLabel: options.showLabel,\n                    thickenLink: options.thickenLink,\n                }\n            };\n\n            enumeration.pushInstance(links);\n        }\n\n        private enumerateNodes(enumeration: ObjectEnumerationBuilder): void {\n            let nodes: VisualObjectInstance,\n                options: ForceGraphOptions;\n\n            if (!this.options)\n                return;\n\n            options = this.options;\n\n            nodes = {\n                objectName: 'nodes',\n                displayName: 'Nodes',\n                selector: null,\n                properties: {\n                    displayImage: options.displayImage,\n                    defaultImage: options.defaultImage,\n                    imageUrl: options.imageUrl,\n                    imageExt: options.imageExt,\n                    nameMaxLength: options.nameMaxLength,\n                    highlightReachableLinks: options.highlightReachableLinks,\n                }\n            };\n\n            enumeration.pushInstance(nodes);\n        }\n\n        private enumerateSize(enumeration: ObjectEnumerationBuilder): void {\n            let size: VisualObjectInstance,\n                options: ForceGraphOptions;\n\n            if (!this.options)\n                return;\n\n            options = this.options;\n\n            size = {\n                objectName: 'size',\n                displayName: 'Size',\n                selector: null,\n                properties: {\n                    charge: options.charge,\n                }\n            };\n\n            enumeration.pushInstance(size);\n        }\n\n        public static converter(dataView: DataView, colors: IDataColorPalette): ForceGraphData {\n            let categorical: DataViewCategorical = dataView.categorical;\n            let nodes = {};\n            let minFiles = Number.MAX_VALUE;\n            let maxFiles = 0;\n            let linkedByName = {};\n            let links = [];\n            let linkDataPoints = {};\n            let linkTypeCount = 0;\n            let sourceCol = -1, targetCol = -1, weightCol = -1, linkTypeCol = -1, sourceTypeCol = -1, targetTypeCol = -1;\n            let rows;\n            let tooltipInfo: TooltipDataItem[] = [];\n            let formatStringProp = forceProps.general.formatString;\n\n            if (dataView && dataView.categorical && dataView.categorical.categories && dataView.metadata && dataView.metadata.columns) {\n                let metadataColumns = dataView.metadata.columns;\n                for (let i = 0; i < metadataColumns.length; i++) {\n                    let col = metadataColumns[i];\n                    if (col.roles) {\n                        if (col.roles['Source'])\n                            sourceCol = i;\n                        else if (col.roles['Target'])\n                            targetCol = i;\n                        else if (col.roles['Weight'])\n                            weightCol = i;\n                        else if (col.roles['LinkType'])\n                            linkTypeCol = i;\n                        else if (col.roles['SourceType'])\n                            sourceTypeCol = i;\n                        else if (col.roles['TargetType'])\n                            targetTypeCol = i;\n                    }\n                }\n            }\n            if (dataView && dataView.table) {\n                rows = dataView.table.rows;\n            }\n            if (sourceCol < 0 || targetCol < 0)\n                return <ForceGraphData>{\n                    nodes: {},\n                    links: [],\n                    minFiles: 0,\n                    maxFiles: 0,\n                    linkedByName: {},\n                    linkTypes: {},\n                };\n\n            let categorySourceFormatString = valueFormatter.getFormatString(categorical.categories[0].source, formatStringProp);\n            let categoryTargetFormatString = valueFormatter.getFormatString(categorical.categories[1].source, formatStringProp);\n            let weightFormatString = valueFormatter.getFormatString(categorical.values ? categorical.values[0].source : null, formatStringProp, true);\n\n            rows.forEach(function(item) {\n                linkedByName[item[sourceCol] + \",\" + item[targetCol]] = 1;\n                let source = nodes[item[sourceCol]] ||\n                    (nodes[item[sourceCol]] = { name: item[sourceCol], image: sourceTypeCol > 0 ? item[sourceTypeCol] : '', adj: {} });\n                let target = nodes[item[targetCol]] ||\n                    (nodes[item[targetCol]] = { name: item[targetCol], image: targetTypeCol > 0 ? item[targetTypeCol] : '', adj: {} });\n                source.adj[target.name] = 1;\n                target.adj[source.name] = 1;\n\n                tooltipInfo = [{\n                    displayName: dataView.metadata.columns[0].displayName,\n                    value: valueFormatter.format(source.name, categorySourceFormatString)\n                }, {\n                        displayName: dataView.metadata.columns[1].displayName,\n                        value: valueFormatter.format(target.name, categoryTargetFormatString)\n                    }];\n\n                if (weightCol > 0)\n                    tooltipInfo.push({\n                        displayName: dataView.metadata.columns[2].displayName,\n                        value: valueFormatter.format(item[weightCol], weightFormatString)\n                    });\n\n                let link = {\n                    source: source,\n                    target: target,\n                    filecount: weightCol > 0 ? item[weightCol] : 0,\n                    type: linkTypeCol > 0 ? item[linkTypeCol] : '',\n                    tooltipInfo: tooltipInfo,\n                };\n\n                if (linkTypeCol > 0) {\n                    if (!linkDataPoints[item[linkTypeCol]]) {\n                        linkDataPoints[item[linkTypeCol]] = {\n                            label: item[linkTypeCol],\n                            color: colors.getColorByIndex(linkTypeCount++).value,\n                        };\n                    };\n                };\n                if (link.filecount < minFiles) { minFiles = link.filecount; };\n                if (link.filecount > maxFiles) { maxFiles = link.filecount; };\n                links.push(link);\n            });\n\n            return {\n                nodes: nodes,\n                links: links,\n                minFiles: minFiles,\n                maxFiles: maxFiles,\n                linkedByName: linkedByName,\n                linkTypes: linkDataPoints,\n            };\n        }\n\n        public init(options: VisualInitOptions): void {\n            this.root = d3.select(options.element.get(0));\n            this.forceLayout = d3.layout.force();\n            this.colors = options.style.colorPalette.dataColors;\n            this.options = this.getDefaultOptions();\n        }\n\n        public update(options: VisualUpdateOptions) {\n            if (!options.dataViews || (options.dataViews.length < 1)) return;\n            this.data = ForceGraph.converter(this.dataView = options.dataViews[0], this.colors);\n            if (!this.data) return;\n            if (options.dataViews[0].metadata && options.dataViews[0].metadata.objects)\n                this.updateOptions(options.dataViews[0].metadata.objects);\n            this.viewport = options.viewport;\n            let k = Math.sqrt(Object.keys(this.data.nodes).length / (this.viewport.width * this.viewport.height));\n\n            this.root.selectAll(\"svg\").remove();\n\n            let svg = this.root\n                .append(\"svg\")\n                .attr(\"width\", this.viewport.width)\n                .attr(\"height\", this.viewport.height)\n                .classed(ForceGraph.VisualClassName, true);\n\n            this.forceLayout\n                .gravity(100 * k)\n                .links(this.data.links)\n                .size([this.viewport.width, this.viewport.height])\n                .linkDistance(100)\n                .charge(this.options.charge / k)\n                .on(\"tick\", this.tick());\n            this.updateNodes();\n            this.forceLayout.start();\n\n            // uncomment if we don't need the marker-end workaround\n            //if (this.options.showArrow) {\n            // build the arrow.\n            //function marker(d, i) {\n            //    let val = \"mid_\" + i;\n            //    svg.append(\"defs\").selectAll(\"marker\")\n            //        .data([val])      // Different link/path types can be defined here\n            //        .enter().append(\"marker\")    // This section adds in the arrows\n            //        .attr(\"id\", String)\n            //        .attr(\"viewBox\", \"0 -5 10 10\")\n            //        .attr(\"refX\", 10)\n            //        .attr(\"refY\", 0)\n            //        .attr(\"markerWidth\", 6)\n            //        .attr(\"markerHeight\", 6)\n            //        .attr(\"orient\", \"auto\")\n            //        .attr(\"markerUnits\", \"userSpaceOnUse\")\n            //        .append(\"path\")\n            //        .attr(\"d\", \"M0,-5L10,0L0,5\")\n            //    //below works if no marker-end workaround needed\n            //        .style(\"fill\", d => this.getLinkColor(d))\n            //    ;\n            //    return \"url(#\" + val + \")\";\n            //}\n            //}\n            this.paths = svg.selectAll(\".link\")\n                .data(this.forceLayout.links())\n                .enter().append(\"path\")\n                .attr(\"class\", \"link\")\n                .attr(\"id\", (d, i) => \"linkid_\" + i)\n                // uncomment if we don't need the marker-end workaround\n                //.attr(\"marker-end\", function (d, i) { return marker(d, i); })\n                .attr(\"stroke-width\", d => this.options.thickenLink ? this.scale1to10(d.filecount) : this.options.defaultLinkThickness)\n                .style(\"stroke\", d => this.getLinkColor(d))\n                // no need for \"fill\" if we don't need the marker-end workaround\n                .style(\"fill\", d => { if (this.options.showArrow) return this.getLinkColor(d); })\n                .on(\"mouseover\", this.fadePath(.3, this.options.defaultLinkHighlightColor))\n                .on(\"mouseout\", this.fadePath(1, this.options.defaultLinkColor));\n\n            TooltipManager.addTooltip(this.paths, (tooltipEvent: TooltipEvent) => {\n                return tooltipEvent.data.tooltipInfo;\n            });\n\n            if (this.options.showLabel) {\n                svg.selectAll(\".linklabelholder\")\n                    .data(this.forceLayout.links())\n                    .enter().append(\"g\")\n                    .attr(\"class\", \"linklabelholder\")\n                    .append(\"text\")\n                    .attr(\"class\", \"linklabel\")\n                    .attr(\"y\", \"-12\")\n                    .attr(\"text-anchor\", \"middle\")\n                    .style(\"fill\", \"#000\")\n                    .append(\"textPath\")\n                    .attr(\"xlink:href\", (d, i) => \"#linkid_\" + i)\n                    .attr(\"startOffset\", \"25%\") //use \"50%\" if we don't need the marker-end workaround\n                    .text(d => this.options.colorLink === linkColorType.byLinkType ? d.type : d.filecount);\n            }\n\n            // define the nodes\n            this.nodes = svg.selectAll(\".node\")\n                .data(this.forceLayout.nodes())\n                .enter().append(\"g\")\n                .attr(\"class\", \"node\")\n                .call(this.forceLayout.drag)\n                .on(\"mouseover\", this.fadeNode(.3, this.options.defaultLinkHighlightColor))\n                .on(\"mouseout\", this.fadeNode(1, this.options.defaultLinkColor))\n                .on(\"mousedown\", () => d3.event.stopPropagation())\n                .attr(\"drag-resize-disabled\", true);\n\n            // add the nodes\n            if (this.options.displayImage) {\n                this.nodes.append(\"image\")\n                    .attr(\"xlink:href\", d =>\n                        d.image && d.image !== '' ?\n                            this.options.imageUrl + d.image + this.options.imageExt :\n                            (\n                                this.options.defaultImage && this.options.defaultImage !== '' ?\n                                    this.options.imageUrl + this.options.defaultImage + this.options.imageExt :\n                                    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAMAAAHNDTTxAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACuUExURQAAAMbGxvLy8sfHx/Hx8fLy8vHx8cnJycrKyvHx8fHx8cvLy/Ly8szMzM3NzfHx8dDQ0PHx8fLy8vHx8e/v79LS0tPT0/Ly8tTU1NXV1dbW1vHx8fHx8fDw8NjY2PT09PLy8vLy8vHx8fLy8vHx8fHx8enp6fDw8PLy8uPj4+Tk5OXl5fHx8b+/v/Pz8+bm5vHx8ejo6PLy8vHx8fLy8sTExPLy8vLy8sXFxfHx8YCtMbUAAAA6dFJOUwD/k/+b7/f///+r/////0z/w1RcEP//ZP///4fj/v8Yj3yXn/unDEhQ////YP9Y/8//aIMU/9+L/+fzC4s1AAAACXBIWXMAABcRAAAXEQHKJvM/AAABQElEQVQoU5WS61LCMBCFFymlwSPKVdACIgWkuNyL+P4v5ibZ0jKjP/xm0uw5ySa7mRItAhnMoIC5TwQZdCZiZjcoC8WU6EVsmZgzoqGdxafgvJAvjUXCb2M+0cXNsd/GDarZqSf7av3M2P1E3xhfLkPUvLD5joEYwVVJQXM6+9McWUwLf4nDTCQZAy96UoDjNI/jhl3xPLbQamu8xD7iaIsPKw7GJ7KZEnWLY3Gi8EFj5nqibXnwD5VEGjJXk5sbpLppfvvo1RazQVrhSopPK4TODrtnjS3dY4ic8KurruWQYF+UG60BacexTMyT2jlNg41dOmKvTpkUd/Jevy7ZxQ61ULRUpoododx8GeDPvIrktbFVdUsK6f8Na5VlVpjZJtowTXVy7kfXF5wCaV1tqXAFuIdWJu+JviaQzNzfQvQDGKRXXEmy83cAAAAASUVORK5CYII='\n                            )\n                    )\n                    .attr(\"x\", \"-12px\")\n                    .attr(\"y\", \"-12px\")\n                    .attr(\"width\", \"24px\")\n                    .attr(\"height\", \"24px\");\n            } else {\n                this.nodes.append(\"circle\")\n                    .attr(\"r\", d => d.weight < 5 ? 5 : d.weight);\n            }\n\n            // add the text\n            if (this.options.showDataLabels) {\n                this.nodes.append(\"text\")\n                    .attr({\n                        x: 12,\n                        dy: \".35em\"\n                    })\n                    .style({\n                        fill: this.options.labelColor,\n                        'font-size': PixelConverter.fromPoint(this.options.fontSize)\n                    })\n                    .text(d => d.name ? (d.name.length > this.options.nameMaxLength ? d.name.substr(0, this.options.nameMaxLength) : d.name) : '');\n            }\n        }\n\n        private updateNodes() {\n            let oldNodes = this.forceLayout.nodes();\n            this.forceLayout.nodes(d3.values(this.data.nodes));\n            this.forceLayout.nodes().forEach((node, i) => {\n                if (!oldNodes[i]) {\n                    return;\n                }\n                node.x = oldNodes[i].x;\n                node.y = oldNodes[i].y;\n                node.px = oldNodes[i].px;\n                node.py = oldNodes[i].py;\n                node.weight = oldNodes[i].weight;\n            });\n        }\n\n        private tick() {\n            let viewport = this.viewportIn;\n            // limitX and limitY is necessary when you minimize the graph and then resize it to normal.\n            //\"width/height * 20\" seems enough to move nodes freely by force layout.\n            let maxWidth = viewport.width * 20;\n            let maxHeight = viewport.height * 20;\n            let limitX = x => Math.max((viewport.width - maxWidth) / 2, Math.min((viewport.width + maxWidth) / 2, x));\n            let limitY = y => Math.max((viewport.height - maxHeight) / 2, Math.min((viewport.height + maxHeight) / 2, y));\n            //use this if we don't need the marker-end workaround\n            //path.attr(\"d\", function (d) {\n            //    let dx = d.target.x - d.source.x,\n            //        dy = d.target.y - d.source.y,\n            //        dr = Math.sqrt(dx * dx + dy * dy);\n            //    // x and y distances from center to outside edge of target node\n            //    let offsetX = (dx * d.target.radius) / dr;\n            //    let offsetY = (dy * d.target.radius) / dr;\n            //    return \"M\" +\n            //        d.source.x + \",\" +\n            //        d.source.y + \"A\" +\n            //        dr + \",\" + dr + \" 0 0,1 \" +\n            //        (d.target.x - offsetX) + \",\" +\n            //        (d.target.y - offsetY);\n            //});\n\n            let getPath = this.options.showArrow ?\n                //this is for marker-end workaround, build the marker with the path\n                d => {\n                    d.source.x = limitX(d.source.x);\n                    d.source.y = limitY(d.source.y);\n                    d.target.x = limitX(d.target.x);\n                    d.target.y = limitY(d.target.y);\n                    let dx = d.target.x - d.source.x,\n                        dy = d.target.y - d.source.y,\n                        dr = Math.sqrt(dx * dx + dy * dy),\n                        theta = Math.atan2(dy, dx) + Math.PI / 7.85,\n                        d90 = Math.PI / 2,\n                        dtxs = d.target.x - 6 * Math.cos(theta),\n                        dtys = d.target.y - 6 * Math.sin(theta);\n                    return \"M\" +\n                        d.source.x + \",\" +\n                        d.source.y + \"A\" +\n                        dr + \",\" + dr + \" 0 0 1,\" +\n                        d.target.x + \",\" +\n                        d.target.y +\n                        \"A\" + dr + \",\" + dr + \" 0 0 0,\" + d.source.x + \",\" + d.source.y + \"M\" + dtxs + \",\" + dtys + \"l\" + (3.5 * Math.cos(d90 - theta) - 10 * Math.cos(theta)) + \",\" + (-3.5 * Math.sin(d90 - theta) - 10 * Math.sin(theta)) + \"L\" + (dtxs - 3.5 * Math.cos(d90 - theta) - 10 * Math.cos(theta)) + \",\" + (dtys + 3.5 * Math.sin(d90 - theta) - 10 * Math.sin(theta)) + \"z\";\n                } :\n                d => {\n                    d.source.x = limitX(d.source.x);\n                    d.source.y = limitY(d.source.y);\n                    d.target.x = limitX(d.target.x);\n                    d.target.y = limitY(d.target.y);\n                    let dx = d.target.x - d.source.x,\n                        dy = d.target.y - d.source.y,\n                        dr = Math.sqrt(dx * dx + dy * dy);\n                    return \"M\" +\n                        d.source.x + \",\" +\n                        d.source.y + \"A\" +\n                        dr + \",\" + dr + \" 0 0,1 \" +\n                        d.target.x + \",\" +\n                        d.target.y;\n                };\n\n            return () => {\n                this.paths.each(function() { this.parentNode.insertBefore(this, this); });\n                this.paths.attr(\"d\", getPath);\n                this.nodes.attr(\"transform\", d => \"translate(\" + limitX(d.x) + \",\" + limitY(d.y) + \")\");\n            };\n        }\n\n        private fadePath(opacity: number, highlight: string) {\n            if (this.options.colorLink !== linkColorType.interactive) return;\n            return d => {\n                this.paths.style(\"stroke-opacity\", o => o.source === d.source && o.target === d.target ? 1 : opacity);\n                this.paths.style(\"stroke\", o => o.source === d.source && o.target === d.target ? highlight : this.options.defaultLinkColor);\n            };\n        }\n\n        private isReachable(a, b): boolean {\n            if (a.name === b.name) return true;\n            if (this.data.linkedByName[a.name + \",\" + b.name]) return true;\n            let visited = {};\n            for (let name in this.data.nodes) {\n                visited[name] = false;\n            };\n            visited[a.name] = true;\n\n            let stack = [];\n            stack.push(a.name);\n            while (stack.length > 0) {\n                let cur = stack.pop();\n                let node = this.data.nodes[cur];\n                for (let nb in node.adj) {\n                    if (nb === b.name) return true;\n\n                    if (!visited[nb]) {\n                        visited[nb] = true;\n                        stack.push(nb);\n                    }\n                }\n            };\n            return false;\n        }\n\n        private fadeNode(opacity: number, highlight: string) {\n            if (this.options.colorLink !== linkColorType.interactive) return;\n            let isConnected = (a, b) => this.data.linkedByName[a.name + \",\" + b.name] || this.data.linkedByName[b.name + \",\" + a.name] || a.name === b.name;\n\n            return d => {\n                let that = this;\n                this.nodes.style(\"stroke-opacity\", function(o) {\n                    let thisOpacity = (that.options.highlightReachableLinks ? that.isReachable(d, o) : isConnected(d, o)) ? 1 : opacity;\n                    this.setAttribute('fill-opacity', thisOpacity);\n                    return thisOpacity;\n                });\n\n                this.paths.style(\"stroke-opacity\", o =>\n                    (this.options.highlightReachableLinks ? this.isReachable(d, o.source) :\n                        (o.source === d || o.target === d)) ? 1 : opacity);\n                this.paths.style(\"stroke\", o =>\n                    (this.options.highlightReachableLinks ? this.isReachable(d, o.source) :\n                        (o.source === d || o.target === d)) ? highlight : this.options.defaultLinkColor);\n            };\n        }\n\n        public destroy(): void {\n            this.root = null;\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import SelectionManager = utility.SelectionManager;\n    import PixelConverter = jsCommon.PixelConverter;\n    import IStringResourceProvider = jsCommon.IStringResourceProvider;\n\n    const PercentFormat: string = \"0.00 %;-0.00 %;0.00 %\";\n    const MillisecondsInADay: number = 86400000;\n    const MillisecondsInWeek: number = 604800000;\n    const MillisecondsInAMonth: number = 2629746000;\n    const MillisecondsInAYear: number = 31556952000;\n    export const DefaultDateType: string = \"Week\";\n    const ChartLineHeight: number = 40;\n    const PaddingTasks: number = 5;\n\n    export module dateTypeSelector {\n        export const day: string = 'Day';\n        export const week: string = 'Week';\n        export const month: string = 'Month';\n        export const year: string = 'Year';\n\n        export const type: IEnumType = createEnumType([\n            { value: day, displayName: 'Day' },\n            { value: week, displayName: 'Week' },\n            { value: month, displayName: 'Month' },\n            { value: year, displayName: 'Year' }\n        ]);\n    }\n    export interface Task extends SelectableDataPoint {\n        id: number;\n        name: string;\n        start: Date;\n        duration: number;\n        completion: number;\n        resource: string;\n        end: Date;\n        taskType: string;\n        description: string;\n        color: string;\n        tooltipInfo: TooltipDataItem[];\n    }\n\n    export interface GanttChartFormatters {\n        startDateFormatter: IValueFormatter;\n        completionFormatter: IValueFormatter;\n        durationFormatter: IValueFormatter;\n    }\n\n    export interface GanttChartData {\n        legendData: LegendData;\n        series: GanttSeries[];\n        showLegend: boolean;\n    }\n\n    export interface GanttViewModel {\n        taskLabelsShow: boolean;\n        taskLabelsColor: string;\n        taskLabelsFontSize: number;\n        taskLabelsWidth: number;\n        taskProgressColor: string;\n        taskResourceShow: boolean;\n        taskResourceColor: string;\n        taskResourceFontSize: number;\n        legendData: LegendData;\n        taskTypes: TaskTypes;\n        dateType: string;\n    }\n\n    export interface GanttDataPoint extends SelectableDataPoint {\n        color: string;\n        value: any;\n    }\n\n    export interface GanttSeries extends SelectableDataPoint {\n        tasks: Task[];\n        fill: string;\n        name: string;\n    }\n\n    export interface TaskTypes { /*TODO: change to more proper name*/\n        types: string[];\n        typeName: string;\n    };\n\n    interface Line {\n        x1: number;\n        y1: number;\n        x2: number;\n        y2: number;\n        tooltipInfo: TooltipDataItem[];\n    }\n\n    export const GanttChartProps = {\n        legend: {\n            show: <DataViewObjectPropertyIdentifier>{ objectName: 'legend', propertyName: 'show' },\n            position: <DataViewObjectPropertyIdentifier>{ objectName: 'legend', propertyName: 'position' },\n            showTitle: <DataViewObjectPropertyIdentifier>{ objectName: 'legend', propertyName: 'showTitle' },\n            titleText: <DataViewObjectPropertyIdentifier>{ objectName: 'legend', propertyName: 'titleText' },\n            labelColor: <DataViewObjectPropertyIdentifier>{ objectName: 'legend', propertyName: 'labelColor' },\n            fontSize: <DataViewObjectPropertyIdentifier>{ objectName: 'legend', propertyName: 'fontSize' },\n        },\n        taskCompletion: {\n            fill: <DataViewObjectPropertyIdentifier>{ objectName: 'taskCompletion', propertyName: 'fill' },\n        },\n        dataPoint: {\n            fill: <DataViewObjectPropertyIdentifier>{ objectName: 'dataPoint', propertyName: 'fill' },\n        },\n        taskLabels: {\n            show: <DataViewObjectPropertyIdentifier>{ objectName: 'taskLabels', propertyName: 'show' },\n            fill: <DataViewObjectPropertyIdentifier>{ objectName: 'taskLabels', propertyName: 'fill' },\n            fontSize: <DataViewObjectPropertyIdentifier>{ objectName: 'taskLabels', propertyName: 'fontSize' },\n            width: <DataViewObjectPropertyIdentifier>{ objectName: 'taskLabels', propertyName: 'width' },\n        },\n        taskResource: {\n            show: <DataViewObjectPropertyIdentifier>{ objectName: 'taskResource', propertyName: 'show' },\n            fill: <DataViewObjectPropertyIdentifier>{ objectName: 'taskResource', propertyName: 'fill' },\n            fontSize: <DataViewObjectPropertyIdentifier>{ objectName: 'taskResource', propertyName: 'fontSize' },\n        },\n        ganttDateType:\n        {\n            type: <DataViewObjectPropertyIdentifier>{ objectName: 'ganttDateType', propertyName: 'type' },\n        }\n    };\n\n    module Selectors {\n\n        import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n        import CreateClassAndSelector = jsCommon.CssConstants.createClassAndSelector;\n\n        export const ClassName: ClassAndSelector = CreateClassAndSelector(\"gantt\");\n        export const Chart: ClassAndSelector = CreateClassAndSelector(\"chart\");\n        export const ChartLine: ClassAndSelector = CreateClassAndSelector(\"chart-line\");\n        export const Body: ClassAndSelector = CreateClassAndSelector(\"gantt-body\");\n        export const AxisGroup: ClassAndSelector = CreateClassAndSelector(\"axis\");\n        export const Domain: ClassAndSelector = CreateClassAndSelector(\"domain\");\n        export const AxisTick: ClassAndSelector = CreateClassAndSelector(\"tick\");\n\n        export const Tasks: ClassAndSelector = CreateClassAndSelector(\"tasks\");\n        export const SingleTask: ClassAndSelector = CreateClassAndSelector(\"task\");\n        export const TaskRect: ClassAndSelector = CreateClassAndSelector(\"task-rect\");\n        export const TaskProgress: ClassAndSelector = CreateClassAndSelector(\"task-progress\");\n        export const TaskResource: ClassAndSelector = CreateClassAndSelector(\"task-resource\");\n        export const SingleMilestone: ClassAndSelector = CreateClassAndSelector(\"milestone\");\n\n        export const TaskLabels: ClassAndSelector = CreateClassAndSelector(\"task-labels\");\n        export const TaskLines: ClassAndSelector = CreateClassAndSelector(\"task-lines\");\n        export const SingleTaskLine: ClassAndSelector = CreateClassAndSelector(\"task-line\");\n        export const Label: ClassAndSelector = CreateClassAndSelector(\"label\");\n        export const LegendItems: ClassAndSelector = CreateClassAndSelector(\"legendItem\");\n        export const LegendTitle: ClassAndSelector = CreateClassAndSelector(\"legendTitle\");\n    }\n\n    export class Gantt implements IVisual {\n\n        private data: GanttChartData;\n        private dataView: DataView;\n        private viewport: IViewport;\n        private colors: IDataColorPalette;\n        private legend: ILegend;\n        private legendObjectProperties: DataViewObject;\n\n        private textProperties: TextProperties = {\n            fontFamily: 'wf_segoe-ui_normal',\n            fontSize: jsCommon.PixelConverter.toString(9),\n        };\n\n        private static DefaultValues = {\n            AxisTickSize: 6,\n            LabelFontSize: 9,\n            LegendFontSize: 8,\n            LegendLabelColor: \"#000000\",\n            MaxTaskOpacity: 1,\n            MinTaskOpacity: 0.4,\n            ProgressBarHeight: 4,\n            ProgressColor: \"#000000\",\n            ResourceFontSize: 9,\n            ResourceWidth: 100,\n            TaskColor: \"#00B099\",\n            TaskLabelColor: \"#000000\",\n            TaskLabelWidth: 110,\n            TaskLineWidth: 15,\n            TaskResourceColor: \"#000000\",\n            ganttFormatString: \"MMM dd\"\n        };\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: \"Legend\",\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: \"Legend\",\n                }, {\n                    name: \"Task\",\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: \"Task\"\n                }, {\n                    name: \"StartDate\",\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: \"Start Date\",\n                }, {\n                    name: \"Duration\",\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: \"Duration\",\n                    requiredTypes: [{ numeric: true }, { integer: true }]\n                }, {\n                    name: \"Completion\",\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: \"% Completion\",\n                    requiredTypes: [{ numeric: true }, { integer: true }]\n                }, {\n                    name: \"Resource\",\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: \"Resource\"\n                }\n            ],\n            dataViewMappings: [{\n                conditions: [\n                    {\n                        \"Legend\": { min: 0, max: 1 },\n                        \"Task\": { min: 1, max: 1 },\n                        \"StartDate\": { min: 0, max: 0 },\n                        \"Duration\": { min: 0, max: 0 },\n                        \"Completion\": { min: 0, max: 0 },\n                        \"Resource\": { min: 0, max: 0 }\n                    }, {\n                        \"Legend\": { min: 0, max: 1 },\n                        \"Task\": { min: 1, max: 1 },\n                        \"StartDate\": { min: 0, max: 1 },\n                        \"Duration\": { min: 0, max: 0 },\n                        \"Completion\": { min: 0, max: 0 },\n                        \"Resource\": { min: 0, max: 0 }\n                    }, {\n                        \"Legend\": { min: 0, max: 1 },\n                        \"Task\": { min: 0, max: 1 },\n                        \"StartDate\": { min: 0, max: 1 },\n                        \"Duration\": { min: 0, max: 1 },\n                        \"Completion\": { min: 0, max: 1 },\n                        \"Resource\": { min: 0, max: 1 },\n                    }\n                ],\n                table: {\n                    rows: {\n                        select:\n                        [\n                            { for: { in: \"Legend\" } },\n                            { for: { in: \"Task\" } },\n                            { for: { in: \"StartDate\" } },\n                            { for: { in: \"Duration\" } },\n                            { for: { in: \"Completion\" } },\n                            { for: { in: \"Resource\" } },\n                        ]\n                    },\n                },\n            }],\n            sorting: {\n                default: {},\n            },\n            objects: {\n                legend: {\n                    displayName: \"Legend\",\n                    description: \"Display legend options\",\n                    properties: {\n                        show: {\n                            displayName: \"Show\",\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: \"Position\",\n                            description: \"Select the location for the legend\",\n                            type: { enumeration: legendPosition.type }\n                        },\n                        showTitle: {\n                            displayName: \"Title\",\n                            description: \"Display a title for legend symbols\",\n                            type: { bool: true }\n                        },\n                        titleText: {\n                            displayName: \"Legend Name\",\n                            description: \"Title text\",\n                            type: { text: true },\n                            suppressFormatPainterCopy: true\n                        },\n                        labelColor: {\n                            displayName: \"Color\",\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: \"Text Size\",\n                            type: { formatting: { fontSize: true } }\n                        }\n                    }\n                },\n                //dataPoint: {\n                //    displayName: \"Data colors\",\n                //    properties: {\n                //        fill: {\n                //            displayName: \"Fill\",\n                //            type: { fill: { solid: { color: true } } }\n                //        }\n                //    }\n                //},\n                taskLabels: {\n                    displayName: 'Category Labels',\n                    properties: {\n                        show: {\n                            displayName: \"Show\",\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: 'Fill',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: 'Font Size',\n                            type: { formatting: { fontSize: true } }\n                        },\n                        width: {\n                            displayName: 'Width',\n                            type: { numeric: true }\n                        }\n                    }\n                },\n                taskCompletion: {\n                    displayName: 'Task Completion',\n                    properties: {\n                        show: {\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: 'Completion Color',\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                taskResource: {\n                    displayName: 'Data Labels',\n                    properties: {\n                        show: {\n                            displayName: \"Show\",\n                            type: { bool: true }\n                        },\n                        fill: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: 'Font Size',\n                            type: { formatting: { fontSize: true } }\n                        }\n                    }\n                },\n                ganttDateType: {\n                    displayName: 'Gantt Date Type',\n                    properties: {\n                        type: {\n                            displayName: \"Type\",\n                            type: { enumeration: dateTypeSelector.type }\n                        },\n                    }\n                },\n            }\n        };\n\n        private margin: IMargin = {\n            top: 50,\n            right: 40,\n            bottom: 40,\n            left: 10\n        };\n\n        private style: IVisualStyle;\n        private body: D3.Selection;\n        private ganttSvg: D3.Selection;\n        private viewModel: GanttViewModel;\n        private timeScale: D3.Scale.TimeScale;\n        private axisGroup: D3.Selection;\n\n        private chartGroup: D3.Selection;\n        private taskGroup: D3.Selection;\n        private lineGroup: D3.Selection;\n\n        private clearCatcher: D3.Selection;\n        private ganttDiv: D3.Selection;\n        private selectionManager: SelectionManager;\n        private behavior: GanttChartBehavior;\n        private interactivityService: IInteractivityService;\n        private hostServices: IVisualHostServices;\n        private isInteractiveChart: boolean;\n\n        public static getMaxTaskOpacity(): number {\n            return Gantt.DefaultValues.MaxTaskOpacity;\n        }\n\n        public static getMinTaskOpacity(): number {\n            return Gantt.DefaultValues.MinTaskOpacity;\n        }\n\n        public init(options: VisualInitOptions): void {\n            let element: JQuery = options.element;\n\n            this.style = options.style;\n            this.body = d3.select(element.get(0));\n\n            this.hostServices = options.host;\n            this.selectionManager = new SelectionManager({ hostServices: options.host });\n\n            this.isInteractiveChart = options.interactivity && options.interactivity.isInteractiveLegend;\n            this.interactivityService = createInteractivityService(this.hostServices);\n            this.createViewport(element);\n            this.updateChartSize(options.viewport);\n            this.behavior = new GanttChartBehavior();\n            this.colors = options.style.colorPalette.dataColors;\n\n            this.data = {\n                legendData: null,\n                series: null,\n                showLegend: null\n            };\n        }\n\n        /**\n         * Create the vieport area of the gantt chart\n         */\n        private createViewport(element: JQuery): void {\n            //create div container to the whole viewport area\n            this.ganttDiv = this.body.append(\"div\")\n                .classed(Selectors.Body.class, true);\n\n            //create container to the svg area\n            this.ganttSvg = this.ganttDiv\n                .append(\"svg\")\n                .classed(Selectors.ClassName.class, true);\n         \n            //create clear catcher\n            this.clearCatcher = appendClearCatcher(this.ganttSvg);\n\n            //create axis container\n            this.axisGroup = this.ganttSvg\n                .append(\"g\")\n                .classed(Selectors.AxisGroup.class, true);\n            \n            //create task lines container\n            this.lineGroup = this.ganttSvg\n                .append(\"g\")\n                .classed(Selectors.TaskLines.class, true);\n            \n            //create chart container\n            this.chartGroup = this.ganttSvg\n                .append(\"g\")\n                .classed(Selectors.Chart.class, true);\n            \n            //create tasks container\n            this.taskGroup = this.chartGroup\n                .append(\"g\")\n                .classed(Selectors.Tasks.class, true);\n\n            //create legend container\n            this.legend = createLegend(element.children(Selectors.Body.selector),\n                this.isInteractiveChart,\n                this.interactivityService,\n                true,\n                LegendPosition.Top);\n        }\n\n        /**\n         * Clear the viewport area\n         */\n        private clearViewport(): void {\n            this.body.selectAll(Selectors.LegendItems.selector).remove();\n            this.body.selectAll(Selectors.LegendTitle.selector).remove();\n            this.axisGroup.selectAll(Selectors.AxisTick.selector).remove();\n            this.axisGroup.selectAll(Selectors.Domain.selector).remove();\n            this.lineGroup.selectAll(\"*\").remove();\n            this.chartGroup.selectAll(Selectors.ChartLine.selector).remove();\n            this.chartGroup.selectAll(Selectors.SingleTask.selector).remove();\n        }\n\n        /**\n         * Update div container size to the whole viewport area\n         * @param viewport The vieport to change it size \n         */\n        private updateChartSize(viewport: IViewport): void {\n            this.ganttDiv.style({\n                height: PixelConverter.toString(viewport.height),\n                width: PixelConverter.toString(viewport.width)\n            });\n        }\n\n        /**\n       * Create the gantt tasks series based on all task types\n       * @param taskTypes All unique types from the tasks array.\n       */\n        private createSeries(objects: DataViewObjects, tasks: Task[]): GanttSeries[] {\n            let colorHelper = new ColorHelper(this.colors, GanttChartProps.dataPoint.fill);\n            let taskGroup: _.Dictionary<Task[]> = _.groupBy(tasks, t=> t.taskType);\n            let taskTypes = Gantt.getAllTasksTypes(this.dataView);\n\n            let series: GanttSeries[] = _.map(taskTypes.types, type => {\n                return {\n                    tasks: taskGroup[type],\n                    fill: colorHelper.getColorForMeasure(objects, type),\n                    name: type,\n                    identity: SelectionId.createWithMeasure(type),\n                    selected: false\n                };\n            });\n\n            return series;\n        }\n\n        /**\n        * Convert the dataView to view model\n        * @param dataView The data Model\n        */\n        public static converter(dataView: DataView, colorPalette: IDataColorPalette): GanttViewModel {\n            let taskLabelsShow: boolean = DataViewObjects.getValue<boolean>(dataView.metadata.objects, GanttChartProps.taskLabels.show, true);\n            let taskLabelsColor: string = DataViewObjects.getFillColor(dataView.metadata.objects, GanttChartProps.taskLabels.fill, Gantt.DefaultValues.TaskLabelColor);\n            let taskLabelsFontSize: number = DataViewObjects.getValue<number>(dataView.metadata.objects, GanttChartProps.taskLabels.fontSize, Gantt.DefaultValues.LabelFontSize);\n            let taskLabelsWidth: number = DataViewObjects.getValue<number>(dataView.metadata.objects, GanttChartProps.taskLabels.width, taskLabelsShow ? Gantt.DefaultValues.TaskLabelWidth : 0);\n            let taskProgressColor: string = DataViewObjects.getFillColor(dataView.metadata.objects, GanttChartProps.taskCompletion.fill, Gantt.DefaultValues.ProgressColor);\n            let taskResourceColor: string = DataViewObjects.getFillColor(dataView.metadata.objects, GanttChartProps.taskResource.fill, Gantt.DefaultValues.TaskResourceColor);\n            let taskResourceFontSize: number = DataViewObjects.getValue<number>(dataView.metadata.objects, GanttChartProps.taskResource.fontSize, Gantt.DefaultValues.ResourceFontSize);\n            let taskResourceShow: boolean = DataViewObjects.getValue<boolean>(dataView.metadata.objects, GanttChartProps.taskResource.show, true);\n            let dateType: string = DataViewObjects.getValue<string>(dataView.metadata.objects, GanttChartProps.ganttDateType.type, DefaultDateType);\n\n            let taskTypes = Gantt.getAllTasksTypes(dataView);\n            let colorHelper = new ColorHelper(colorPalette, GanttChartProps.dataPoint.fill);\n            let legendData: LegendData = {\n                fontSize: Gantt.DefaultValues.LegendFontSize,\n                dataPoints: [],\n                title: taskTypes.typeName\n            };\n\n            legendData.dataPoints = _.map(taskTypes.types, type => {\n                return {\n                    label: type,\n                    color: colorHelper.getColorForMeasure(dataView.metadata.objects, type),\n                    icon: LegendIcon.Circle,\n                    selected: false,\n                    identity: SelectionId.createWithMeasure(type)\n                };\n            });\n\n            let settings: GanttViewModel = {\n                taskLabelsShow: taskLabelsShow,\n                taskLabelsColor: taskLabelsColor,\n                taskLabelsFontSize: taskLabelsFontSize,\n                taskLabelsWidth: taskLabelsWidth,\n                taskProgressColor: taskProgressColor,\n                taskResourceShow: taskResourceShow,\n                taskResourceColor: taskResourceColor,\n                taskResourceFontSize: taskResourceFontSize,\n                legendData: legendData,\n                taskTypes: taskTypes,\n                dateType: dateType\n            };\n\n            return settings;\n        }\n\n        /**\n         * Returns the chart formatters\n         * @param dataView The data Model\n         */\n        private parseSettings(dataView: DataView): GanttChartFormatters {\n            if (!dataView ||\n                !dataView.metadata ||\n                !dataView.metadata.columns)\n                return null;\n\n            let dateFormat = \"d\";\n            let numberFormat = \"#\";\n\n            for (let dvColumn of dataView.metadata.columns) {\n                if (!!dataView.categorical.categories) {\n                    for (let dvCategory of dataView.categorical.categories) {\n                        if (this.hasRole(dvCategory.source, \"StartDate\"))\n                            dateFormat = dvColumn.format;\n                    }\n                }\n            }\n\n            return <GanttChartFormatters>{\n                startDateFormatter: valueFormatter.create({ format: dateFormat }),\n                durationFormatter: valueFormatter.create({ format: numberFormat }),\n                completionFormatter: valueFormatter.create({ format: PercentFormat, value: 1, allowFormatBeautification: true })\n            };\n        }\n\n        private isValidDate(date: Date) {\n            if (Object.prototype.toString.call(date) !== \"[object Date]\")\n                return false;\n            return !isNaN(date.getTime());\n        }\n\n        private convertToDecimal(number) {\n            if (!(number >= 0 && number <= 1))\n                return (number / 100);\n            return number;\n        }\n\n        /**\n        * Create task objects dataView\n        * @param dataView The data Model.\n        * @param formatters task attributes represented format.\n        * @param series An array that holds the color data of different task groups.\n        */\n        private createTasks(dataView: DataView, formatters: GanttChartFormatters): Task[] {\n            let columnSource = dataView.table.columns;\n            let data = dataView.table.rows;\n            let categories = dataView.categorical.categories[0];\n            let colorHelper = new ColorHelper(this.colors, GanttChartProps.dataPoint.fill);\n\n            return data.map((child: DataViewTableRow, index: number) => {\n                let dateString = this.getTaskProperty<Date>(columnSource, child, \"StartDate\");\n                //let startDate = new Date(dateString);\n                dateString = this.isValidDate(dateString) ? dateString : new Date(Date.now());\n\n                let duration = this.getTaskProperty<number>(columnSource, child, \"Duration\");\n\n                let completionValue = this.getTaskProperty<number>(columnSource, child, \"Completion\");\n                let completion = this.convertToDecimal(completionValue);\n                completion = completion <= 1 ? completion : 1;\n\n                let taskType = this.getTaskProperty<string>(columnSource, child, \"Legend\");\n                let tasksTypeColor: string = colorHelper.getColorForMeasure(dataView.metadata.objects, taskType);\n\n                let task: Task = {\n                    id: index,\n                    name: this.getTaskProperty<string>(columnSource, child, \"Task\"),\n                    start: dateString ? dateString : new Date(Date.now()),\n                    duration: duration > 0 ? duration : 1,\n                    end: null,\n                    completion: completion > 0 ? completion : 0,\n                    resource: this.getTaskProperty<string>(columnSource, child, \"Resource\"),\n                    taskType: taskType,\n                    color: tasksTypeColor ? tasksTypeColor : Gantt.DefaultValues.TaskColor, /* get color by task type  */\n                    tooltipInfo: null,\n                    description: \"\",\n                    identity: SelectionId.createWithIdAndMeasure(categories.identity[index], taskType),\n                    selected: false\n                };\n\n                task.end = d3.time.day.offset(task.start, task.duration);\n                task.tooltipInfo = this.getTooltipInfo(task, formatters);\n                return task;\n            });\n        }\n\n        /**\n        * Gets all unique types from the tasks array\n        * @param dataView The data model.\n        */\n        private static getAllTasksTypes(dataView: DataView): TaskTypes {\n            let types: string[] = [];\n            let groupName: string = \"\";\n            let taskTypes: TaskTypes;\n            let data = dataView.table.rows;\n            let index = _.findIndex(dataView.table.columns, col => col.roles.hasOwnProperty(\"Legend\"));\n\n            if (index !== -1) {\n                groupName = dataView.table.columns[index].displayName;\n                types = _.unique(data, (d) => d[index]).map((d) => d[index]);\n            }\n\n            taskTypes = {\n                typeName: groupName,\n                types: types\n            };\n\n            return taskTypes;\n        }\n\n        /**\n        * Get the tooltip info (data display names & formated values)\n        * @param task All task attributes.\n        * @param formatters Formatting options for gantt attributes.\n        */\n        private getTooltipInfo(task: Task, formatters: GanttChartFormatters, timeInterval: string = \"Days\") {\n            let tooltipDataArray: TooltipDataItem[] = [];\n\n            if (task.taskType)\n                tooltipDataArray.push({ displayName: Gantt.capabilities.dataRoles[0].name, value: task.taskType });\n\n            tooltipDataArray.push({ displayName: Gantt.capabilities.dataRoles[1].name, value: task.name });\n            if (!isNaN(task.start.getDate()))\n                tooltipDataArray.push({ displayName: Gantt.capabilities.dataRoles[2].name, value: formatters.startDateFormatter.format(task.start.toLocaleDateString()) });\n\n            tooltipDataArray.push({ displayName: Gantt.capabilities.dataRoles[3].name, value: formatters.durationFormatter.format(task.duration) + \" \" + timeInterval });\n            tooltipDataArray.push({ displayName: Gantt.capabilities.dataRoles[4].name, value: formatters.completionFormatter.format(task.completion) });\n\n            if (task.resource)\n                tooltipDataArray.push({ displayName: Gantt.capabilities.dataRoles[5].name, value: task.resource });\n\n            return tooltipDataArray;\n        }\n\n        /**\n         * Get task property from the data view\n         * @param columnSource\n         * @param child\n         * @param propertyName The property to get\n         */\n        private getTaskProperty<T>(columnSource: DataViewMetadataColumn[], child: DataViewTableRow, propertyName: string): T {\n            if (!child ||\n                !columnSource ||\n                !(columnSource.length > 0) ||\n                !columnSource[0].roles)\n                return null;\n\n            let index = columnSource.indexOf(columnSource.filter(x=> x.roles[propertyName])[0]);\n            return index !== -1 ? <T>child[index] : null;\n        }\n\n        /**\n         * Check if dataView has a given role\n         * @param column The dataView headers\n         * @param name The role to find\n         */\n        private hasRole(column: DataViewMetadataColumn, name: string) {\n            var roles = column.roles;\n            return roles && roles[name];\n        }\n\n        /**\n         * Check if task has data for task\n         * @param dataView\n         */\n        private isChartHasTask(dataView: DataView): boolean {\n            if (dataView.table &&\n                dataView.table.columns) {\n                for (let column of dataView.table.columns) {\n                    if (this.hasRole(column, \"Task\")) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n\n        /**\n         * Get legend data, calculate position and draw it\n         * @param ganttChartData Data for series and legend\n         */\n        private renderLegend(legendData: LegendData): void {\n            if (!legendData)\n                return;\n\n            if (this.legendObjectProperties) {\n                LegendData.update(legendData, this.legendObjectProperties);\n                var position: string;\n                position = <string>this.legendObjectProperties[legendProps.position];\n\n                if (position)\n                    this.legend.changeOrientation(LegendPosition[position]);\n            }\n\n            let viewport = this.viewport;\n            this.legend.drawLegend(legendData, { height: viewport.height, width: viewport.width });\n            Legend.positionChartArea(this.ganttSvg, this.legend);\n        }\n\n        private parseLegendProperties(dataView: DataView): void {\n            if (!dataView || !dataView.metadata) {\n                this.legendObjectProperties = {};\n                return;\n            }\n\n            this.legendObjectProperties = DataViewObjects.getObject(dataView.metadata.objects, 'legend', {});\n        }\n\n        /**\n        * Called on data change or resizing\n        * @param options The visual option that contains the dataview and the viewport\n        */\n        public update(options: VisualUpdateOptions) {\n            if (!options.dataViews || !options.dataViews[0])\n                return;\n            let dataView = options.dataViews[0];\n\n            if (!this.isChartHasTask(dataView) || options.dataViews[0].table.rows.length === 0) {\n                this.clearViewport();\n                return;\n            }\n\n            this.dataView = dataView;\n            let viewport = options.viewport;\n            this.viewport = viewport;\n            this.updateChartSize(viewport);\n\n            let viewModel: GanttViewModel = Gantt.converter(dataView, this.colors),\n                formatters: GanttChartFormatters = this.parseSettings(dataView),\n                tasks: Task[] = this.createTasks(dataView, formatters);\n\n            this.parseLegendProperties(dataView);\n            this.renderLegend(viewModel.legendData);\n            this.data.series = this.createSeries(dataView.metadata.objects, tasks);\n            this.viewModel = viewModel;\n\n            if (this.interactivityService) {\n                this.interactivityService.applySelectionStateToData(tasks);\n                this.interactivityService.applySelectionStateToData(this.data.series);\n            }\n\n            if (tasks.length > 0) {\n                let tasksSortedByStartDate: Task[] = _.sortBy(tasks, (t) => t.start);\n                let tasksSortedByEndDate: Task[] = _.sortBy(tasks, (t) => t.end);\n                let dateTypeMilliseconds = this.getDateType();\n\n                let startDate: Date = tasksSortedByStartDate[0].start,\n                    endDate: Date = tasksSortedByEndDate[tasks.length - 1].end,\n                    ticks = Math.ceil(Math.round(endDate.valueOf() - startDate.valueOf()) / dateTypeMilliseconds);\n\n                ticks = ticks === 0 || ticks === 1 ? 2 : ticks;\n                let axisLength = ticks * 50;\n                this.ganttSvg\n                    .attr({\n                        height: PixelConverter.toString(tasks.length * ChartLineHeight + this.margin.top),\n                        width: PixelConverter.toString(this.margin.left + this.viewModel.taskLabelsWidth + axisLength + Gantt.DefaultValues.ResourceWidth)\n                    });\n\n                let viewportIn: IViewport = {\n                    height: viewport.height,\n                    width: axisLength\n                };\n\n                let xAxisProperties = this.calculateAxes(viewportIn, this.textProperties, startDate, endDate, axisLength, ticks, false);\n                this.timeScale = <D3.Scale.TimeScale>xAxisProperties.scale;\n\n                this.renderAxis(xAxisProperties, 200);\n                this.renderTasks(tasks);\n\n                this.createMilestoneLine(tasks);\n                this.updateTaskLabels(tasks, viewModel.taskLabelsWidth);\n                this.updateElementsPositions(viewport, this.margin);\n\n                if (this.interactivityService) {\n                    let behaviorOptions: GanttBehaviorOptions = {\n                        clearCatcher: this.clearCatcher,\n                        taskSelection: this.taskGroup.selectAll(Selectors.SingleTask.selector),\n                        legendSelection: this.body.selectAll(Selectors.LegendItems.selector),\n                        interactivityService: this.interactivityService\n                    };\n                    this.interactivityService.bind(tasks, this.behavior, behaviorOptions);\n                }\n            }\n        }\n        \n        private getDateType(): number {\n            let milliSeconds: number = MillisecondsInWeek;\n\n            switch (this.viewModel.dateType) {\n                case \"Day\":\n                    milliSeconds = MillisecondsInADay;\n                    break;\n\n                case \"Week\":\n                    milliSeconds = MillisecondsInWeek;\n                    break;\n\n                case \"Month\":\n                    milliSeconds = MillisecondsInAMonth;\n                    break;\n\n                case \"Year\":\n                    milliSeconds = MillisecondsInAYear;\n                    break;\n            }\n\n            return milliSeconds;\n        }\n\n        private calculateAxes(\n            viewportIn: IViewport,\n            textProperties: TextProperties,\n            startDate: Date,\n            endDate: Date,\n            axisLength: number,\n            ticksCount: number,\n            scrollbarVisible: boolean): IAxisProperties {\n\n            let dataTypeDatetime = ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.Date);\n            let category: DataViewMetadataColumn = { displayName: \"StartDate\", queryName: \"StartDate\", type: dataTypeDatetime, index: 0 };\n            let visualOptions: CalculateScaleAndDomainOptions = {\n                viewport: viewportIn,\n                margin: this.margin,\n                forcedXDomain: [startDate, endDate],\n                forceMerge: false,\n                showCategoryAxisLabel: false,\n                showValueAxisLabel: false,\n                categoryAxisScaleType: powerbi.visuals.axisScale.linear,\n                valueAxisScaleType: null,\n                valueAxisDisplayUnits: 0,\n                categoryAxisDisplayUnits: 0,\n                trimOrdinalDataOnOverflow: false,\n                forcedTickCount: ticksCount\n            };\n\n            let width = viewportIn.width;\n            let axes = this.calculateAxesProperties(viewportIn, visualOptions, axisLength, category);\n            axes.willLabelsFit = AxisHelper.LabelLayoutStrategy.willLabelsFit(\n                axes,\n                width,\n                TextMeasurementService.measureSvgTextWidth,\n                textProperties);\n\n            // If labels do not fit and we are not scrolling, try word breaking\n            axes.willLabelsWordBreak = (!axes.willLabelsFit && !scrollbarVisible) && AxisHelper.LabelLayoutStrategy.willLabelsWordBreak(\n                axes, this.margin, width, TextMeasurementService.measureSvgTextWidth,\n                TextMeasurementService.estimateSvgTextHeight, TextMeasurementService.getTailoredTextOrDefault,\n                textProperties);\n\n            return axes;\n        }\n\n        private calculateAxesProperties(viewportIn: IViewport, options: CalculateScaleAndDomainOptions, axisLength: number, metaDataColumn: DataViewMetadataColumn): IAxisProperties {\n            let xAxisProperties = AxisHelper.createAxis({\n                pixelSpan: viewportIn.width,\n                dataDomain: options.forcedXDomain,\n                metaDataColumn: metaDataColumn,\n                formatString: Gantt.DefaultValues.ganttFormatString,\n                outerPadding: 0,\n                isScalar: true,\n                isVertical: false,\n                forcedTickCount: options.forcedTickCount,\n                useTickIntervalForDisplayUnits: true,\n                isCategoryAxis: true,\n                getValueFn: (index, type) => {\n                    return valueFormatter.format(new Date(index), Gantt.DefaultValues.ganttFormatString);\n                },\n                scaleType: options.categoryAxisScaleType,\n                axisDisplayUnits: options.categoryAxisDisplayUnits,\n            });\n\n            xAxisProperties.axisLabel = metaDataColumn.displayName;\n            return xAxisProperties;\n        }\n\n        private renderAxis(xAxisProperties: IAxisProperties, duration: number): void {\n            let xAxis = xAxisProperties.axis;\n            xAxis.orient('bottom');\n\n            this.axisGroup.transition().duration(duration).call(xAxis);\n        }\n        /**\n        * Update task labels and add its tooltips \n        * @param tasks All tasks array\n        * @param width The task label width\n        */\n        private updateTaskLabels(tasks: Task[], width: number): void {\n            let axisLabel: D3.UpdateSelection;\n            let taskLineCoordinateX: number = 15;\n            let taskLabelsShow = this.viewModel ? this.viewModel.taskLabelsShow : true;\n            let taskLabelsColor = this.viewModel ? this.viewModel.taskLabelsColor : Gantt.DefaultValues.TaskLabelColor;\n            let taskLabelsFontSize = this.viewModel ? this.viewModel.taskLabelsFontSize : Gantt.DefaultValues.LabelFontSize;\n\n            if (taskLabelsShow) {\n                axisLabel = this.lineGroup.selectAll(Selectors.Label.selector).data(tasks);\n                axisLabel.enter().append(\"text\").classed(Selectors.Label.class, true);\n                axisLabel.attr({\n                    x: taskLineCoordinateX,\n                    y: (task: Task, i: number) => this.getTaskLabelCoordinateY(task.id),\n                    fill: taskLabelsColor,\n                    \"stroke-width\": 1\n                })\n                    .style(\"font-size\", PixelConverter.fromPoint(taskLabelsFontSize))\n                    .text((task) => { return task.name; });\n\n                axisLabel.call(AxisHelper.LabelLayoutStrategy.clip, width - 20, TextMeasurementService.svgEllipsis);\n                axisLabel.append(\"title\").text((task) => { return task.name; });\n                axisLabel.exit().remove();\n            }\n            else {\n                this.lineGroup.selectAll(Selectors.Label.selector).remove();\n            }\n        }\n\n        private renderTasks(tasks: Task[]) {\n            let taskSelection: D3.UpdateSelection = this.taskGroup.selectAll(Selectors.SingleTask.selector).data(tasks);\n            let taskProgressColor = this.viewModel ? this.viewModel.taskProgressColor : Gantt.DefaultValues.ProgressColor;\n            let taskResourceShow = this.viewModel ? this.viewModel.taskResourceShow : true;\n            let padding: number = 4;\n            let taskResourceColor = this.viewModel ? this.viewModel.taskResourceColor : Gantt.DefaultValues.TaskResourceColor;\n            let taskResourceFontSize: number = this.viewModel ? this.viewModel.taskResourceFontSize : Gantt.DefaultValues.ResourceFontSize;\n\n            //render task group container \n            taskSelection.enter().append(\"g\").classed(Selectors.SingleTask.class, true);\n            //render task main rect\n            let taskRect = taskSelection.selectAll(Selectors.TaskRect.selector).data((d: Task) => [d]);\n            taskRect.enter().append(\"rect\").classed(Selectors.TaskRect.class, true);\n            taskRect.classed(Selectors.TaskRect.class, true).attr({\n                x: (task: Task) => this.timeScale(task.start),\n                y: (task: Task) => this.getBarYCoordinate(task.id),\n                width: (task: Task) => this.taskDurationToWidth(task),\n                height: () => this.getBarHeight()\n            }).style(\"fill\", (task: Task) => task.color);\n            taskRect.exit().remove();\n\n            //render task progress rect \n            let taskProgress = taskSelection.selectAll(Selectors.TaskProgress.selector).data((d: Task) => [d]);\n            taskProgress.enter().append(\"rect\").classed(Selectors.TaskProgress.class, true);\n            taskProgress.attr({\n                x: (task: Task) => this.timeScale(task.start),\n                y: (task: Task) => this.getBarYCoordinate(task.id) + this.getBarHeight() / 2 - Gantt.DefaultValues.ProgressBarHeight / 2,\n                width: (task: Task) => this.setTaskProgress(task),\n                height: Gantt.DefaultValues.ProgressBarHeight\n            }).style(\"fill\", taskProgressColor);\n            taskProgress.exit().remove();\n\n            if (taskResourceShow) {\n                //render task resource labels\n                let taskResource = taskSelection.selectAll(Selectors.TaskResource.selector).data((d: Task) => [d]);\n                taskResource.enter().append(\"text\").classed(Selectors.TaskResource.class, true);\n                taskResource.attr({\n                    x: (task: Task) => this.timeScale(task.end) + padding,\n                    y: (task: Task) => (this.getBarYCoordinate(task.id) + (this.getBarHeight() / 2) + padding)\n                })\n                    .text((task: Task) => task.resource)\n                    .style({\n                        fill: taskResourceColor,\n                        \"font-size\": PixelConverter.fromPoint(taskResourceFontSize)\n                    }).call(AxisHelper.LabelLayoutStrategy.clip,\n                    Gantt.DefaultValues.ResourceWidth - 10,\n                    TextMeasurementService.svgEllipsis);\n\n                taskResource.exit().remove();\n            }\n            else {\n                taskSelection.selectAll(Selectors.TaskResource.selector).remove();\n            }\n\n            TooltipManager.addTooltip(taskSelection, (tooltipEvent: TooltipEvent) => (<Task>tooltipEvent.data).tooltipInfo);\n            taskSelection.exit().remove();\n        }\n\n        public onClearSelection() {\n            this.selectionManager.clear();\n        }\n\n        /**\n         * Returns the matching Y coordinate for a given task index \n         * @param taskIndex Task Number\n         */\n        private getTaskLabelCoordinateY(taskIndex: number): number {\n            let fontSize: number = +this.getTaskLabelFontSize();\n            return (ChartLineHeight * taskIndex) + (this.getBarHeight() + 5 - (40 - fontSize) / 4);\n        }\n\n        /**\n         * Set the task progress bar in the gantt\n         * @param task All task attributes\n         */\n        private setTaskProgress(task: Task): number {\n            let fraction = task.completion / 1.0,\n                y = this.timeScale,\n                progress = (y(task.end) - y(task.start)) * fraction;\n\n            return progress;\n        }\n\n        /**\n         * Set the task progress bar in the gantt\n         * @param lineNumber Line number that represents the task number\n         */\n        private getBarYCoordinate(lineNumber: number): number {\n            return (ChartLineHeight * lineNumber) + (PaddingTasks);\n        }\n\n        private getBarHeight(): number {\n            return ChartLineHeight / 1.5;\n        }\n\n        /**\n        * convert task duration to width in the time scale\n        * @param task The task to convert\n        */\n        private taskDurationToWidth(task: Task): number {\n            return this.timeScale(task.end) - this.timeScale(task.start);\n        }\n\n        private getTooltipForMilstoneLine(timestamp: number, milestoneTitle: string): TooltipDataItem[] {\n            let stringDate = new Date(timestamp).toDateString();\n            let tooltip: TooltipDataItem[] = [{ displayName: milestoneTitle, value: stringDate }];\n            return tooltip;\n        }\n\n        /**\n        * Create vertical dotted line that represent milestone in the time axis (by default it shows not time)\n        * @param tasks All tasks array\n        * @param timestamp the milestone to be shown in the time axis (default Date.now())\n        */\n        private createMilestoneLine(tasks: Task[], milestoneTitle: string = \"Today\", timestamp: number = Date.now()): void {\n            let line: Line[] = [{\n                x1: this.timeScale(timestamp),\n                y1: 0,\n                x2: this.timeScale(timestamp),\n                y2: this.getMilestoneLineLength(tasks.length),\n                tooltipInfo: this.getTooltipForMilstoneLine(timestamp, milestoneTitle)\n            }];\n\n            let chartLineSelection: D3.UpdateSelection = this.chartGroup.selectAll(Selectors.ChartLine.selector).data(line);\n            chartLineSelection.enter().append(\"line\").classed(Selectors.ChartLine.class, true);\n            chartLineSelection.attr({\n                x1: (line: Line) => line.x1,\n                y1: (line: Line) => line.y1,\n                x2: (line: Line) => line.x2,\n                y2: (line: Line) => line.y2,\n                tooltipInfo: (line: Line) => line.tooltipInfo\n            });\n\n            TooltipManager.addTooltip(chartLineSelection, (tooltipEvent: TooltipEvent) => (<Line>tooltipEvent.data).tooltipInfo);\n            chartLineSelection.exit().remove();\n        }\n\n        private updateElementsPositions(viewport: IViewport, margin: IMargin): void {\n            let viewModel = this.viewModel;\n            this.axisGroup.attr(\"transform\", SVGUtil.translate(viewModel.taskLabelsWidth + margin.left, 15));\n            this.chartGroup.attr(\"transform\", SVGUtil.translate(viewModel.taskLabelsWidth + margin.left, margin.top));\n            this.lineGroup.attr(\"transform\", SVGUtil.translate(0, margin.top));\n        }\n       \n        /**\n         * Returns the width of the now line based on num of tasks\n         * @param numOfTasks Number of tasks\n         */\n        private getMilestoneLineLength(numOfTasks: number): number {\n            return numOfTasks * ChartLineHeight;\n        }\n\n        private getTaskLabelFontSize(): number {\n            return DataViewObjects.getValue<number>(this.dataView.metadata.objects, GanttChartProps.taskLabels.fontSize, Gantt.DefaultValues.LabelFontSize);\n        }\n            \n        /** \n         * handle \"Legend\" card\n         * @param enumeration The instance to be pushed into \"Legend\" card\n         * @param objects Dataview objects\n         */\n        private enumerateLegendOptions(enumeration: ObjectEnumerationBuilder, objects: DataViewObjects) {\n            enumeration.pushInstance({\n                displayName: GanttChartProps.legend.show.objectName,\n                selector: null,\n                properties: {\n                    show: DataViewObjects.getValue<boolean>(objects, GanttChartProps.legend.show, true),\n                    position: DataViewObjects.getValue<boolean>(objects, GanttChartProps.legend.position, true), //TODO: change type of prop\n                    showTitle: DataViewObjects.getValue<boolean>(objects, GanttChartProps.legend.showTitle, true),\n                    titleText: DataViewObjects.getValue<string>(objects, GanttChartProps.legend.titleText, \"\"), //TODO: default text ?\n                    labelColor: DataViewObjects.getFillColor(objects, GanttChartProps.legend.labelColor, Gantt.DefaultValues.LegendLabelColor),\n                    fontSize: DataViewObjects.getValue<number>(objects, GanttChartProps.legend.fontSize, Gantt.DefaultValues.LegendFontSize)\n                },\n                objectName: GanttChartProps.legend.show.objectName\n            });\n        }\n\n        /** \n        * handle \"Data Colors\" card\n        * @param enumeration The instance to be pushed into \"Data Colors\" card\n        * @param objects Dataview objects\n        */\n        private enumerateDataPoints(enumeration: ObjectEnumerationBuilder, objects: DataViewObjects) {\n            let taskSeries: GanttSeries[] = this.data.series;\n\n            taskSeries.forEach((item: GanttSeries) => {\n                enumeration.pushInstance({\n                    objectName: 'dataPoint',\n                    displayName: item.name,\n                    selector: ColorHelper.normalizeSelector(item.identity.getSelector(), false),\n                    properties: {\n                        fill: { solid: { color: item.fill } }\n                    }\n                });\n            });\n        }\n            \n        /** \n        * handle \"Task Completion\" card\n        * @param enumeration The instance to be pushed into \"Task Completion\" card\n        * @param objects Dataview objects\n        */\n        private enumerateTaskCompletion(enumeration: ObjectEnumerationBuilder, objects: DataViewObjects) {\n            enumeration.pushInstance({\n                selector: null,\n                properties: {\n                    fill: DataViewObjects.getFillColor(objects, GanttChartProps.taskCompletion.fill, Gantt.DefaultValues.ProgressColor)\n                },\n                objectName: GanttChartProps.taskCompletion.fill.objectName\n            });\n        }\n        \n        /** \n        * handle \"Labels\" card\n        * @param enumeration The instance to be pushed into \"Data Labels\" card\n        * @param objects Dataview objects\n        */\n        private enumerateTaskLabels(enumeration: ObjectEnumerationBuilder, objects: DataViewObjects) {\n            enumeration.pushInstance({\n                selector: null,\n                properties: {\n                    show: DataViewObjects.getValue<boolean>(objects, GanttChartProps.taskLabels.show, true),\n                    fill: DataViewObjects.getFillColor(objects, GanttChartProps.taskLabels.fill, Gantt.DefaultValues.TaskLabelColor),\n                    fontSize: DataViewObjects.getValue<number>(objects, GanttChartProps.taskLabels.fontSize, Gantt.DefaultValues.LabelFontSize),\n                    width: DataViewObjects.getValue<number>(objects, GanttChartProps.taskLabels.width, Gantt.DefaultValues.TaskLabelWidth),\n                },\n                objectName: GanttChartProps.taskLabels.show.objectName\n            });\n        }\n      \n        /** \n        * handle \"Data Labels\" card\n        * @param enumeration The instance to be pushed into \"Task Resource\" card\n        * @param objects Dataview objects\n        */\n        private enumerateDataLabels(enumeration: ObjectEnumerationBuilder, objects: DataViewObjects) {\n            enumeration.pushInstance({\n                selector: null,\n                properties: {\n                    show: DataViewObjects.getValue<boolean>(objects, GanttChartProps.taskResource.show, true),\n                    fill: DataViewObjects.getFillColor(objects, GanttChartProps.taskResource.fill, Gantt.DefaultValues.TaskResourceColor),\n                    fontSize: DataViewObjects.getValue<number>(objects, GanttChartProps.taskResource.fontSize, Gantt.DefaultValues.ResourceFontSize)\n                },\n                objectName: GanttChartProps.taskResource.show.objectName\n            });\n        }\n\n        private enumerateDateType(enumeration: ObjectEnumerationBuilder, objects: DataViewObjects) {\n            enumeration.pushInstance({\n                selector: null,\n                properties: {\n                    type: DataViewObjects.getValue<string>(objects, GanttChartProps.ganttDateType.type, DefaultDateType),\n                },\n                objectName: GanttChartProps.ganttDateType.type.objectName\n            });\n        }        \n        /** \n        * handle the property pane options\n        * @param objects Dataview enumerate objects\n        */\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            let dataView = this.dataView;\n            if (!dataView)\n                return;\n\n            let enumeration = new ObjectEnumerationBuilder();\n\n            switch (options.objectName) {\n                case 'legend':\n                    this.enumerateLegendOptions(enumeration, dataView.metadata.objects);\n                    break;\n                case 'dataPoint':\n                    this.enumerateDataPoints(enumeration, dataView.metadata.objects);\n                    break;\n                case 'taskLabels':\n                    this.enumerateTaskLabels(enumeration, dataView.metadata.objects);\n                    break;\n                case 'taskCompletion':\n                    this.enumerateTaskCompletion(enumeration, dataView.metadata.objects);\n                    break;\n                case 'taskResource':\n                    this.enumerateDataLabels(enumeration, dataView.metadata.objects);\n                    break;\n                case 'ganttDateType':\n                    this.enumerateDateType(enumeration, dataView.metadata.objects);\n                    break;\n            }\n            return enumeration.complete();\n        }\n    }\n\n    export interface GanttBehaviorOptions {\n        clearCatcher: D3.Selection;\n        taskSelection: D3.Selection;\n        legendSelection: D3.Selection;\n        interactivityService: IInteractivityService;\n    }\n\n    export class GanttChartBehavior implements IInteractiveBehavior {\n        private options: GanttBehaviorOptions;\n\n        public bindEvents(options: GanttBehaviorOptions, selectionHandler: ISelectionHandler) {\n            this.options = options;\n            let clearCatcher = options.clearCatcher;\n\n            options.taskSelection.on('click', (d: SelectableDataPoint) => {\n                selectionHandler.handleSelection(d, d3.event.ctrlKey);\n                d3.event.stopPropagation();\n            });\n\n            clearCatcher.on('click', () => {\n                selectionHandler.handleClearSelection();\n            });\n        }\n\n        public renderSelection(hasSelection: boolean) {\n            let options = this.options;\n            let ganttMaxOpacity = Gantt.getMaxTaskOpacity();\n            let ganttMinOpacity = Gantt.getMinTaskOpacity();\n\n            options.taskSelection.style(\"opacity\", (d: SelectableDataPoint) => {\n                return (hasSelection && !d.selected) ? ganttMinOpacity : ganttMaxOpacity;\n            });\n\n        }\n    }\n\n    export class GanttChartWarning implements IVisualWarning {\n        public get code(): string {\n            return \"GanttChartWarning\";\n        }\n\n        public getMessages(resourceProvider: IStringResourceProvider): IVisualErrorMessage {\n            let message: string = \"This visual requires task value\",\n                titleKey: string = \"\",\n                detailKey: string = \"\",\n                visualMessage: IVisualErrorMessage;\n\n            visualMessage = {\n                message: message,\n                title: resourceProvider.get(titleKey),\n                detail: resourceProvider.get(detailKey)\n            };\n\n            return visualMessage;\n        }\n    }\n}","/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved. \n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in \n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\n\nmodule powerbi.visuals.samples {\n\timport ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n\timport createClassAndSelector = jsCommon.CssConstants.createClassAndSelector;\n\timport SelectionManager = utility.SelectionManager;\n\timport px = jsCommon.PixelConverter.toString;\n\timport pt = jsCommon.PixelConverter.fromPoint;\n\timport fromPointToPixel = jsCommon.PixelConverter.fromPointToPixel;\n\n\texport const Months: IEnumType = createEnumType([\n\t\t{ value: 1, displayName: 'January' },\n\t\t{ value: 2, displayName: 'February' },\n\t\t{ value: 3, displayName: 'March' },\n\t\t{ value: 4, displayName: 'April' },\n\t\t{ value: 5, displayName: 'May' },\n\t\t{ value: 6, displayName: 'June' },\n\t\t{ value: 7, displayName: 'July' },\n\t\t{ value: 8, displayName: 'August' },\n\t\t{ value: 9, displayName: 'September' },\n\t\t{ value: 10, displayName: 'October' },\n\t\t{ value: 11, displayName: 'November' },\n\t\t{ value: 12, displayName: 'December' }\n\t]);\n\n\texport const WeekDays: IEnumType = createEnumType([\n\t\t{ value: 0, displayName: 'Sunday' },\n\t\t{ value: 1, displayName: 'Monday' },\n\t\t{ value: 2, displayName: 'Tuesday' },\n\t\t{ value: 3, displayName: 'Wednesday' },\n\t\t{ value: 4, displayName: 'Thursday' },\n\t\t{ value: 5, displayName: 'Friday' },\n\t\t{ value: 6, displayName: 'Saturday' }\n\t]);\n\n\texport enum GranularityType {\n\t\tyear,\n\t\tquarter,\n\t\tmonth,\n\t\tweek,\n\t\tday\n\t}\n\n\texport interface GranularityName {\n\t\tgranularityType: GranularityType;\n\t\tname: string;\n\t}\n\n\texport interface TimelineMargins {\n\t\tLeftMargin: number;\n\t\tRightMargin: number;\n\t\tTopMargin: number;\n\t\tBottomMargin: number;\n\t\tCellWidth: number;\n\t\tCellHeight: number;\n\t\tStartXpoint: number;\n\t\tStartYpoint: number;\n\t\tElementWidth: number;\n\t\tMinCellWidth: number;\n\t\tMaxCellHeight: number;\n\t\tPeriodSlicerRectWidth: number;\n\t\tPeriodSlicerRectHeight: number;\n\t}\n\n\texport interface DefaultTimelineProperties {\n\t\tDefaultLabelsShow: boolean;\n\t\tTimelineDefaultTextSize: number;\n\t\tTimelineDefaultCellColor: string;\n\t\tTimelineDefaultCellColorOut: string;\n\t\tTimelineDefaultTimeRangeShow: boolean;\n\t\tDefaultTimeRangeColor: string;\n\t\tDefaultLabelColor: string;\n\t\tDefaultGranularity: GranularityType;\n\t\tDefaultFirstMonth: number;\n\t\tDefaultFirstDay: number;\n\t\tDefaultFirstWeekDay: number;\n\t}\n\n\texport interface TimelineSelectors {\n\t\tTimelineVisual: ClassAndSelector;\n\t\tSelectionRangeContainer: ClassAndSelector;\n\t\ttextLabel: ClassAndSelector;\n\t\tLowerTextCell: ClassAndSelector;\n\t\tUpperTextCell: ClassAndSelector;\n\t\tUpperTextArea: ClassAndSelector;\n\t\tLowerTextArea: ClassAndSelector;\n\t\tRangeTextArea: ClassAndSelector;\n\t\tCellsArea: ClassAndSelector;\n\t\tCursorsArea: ClassAndSelector;\n\t\tMainArea: ClassAndSelector;\n\t\tSelectionCursor: ClassAndSelector;\n\t\tCell: ClassAndSelector;\n\t\tCellRect: ClassAndSelector;\n\t\tVertLine: ClassAndSelector;\n\t\tTimelineSlicer: ClassAndSelector;\n\t\tPeriodSlicerGranularities: ClassAndSelector;\n\t\tPeriodSlicerSelection: ClassAndSelector;\n\t\tPeriodSlicerSelectionRect: ClassAndSelector;\n\t\tPeriodSlicerRect: ClassAndSelector;\n\t}\n\n\texport interface TimelineLabel {\n\t\ttitle: string;\n\t\ttext: string;\n\t\tid: number;\n\t}\n\n\texport interface ExtendedLabel {\n\t\tyearLabels?: TimelineLabel[];\n\t\tquarterLabels?: TimelineLabel[];\n\t\tmonthLabels?: TimelineLabel[];\n\t\tweekLabels?: TimelineLabel[];\n\t\tdayLabels?: TimelineLabel[];\n\t}\n\n\tconst SelectedCellColorProp: DataViewObjectPropertyIdentifier = { objectName: 'cells', propertyName: 'fillSelected' };\n\tconst UnselectedCellColorProp: DataViewObjectPropertyIdentifier = { objectName: 'cells', propertyName: 'fillUnselected' };\n\tconst TimeRangeColorProp: DataViewObjectPropertyIdentifier = { objectName: 'rangeHeader', propertyName: 'fontColor' };\n\tconst TimeRangeSizeProp: DataViewObjectPropertyIdentifier = { objectName: 'rangeHeader', propertyName: 'textSize' };\n\tconst TimeRangeShowProp: DataViewObjectPropertyIdentifier = { objectName: 'rangeHeader', propertyName: 'show' };\n\tconst LabelsColorProp: DataViewObjectPropertyIdentifier = { objectName: 'labels', propertyName: 'fontColor' };\n\tconst LabelsSizeProp: DataViewObjectPropertyIdentifier = { objectName: 'labels', propertyName: 'textSize' };\n\tconst LabelsShowProp: DataViewObjectPropertyIdentifier = { objectName: 'labels', propertyName: 'show' };\n\tconst CalendarMonthProp: DataViewObjectPropertyIdentifier = { objectName: 'calendar', propertyName: 'month' };\n\tconst CalendarDayProp: DataViewObjectPropertyIdentifier = { objectName: 'calendar', propertyName: 'day' };\n\tconst WeekDayProp: DataViewObjectPropertyIdentifier = { objectName: 'weekDay', propertyName: 'day' };\n\tconst GranularityNames: GranularityName[] = [\n\t\t{\n\t\t\tgranularityType: GranularityType.year,\n\t\t\tname: \"year\"\n\t\t}, {\n\t\t\tgranularityType: GranularityType.quarter,\n\t\t\tname: \"quarter\"\n\t\t}, {\n\t\t\tgranularityType: GranularityType.month,\n\t\t\tname: \"month\"\n\t\t}, {\n\t\t\tgranularityType: GranularityType.week,\n\t\t\tname: \"week\"\n\t\t}, {\n\t\t\tgranularityType: GranularityType.day,\n\t\t\tname: \"day\"\n\t\t}];\n\n\texport interface DatePeriod {\n\t\tidentifierArray: (string | number)[];\n\t\tstartDate: Date;\n\t\tendDate: Date;\n\t\tyear: number;\n\t\tweek: number[];\n\t\tfraction: number;\n\t\tindex: number;\n\t}\n\n\texport interface Granularity {\n\t\tgetType(): GranularityType;\n\t\tsplitDate(date: Date): (string | number)[];\n\t\tgetDatePeriods(): DatePeriod[];\n\t\tresetDatePeriods(): void;\n\t\tgetExtendedLabel(): ExtendedLabel;\n\t\tsetExtendedLabel(extendedLabel: ExtendedLabel): void;\n\t\tcreateLabels(granularity: Granularity): TimelineLabel[];\n\t\tsameLabel(firstDatePeriod: DatePeriod, secondDatePeriod: DatePeriod): boolean;\n\t\tgenerateLabel(datePeriod: DatePeriod): TimelineLabel;\n\t\taddDate(date: Date, identifierArray: (string | number)[]);\n\t\tsetNewEndDate(date: Date): void;\n\t\tsplitPeriod(index: number, newFraction: number, newDate: Date): void;\n\t}\n\n\texport interface TimelineCursorOverElement {\n\t\tindex: number;\n\t\tdatapoint: TimelineDatapoint;\n\t}\n\n\texport class TimelineGranularity {\n\t\tprivate datePeriods: DatePeriod[] = [];\n\t\tprivate extendedLabel: ExtendedLabel;\n\n\t\t/**\n\t\t* Returns the short month name of the given date (e.g. Jan, Feb, Mar)\n\t\t*/\n\t\tpublic shortMonthName(date: Date): string {\n\t\t\treturn date.toString().split(' ')[1];\n\t\t}\n\n\t\tpublic resetDatePeriods(): void {\n\t\t\tthis.datePeriods = [];\n\t\t}\n\n\t\tpublic getDatePeriods() {\n\t\t\treturn this.datePeriods;\n\t\t}\n\n\t\tpublic getExtendedLabel(): ExtendedLabel {\n\t\t\treturn this.extendedLabel;\n\t\t}\n\n\t\tpublic setExtendedLabel(extendedLabel: ExtendedLabel): void {\n\t\t\tthis.extendedLabel = extendedLabel;\n\t\t}\n\n\t\tpublic createLabels(granularity: Granularity): TimelineLabel[] {\n\t\t\tlet labels: TimelineLabel[] = [];\n\t\t\tlet lastDatePeriod: DatePeriod;\n\t\t\t_.map(this.datePeriods, (x) => {\n\t\t\t\tif (_.isEmpty(labels) || !granularity.sameLabel(x, lastDatePeriod)) {\n\t\t\t\t\tlastDatePeriod = x;\n\t\t\t\t\tlabels.push(granularity.generateLabel(x));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn labels;\n\t\t}\n\n\t\t/**\n\t\t* Adds the new date into the given datePeriods array\n\t\t* If the date corresponds to the last date period, given the current granularity,\n\t\t* it will be added to that date period. Otherwise, a new date period will be added to the array.\n\t\t* i.e. using Month granularity, Feb 2 2015 corresponds to Feb 3 2015.\n\t\t* It is assumed that the given date does not correspond to previous date periods, other than the last date period\n\t\t*/\n\t\tpublic addDate(date: Date, identifierArray: (string | number)[]): void {\n\t\t\tlet datePeriods: DatePeriod[] = this.getDatePeriods();\n\t\t\tlet lastDatePeriod: DatePeriod = datePeriods[datePeriods.length - 1];\n\t\t\tif (datePeriods.length === 0 || !_.isEqual(lastDatePeriod.identifierArray, identifierArray)) {\n\t\t\t\tif (datePeriods.length > 0)\n\t\t\t\t\tlastDatePeriod.endDate = date;\n\t\t\t\tdatePeriods.push({\n\t\t\t\t\tidentifierArray: identifierArray,\n\t\t\t\t\tstartDate: date,\n\t\t\t\t\tendDate: date,\n\t\t\t\t\tweek: this.determineWeek(date),\n\t\t\t\t\tyear: this.determineYear(date),\n\t\t\t\t\tfraction: 1,\n\t\t\t\t\tindex: datePeriods.length\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t\tlastDatePeriod.endDate = date;\n\t\t}\n\n\t\tpublic setNewEndDate(date: Date): void {\n\t\t\t_.last(this.datePeriods).endDate = date;\n\t\t}\n\n\t\t/**\n\t\t * Splits a given period into two periods.\n\t\t * The new period is added after the index of the old one, while the old one is simply updated.\n\t\t * @param index The index of the date priod to be split\n\t\t * @param newFraction The fraction value of the new date period\n\t\t * @param newDate The date in which the date period is split\n\t\t */\n\t\tpublic splitPeriod(index: number, newFraction: number, newDate: Date): void {\n\t\t\tlet oldDatePeriod: DatePeriod = this.datePeriods[index];\n\t\t\toldDatePeriod.fraction -= newFraction;\n\t\t\tlet newDateObject: DatePeriod = {\n\t\t\t\tidentifierArray: oldDatePeriod.identifierArray,\n\t\t\t\tstartDate: newDate,\n\t\t\t\tendDate: oldDatePeriod.endDate,\n\t\t\t\tweek: this.determineWeek(newDate),\n\t\t\t\tyear: this.determineYear(newDate),\n\t\t\t\tfraction: newFraction,\n\t\t\t\tindex: oldDatePeriod.index + oldDatePeriod.fraction\n\t\t\t};\n\t\t\toldDatePeriod.endDate = newDate;\n\t\t\tthis.datePeriods.splice(index + 1, 0, newDateObject);\n\t\t}\n\n\t\tprivate previousMonth(month: number): number {\n\t\t\treturn (month > 0) ? month - 1 : 11;\n\t\t}\n\n\t\tprivate nextMonth(month: number): number {\n\t\t\treturn (month < 11) ? month + 1 : 0;\n\t\t}\n\n\t\tprivate countWeeks(startDate: Date, endDate: Date): number {\n\t\t\tlet totalDays: number;\n\t\t\tif (endDate.getFullYear() === startDate.getFullYear() && endDate.getMonth() === startDate.getMonth() && endDate.getDate() >= startDate.getDate())\n\t\t\t\ttotalDays = endDate.getDate() - startDate.getDate();\n\t\t\telse {\n\t\t\t\ttotalDays = endDate.getDate() - 1;\n\t\t\t\tlet lastMonth = this.nextMonth(startDate.getMonth());\n\t\t\t\tlet month = endDate.getMonth();\n\t\t\t\twhile (month !== lastMonth) {\n\t\t\t\t\ttotalDays += new Date(endDate.getFullYear(), month, 0).getDate();\n\t\t\t\t\tmonth = this.previousMonth(month);\n\t\t\t\t}\n\t\t\t\ttotalDays += new Date(endDate.getFullYear(), lastMonth, 0).getDate() - startDate.getDate();\n\t\t\t}\n\t\t\treturn 1 + Math.floor(totalDays / 7);\n\t\t}\n\n\t\tpublic determineWeek(date: Date): number[] {\n\t\t\tvar year = date.getFullYear();\n\t\t\tif (this.inPreviousYear(date))\n\t\t\t\tyear--;\n\t\t\tlet dateOfFirstWeek: Date = Timeline.calendar.getDateOfFirstWeek(year);\n\t\t\tlet weeks: number = this.countWeeks(dateOfFirstWeek, date);\n\t\t\treturn [weeks, year];\n\t\t}\n\n\t\tprivate inPreviousYear(date: Date): boolean {\n\t\t\tlet dateOfFirstWeek: Date = Timeline.calendar.getDateOfFirstWeek(date.getFullYear());\n\t\t\treturn date < dateOfFirstWeek;\n\t\t}\n\n\t\tpublic determineYear(date: Date): number {\n\t\t\tlet firstDay: Date = new Date(date.getFullYear(), Timeline.calendar.getFirstMonthOfYear(), Timeline.calendar.getFirstDayOfYear());\n\t\t\treturn date.getFullYear() - ((firstDay <= date) ? 0 : 1);\n\t\t}\n\t}\n\n\texport class DayGranularity extends TimelineGranularity implements Granularity {\n\t\tpublic getType(): GranularityType {\n\t\t\treturn GranularityType.day;\n\t\t}\n\n\t\tpublic splitDate(date: Date): (string | number)[] {\n\t\t\treturn [this.shortMonthName(date), date.getDate(), date.getFullYear()];\n\t\t}\n\n\t\tpublic sameLabel(firstDatePeriod: DatePeriod, secondDatePeriod: DatePeriod): boolean {\n\t\t\treturn firstDatePeriod.startDate.getTime() === secondDatePeriod.startDate.getTime();\n\t\t}\n\n\t\tpublic generateLabel(datePeriod: DatePeriod): TimelineLabel {\n\t\t\treturn {\n\t\t\t\ttitle: this.shortMonthName(datePeriod.startDate) + ' ' + datePeriod.startDate.getDate() + ' - ' + datePeriod.year,\n\t\t\t\ttext: datePeriod.startDate.getDate().toString(),\n\t\t\t\tid: datePeriod.index\n\t\t\t};\n\t\t}\n\t}\n\n\texport class MonthGranularity extends TimelineGranularity implements Granularity {\n\t\tpublic getType(): GranularityType {\n\t\t\treturn GranularityType.month;\n\t\t}\n\n\t\tpublic splitDate(date: Date): (string | number)[] {\n\t\t\treturn [this.shortMonthName(date), date.getFullYear()];\n\t\t}\n\n\t\tpublic sameLabel(firstDatePeriod: DatePeriod, secondDatePeriod: DatePeriod): boolean {\n\t\t\treturn this.shortMonthName(firstDatePeriod.startDate) === this.shortMonthName(secondDatePeriod.startDate);\n\t\t}\n\n\t\tpublic generateLabel(datePeriod: DatePeriod): TimelineLabel {\n\t\t\tlet shortMonthName = this.shortMonthName(datePeriod.startDate);\n\t\t\treturn {\n\t\t\t\ttitle: shortMonthName,\n\t\t\t\ttext: shortMonthName,\n\t\t\t\tid: datePeriod.index\n\t\t\t};\n\t\t}\n\t}\n\n\texport class WeekGranularity extends TimelineGranularity implements Granularity {\n\t\tpublic getType(): GranularityType {\n\t\t\treturn GranularityType.week;\n\t\t}\n\n\t\tpublic splitDate(date: Date): (string | number)[] {\n\t\t\treturn this.determineWeek(date);\n\t\t}\n\n\t\tpublic sameLabel(firstDatePeriod: DatePeriod, secondDatePeriod: DatePeriod): boolean {\n\t\t\treturn _.isEqual(firstDatePeriod.week, secondDatePeriod.week);\n\t\t}\n\n\t\tpublic generateLabel(datePeriod: DatePeriod): TimelineLabel {\n\t\t\treturn {\n\t\t\t\ttitle: 'Week ' + datePeriod.week[0] + ' - ' + datePeriod.week[1],\n\t\t\t\ttext: 'W' + datePeriod.week[0],\n\t\t\t\tid: datePeriod.index\n\t\t\t};\n\t\t}\n\t}\n\n\texport class QuarterGranularity extends TimelineGranularity implements Granularity {\n\t\t/**\n\t\t * Returns the date's quarter name (e.g. Q1, Q2, Q3, Q4)\n\t\t * @param date A date \n\t\t */\n\t\tprivate quarterText(date: Date): string {\n\t\t\tlet quarter = 3;\n\t\t\tlet year = date.getFullYear();\n\t\t\twhile (date < Timeline.calendar.getQuarterStartDate(year, quarter))\n\t\t\t\tif (quarter > 0)\n\t\t\t\t\tquarter--;\n\t\t\t\telse {\n\t\t\t\t\tquarter = 3;\n\t\t\t\t\tyear--;\n\t\t\t\t}\n\t\t\tquarter++;\n\t\t\treturn 'Q' + quarter;\n\t\t}\n\n\t\tpublic getType(): GranularityType {\n\t\t\treturn GranularityType.quarter;\n\t\t}\n\n\t\tpublic splitDate(date: Date): (string | number)[] {\n\t\t\treturn [this.quarterText(date), date.getFullYear()];\n\t\t}\n\n\t\tpublic sameLabel(firstDatePeriod: DatePeriod, secondDatePeriod: DatePeriod): boolean {\n\t\t\treturn this.quarterText(firstDatePeriod.startDate) === this.quarterText(secondDatePeriod.startDate)\n\t\t\t\t&& firstDatePeriod.year === secondDatePeriod.year;\n\t\t}\n\n\t\tpublic generateLabel(datePeriod: DatePeriod): TimelineLabel {\n\t\t\tlet quarter = this.quarterText(datePeriod.startDate);\n\t\t\treturn {\n\t\t\t\ttitle: quarter + ' ' + datePeriod.year,\n\t\t\t\ttext: quarter,\n\t\t\t\tid: datePeriod.index\n\t\t\t};\n\t\t}\n\t}\n\n\texport class YearGranularity extends TimelineGranularity implements Granularity {\n\t\tpublic getType(): GranularityType {\n\t\t\treturn GranularityType.year;\n\t\t}\n\n\t\tpublic splitDate(date: Date): (string | number)[] {\n\t\t\treturn [date.getFullYear()];\n\t\t}\n\n\t\tpublic sameLabel(firstDatePeriod: DatePeriod, secondDatePeriod: DatePeriod): boolean {\n\t\t\treturn firstDatePeriod.year === secondDatePeriod.year;\n\t\t}\n\n\t\tpublic generateLabel(datePeriod: DatePeriod): TimelineLabel {\n\t\t\treturn {\n\t\t\t\ttitle: 'Year ' + datePeriod.year,\n\t\t\t\ttext: datePeriod.year.toString(),\n\t\t\t\tid: datePeriod.index\n\t\t\t};\n\t\t}\n\t}\n\n\texport class TimelineGranularityData {\n\t\tprivate dates: Date[];\n\t\tprivate granularities: Granularity[];\n\t\tprivate endingDate: Date;\n\n\t\t/**\n\t\t * Returns the date of the previos day \n\t\t * @param date The following date\n\t\t */\n\t\tpublic static previousDay(date: Date): Date {\n\t\t\tlet prevDay: Date = new Date(date.getTime());\n\t\t\tprevDay.setDate(prevDay.getDate() - 1);\n\t\t\treturn prevDay;\n\t\t}\n\n\t\t/**\n\t\t * Returns the date of the next day \n\t\t * @param date The previous date\n\t\t */\n\t\tpublic static nextDay(date: Date): Date {\n\t\t\tlet nextDay: Date = new Date(date.getTime());\n\t\t\tnextDay.setDate(nextDay.getDate() + 1);\n\t\t\treturn nextDay;\n\t\t}\n\n\t\t/**\n\t\t* Returns an array of dates with all the days between the start date and the end date\n\t\t*/\n\t\tprivate setDatesRange(startDate: Date, endDate: Date): void {\n\t\t\tthis.dates = [];\n\t\t\tlet date: Date = startDate;\n\t\t\twhile (date <= endDate) {\n\t\t\t\tthis.dates.push(date);\n\t\t\t\tdate = TimelineGranularityData.nextDay(date);\n\t\t\t}\n\t\t}\n\n\t\tconstructor(startDate: Date, endDate: Date) {\n\t\t\tthis.granularities = [];\n\t\t\tthis.setDatesRange(startDate, endDate);\n\t\t\tlet lastDate: Date = this.dates[this.dates.length - 1];\n\t\t\tthis.endingDate = TimelineGranularityData.nextDay(lastDate);\n\t\t}\n\n\t\t/**\n\t\t * Adds a new granularity to the array of granularities.\n\t\t * Resets the new granularity, adds all dates to it, and then edits the last date period with the ending date.\n\t\t * @param granularity The new granularity to be added\n\t\t */\n\t\tpublic addGranularity(granularity: Granularity): void {\n\t\t\tgranularity.resetDatePeriods();\n\t\t\tfor (let date of this.dates) {\n\t\t\t\tlet identifierArray: (string | number)[] = granularity.splitDate(date);\n\t\t\t\tgranularity.addDate(date, identifierArray);\n\t\t\t}\n\t\t\tgranularity.setNewEndDate(this.endingDate);\n\t\t\tthis.granularities.push(granularity);\n\t\t}\n\n\t\t/**\n\t\t * Returns a specific granularity from the array of granularities\n\t\t * @param index The index of the requested granularity\n\t\t */\n\t\tpublic getGranularity(index: number): Granularity {\n\t\t\treturn this.granularities[index];\n\t\t}\n\n\t\tpublic createGranularities(): void {\n\t\t\tthis.granularities = [];\n\t\t\tthis.addGranularity(new YearGranularity());\n\t\t\tthis.addGranularity(new QuarterGranularity());\n\t\t\tthis.addGranularity(new MonthGranularity());\n\t\t\tthis.addGranularity(new WeekGranularity());\n\t\t\tthis.addGranularity(new DayGranularity());\n\t\t}\n\n\t\tpublic createLabels(): void {\n\t\t\tthis.granularities.forEach((x) => {\n\t\t\t\tx.setExtendedLabel({\n\t\t\t\t\tdayLabels: x.getType() >= GranularityType.day ? x.createLabels(this.granularities[GranularityType.day]) : [],\n\t\t\t\t\tweekLabels: x.getType() >= GranularityType.week ? x.createLabels(this.granularities[GranularityType.week]) : [],\n\t\t\t\t\tmonthLabels: x.getType() >= GranularityType.month ? x.createLabels(this.granularities[GranularityType.month]) : [],\n\t\t\t\t\tquarterLabels: x.getType() >= GranularityType.quarter ? x.createLabels(this.granularities[GranularityType.quarter]) : [],\n\t\t\t\t\tyearLabels: x.getType() >= GranularityType.year ? x.createLabels(this.granularities[GranularityType.year]) : [],\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\texport class Utils {\n\t\t/**\n\t\t * Returns the date of the start of the selection\n\t\t * @param timelineData The TimelineData which contains all the date periods\n\t\t */\n\t\tpublic static getStartSelectionDate(timelineData: TimelineData): Date {\n\t\t\treturn timelineData.currentGranularity.getDatePeriods()[timelineData.selectionStartIndex].startDate;\n\t\t}\n\n\t\t/**\n\t\t * Returns the date of the end of the selection\n\t\t * @param timelineData The TimelineData which contains all the date periods\n\t\t */\n\t\tpublic static getEndSelectionDate(timelineData: TimelineData): Date {\n\t\t\treturn timelineData.currentGranularity.getDatePeriods()[timelineData.selectionEndIndex].endDate;\n\t\t}\n\n\t\t/**\n\t\t * Returns the date period of the end of the selection\n\t\t * @param timelineData The TimelineData which contains all the date periods\n\t\t */\n\t\tpublic static getEndSelectionPeriod(timelineData: TimelineData): DatePeriod {\n\t\t\treturn timelineData.currentGranularity.getDatePeriods()[timelineData.selectionEndIndex];\n\t\t}\n\n\t\t/**\n\t\t * Returns the color of a cell, depending on whether its date period is between the selected date periods\n\t\t * @param d The TimelineDataPoint of the cell\n\t\t * @param timelineData The TimelineData with the selected date periods\n\t\t * @param timelineFormat The TimelineFormat with the chosen colors\n\t\t */\n\t\tpublic static getCellColor(d: TimelineDatapoint, timelineData: TimelineData, cellFormat: CellFormat): string {\n\t\t\tlet inSelectedPeriods: boolean = d.datePeriod.startDate >= Utils.getStartSelectionDate(timelineData) && d.datePeriod.endDate <= Utils.getEndSelectionDate(timelineData);\n\t\t\treturn inSelectedPeriods ? cellFormat.colorInProperty : cellFormat.colorOutProperty;\n\t\t}\n\n\t\t/**\n\t\t * Returns the granularity type of the given granularity name\n\t\t * @param granularityName The name of the granularity\n\t\t */\n\t\tpublic static getGranularityType(granularityName: string): GranularityType {\n\t\t\tlet index: number = _.findIndex(GranularityNames, x => x.name === granularityName);\n\t\t\treturn GranularityNames[index].granularityType;\n\t\t}\n\n\t\t/**\n\t\t * Returns the name of the granularity type\n\t\t * @param granularity The type of granularity\n\t\t */\n\t\tpublic static getGranularityName(granularity: GranularityType): string {\n\t\t\tlet index: number = _.findIndex(GranularityNames, x => x.granularityType === granularity);\n\t\t\treturn GranularityNames[index].name;\n\t\t}\n\n\t\t/**\n\t\t * Splits the date periods of the current granularity, in case the stard and end of the selection is in between a date period.\n\t\t * i.e. for a quarter granularity and a selection between Feb 6 and Dec 23, the date periods for Q1 and Q4 will be split accordingly\n\t\t * @param timelineData The TimelineData that contains the date periods\n\t\t * @param startDate The starting date of the selection\n\t\t * @param endDate The ending date of the selection\n\t\t */\n\t\tpublic static separateSelection(timelineData: TimelineData, startDate: Date, endDate: Date): void {\n\t\t\tlet datePeriods: DatePeriod[] = timelineData.currentGranularity.getDatePeriods();\n\t\t\tlet startDateIndex: number = _.findIndex(datePeriods, x => startDate < x.endDate);\n\t\t\tlet endDateIndex: number = _.findIndex(datePeriods, x => endDate <= x.endDate);\n\t\t\ttimelineData.selectionStartIndex = startDateIndex;\n\t\t\ttimelineData.selectionEndIndex = endDateIndex;\n\t\t\tlet startRatio: number = Utils.getDateRatio(datePeriods[startDateIndex], startDate, true);\n\t\t\tlet endRatio: number = Utils.getDateRatio(datePeriods[endDateIndex], endDate, false);\n\t\t\tif (endRatio > 0)\n\t\t\t\ttimelineData.currentGranularity.splitPeriod(endDateIndex, endRatio, endDate);\n\t\t\tif (startRatio > 0) {\n\t\t\t\tlet startFration: number = datePeriods[startDateIndex].fraction - startRatio;\n\t\t\t\ttimelineData.currentGranularity.splitPeriod(startDateIndex, startFration, startDate);\n\t\t\t\ttimelineData.selectionStartIndex++;\n\t\t\t\ttimelineData.selectionEndIndex++;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Returns the ratio of the given date compared to the whole date period.\n\t\t * The ratio is calculated either from the start or the end of the date period.\n\t\t * i.e. the ratio of Feb 7 2016 compared to the month of Feb 2016,\n\t\t * is 0.2142 from the start of the month, or 0.7857 from the end of the month.\n\t\t * @param datePeriod The date period that contain the specified date\n\t\t * @param date The date\n\t\t * @param fromStart Whether to calculater the ratio from the start of the date period.\n\t\t */\n\t\tpublic static getDateRatio(datePeriod: DatePeriod, date: Date, fromStart: boolean): number {\n\t\t\tlet dateDifference: number = fromStart ? date.getTime() - datePeriod.startDate.getTime() : datePeriod.endDate.getTime() - date.getTime();\n\t\t\tlet periodDifference: number = datePeriod.endDate.getTime() - datePeriod.startDate.getTime();\n\t\t\treturn periodDifference === 0 ? 0 : dateDifference / periodDifference;\n\t\t}\n\n\t\t/**\n\t\t* Returns the time range text, depending on the given granularity (e.g. \"Feb 3 2014 - Apr 5 2015\", \"Q1 2014 - Q2 2015\")\n\t\t*/\n\t\tpublic static timeRangeText(timelineData: TimelineData): string {\n\t\t\tlet startSelectionDateArray: (string | number)[] = timelineData.currentGranularity.splitDate(Utils.getStartSelectionDate(timelineData));\n\t\t\tlet endSelectionDateArray: (string | number)[] = timelineData.currentGranularity.splitDate(Utils.getEndSelectionPeriod(timelineData).startDate);\n\t\t\treturn startSelectionDateArray.join(' ') + ' - ' + endSelectionDateArray.join(' ');\n\t\t}\n\n\t\tpublic static dateRangeText(datePeriod: DatePeriod): string {\n\t\t\treturn datePeriod.startDate.toDateString() + ' - ' + TimelineGranularityData.previousDay(datePeriod.endDate).toDateString();\n\t\t}\n\n\t\t/**\n\t\t * Combines the first two partial date periods, into a single date period.\n\t\t * Returns whether a partial date period was found.\n\t\t * i.e. combines \"Feb 1 2016 - Feb 5 2016\" with \"Feb 5 2016 - Feb 29 2016\" into \"Feb 1 2016 - Feb 29 2016\"\n\t\t * @param datePeriods The list of date periods\n\t\t */\n\t\tpublic static unseparateSelection(datePeriods: DatePeriod[]): boolean {\n\t\t\tlet separationIndex: number = _.findIndex(datePeriods, x => x.fraction < 1);\n\t\t\tif (separationIndex >= 0) {\n\t\t\t\tdatePeriods[separationIndex].endDate = datePeriods[separationIndex + 1].endDate;\n\t\t\t\tdatePeriods[separationIndex].fraction += datePeriods[separationIndex + 1].fraction;\n\t\t\t\tdatePeriods.splice(separationIndex + 1, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\n\texport interface TimelineProperties {\n\t\tleftMargin: number;\n\t\trightMargin: number;\n\t\ttopMargin: number;\n\t\tbottomMargin: number;\n\t\ttextYPosition: number;\n\t\tstartXpoint: number;\n\t\tstartYpoint: number;\n\t\telementWidth: number;\n\t\telement: any;\n\t\tcellWidth: number;\n\t\tcellHeight: number;\n\t\tcellsYPosition: number;\n\t}\n\n\texport interface TimelineFormat {\n\t\tcellFormat?: CellFormat;\n\t\trangeTextFormat?: LabelFormat;\n\t\tlabelFormat?: LabelFormat;\n\t\tcalendarFormat?: CalendarFormat;\n\t}\n\n\texport interface LabelFormat {\n\t\tshowProperty: boolean;\n\t\tsizeProperty: number;\n\t\tcolorProperty: string;\n\t}\n\n\texport interface CalendarFormat {\n\t\tfirstMonthProperty: number;\n\t\tfirstDayProperty: number;\n\t\tweekDayProperty: number;\n\t}\n\n\texport interface CellFormat {\n\t\tcolorInProperty: string;\n\t\tcolorOutProperty: string;\n\t}\n\n\texport interface TimelineData {\n\t\tdragging?: boolean;\n\t\tcategorySourceName?: string;\n\t\tcolumnIdentity?: powerbi.data.SQColumnRefExpr;\n\t\ttimelineDatapoints?: TimelineDatapoint[];\n\t\telementsCount?: number;\n\t\tselectionStartIndex?: number;\n\t\tselectionEndIndex?: number;\n\t\tcursorDataPoints?: CursorDatapoint[];\n\t\tcurrentGranularity?: Granularity;\n\t}\n\n\texport interface CursorDatapoint {\n\t\tx: number;\n\t\tcursorIndex: number;\n\t\tselectionIndex: number;\n\t}\n\n\texport interface TimelineDatapoint {\n\t\tindex: number;\n\t\tdatePeriod: DatePeriod;\n\t}\n\n\texport interface DateDictionary {\n\t\t[year: number]: Date;\n\t}\n\n\texport class Calendar {\n\t\tprivate firstDayOfWeek: number;\n\t\tprivate firstMonthOfYear: number;\n\t\tprivate firstDayOfYear: number;\n\t\tprivate dateOfFirstWeek: DateDictionary;\n\t\tprivate quarterFirstMonths: number[];\n\n\t\tpublic getFirstDayOfWeek(): number {\n\t\t\treturn this.firstDayOfWeek;\n\t\t}\n\n\t\tpublic getFirstMonthOfYear(): number {\n\t\t\treturn this.firstMonthOfYear;\n\t\t}\n\n\t\tpublic getFirstDayOfYear(): number {\n\t\t\treturn this.firstDayOfYear;\n\t\t}\n\n\t\tpublic getQuarterStartDate(year: number, quarterIndex: number): Date {\n\t\t\treturn new Date(year, this.quarterFirstMonths[quarterIndex], this.firstDayOfYear);\n\t\t}\n\n\t\tpublic isChanged(calendarFormat: CalendarFormat): boolean {\n\t\t\treturn this.firstMonthOfYear !== (calendarFormat.firstMonthProperty - 1)\n\t\t\t\t|| this.firstDayOfYear !== calendarFormat.firstDayProperty\n\t\t\t\t|| this.firstDayOfWeek !== calendarFormat.weekDayProperty;\n\t\t}\n\n\t\tconstructor(calendarFormat: CalendarFormat) {\n\t\t\tthis.firstDayOfWeek = calendarFormat.weekDayProperty;\n\t\t\tthis.firstMonthOfYear = calendarFormat.firstMonthProperty - 1;\n\t\t\tthis.firstDayOfYear = calendarFormat.firstDayProperty;\n\t\t\tthis.dateOfFirstWeek = {};\n\t\t\tthis.quarterFirstMonths = [0, 3, 6, 9].map((x) => x + this.firstMonthOfYear);\n\t\t}\n\n\t\tprivate calculateDateOfFirstWeek(year: number): Date {\n\t\t\tlet date: Date = new Date(year, this.firstMonthOfYear, this.firstDayOfYear);\n\t\t\twhile (date.getDay() !== this.firstDayOfWeek)\n\t\t\t\tdate = TimelineGranularityData.nextDay(date);\n\t\t\treturn date;\n\t\t}\n\n\t\tpublic getDateOfFirstWeek(year: number): Date {\n\t\t\tif (!this.dateOfFirstWeek[year])\n\t\t\t\tthis.dateOfFirstWeek[year] = this.calculateDateOfFirstWeek(year);\n\t\t\treturn this.dateOfFirstWeek[year];\n\t\t}\n\t}\n\n\texport class Timeline implements IVisual {\n\t\tprivate requiresNoUpdate: boolean = false;\n\t\tprivate foreignSelection: boolean = false;\n\t\tprivate timelineProperties: TimelineProperties;\n\t\tprivate timelineFormat: TimelineFormat;\n\t\tprivate timelineData: TimelineData;\n\t\tprivate timelineGranularityData: TimelineGranularityData;\n\t\tprivate hostServices: IVisualHostServices;\n\t\tprivate svg: D3.Selection;\n\t\tprivate timelineDiv: D3.Selection;\n\t\tprivate body: D3.Selection;\n\t\tprivate rangeText: D3.Selection;\n\t\tprivate mainGroupElement: D3.Selection;\n\t\tprivate yearLabelsElement: D3.Selection;\n\t\tprivate quarterLabelsElement: D3.Selection;\n\t\tprivate monthLabelsElement: D3.Selection;\n\t\tprivate weekLabelsElement: D3.Selection;\n\t\tprivate dayLabelsElement: D3.Selection;\n\t\tprivate cellsElement: D3.Selection;\n\t\tprivate cursorGroupElement: D3.Selection;\n\t\tprivate selectorContainer: D3.Selection;\n\t\tprivate options: VisualUpdateOptions;\n\t\tprivate periodSlicerRect: D3.Selection;\n\t\tprivate selectedText: D3.Selection;\n\t\tprivate selector = ['Y', 'Q', 'M', 'W', 'D'];\n\t\tprivate initialized: boolean;\n\t\tprivate selectionManager: SelectionManager;\n\t\tprivate clearCatcher: D3.Selection;\n\t\tprivate dataView: DataView;\n\t\tprivate valueType: string;\n\t\tprivate values: any[];\n\t\tprivate svgWidth: number;\n\t\tprivate newGranularity: GranularityType;\n\t\tpublic static calendar: Calendar;\n\t\tpublic static capabilities: VisualCapabilities = {\n\t\t\tdataRoles: [{\n                name: 'Time',\n                kind: powerbi.VisualDataRoleKind.Grouping,\n                displayName: 'Time'\n            }],\n\t\t\tdataViewMappings: [{\n\t\t\t\tconditions: [\n\t\t\t\t\t{ 'Time': { max: 1 } }\n\t\t\t\t],\n\t\t\t\tcategorical: {\n\t\t\t\t\tcategories: {\n\t\t\t\t\t\tfor: { in: 'Time' },\n\t\t\t\t\t\tdataReductionAlgorithm: { sample: {} }\n\t\t\t\t\t},\n\t\t\t\t\tvalues: {\n\t\t\t\t\t\tselect:\n\t\t\t\t\t\t[{\n\t\t\t\t\t\t\tbind: { to: 'Time' }\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}],\n\t\t\tobjects: {\n\t\t\t\tgeneral: {\n\t\t\t\t\tdisplayName: 'General',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tformatString: {\n\t\t\t\t\t\t\ttype: {\n\t\t\t\t\t\t\t\tformatting: {\n\t\t\t\t\t\t\t\t\tformatString: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselected: {\n\t\t\t\t\t\t\ttype: { bool: true }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfilter: {\n\t\t\t\t\t\t\ttype: { filter: {} },\n\t\t\t\t\t\t\trule: {\n\t\t\t\t\t\t\t\toutput: {\n\t\t\t\t\t\t\t\t\tproperty: 'selected',\n\t\t\t\t\t\t\t\t\tselector: ['Time'],\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tcalendar: {\n\t\t\t\t\tdisplayName: 'Fiscal Year Start',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tmonth: {\n\t\t\t\t\t\t\tdisplayName: 'Month',\n\t\t\t\t\t\t\ttype: { enumeration: Months }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tday: {\n\t\t\t\t\t\t\tdisplayName: 'Day',\n\t\t\t\t\t\t\ttype: { numeric: true }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tweekDay: {\n\t\t\t\t\tdisplayName: 'First Day of Week',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tday: {\n\t\t\t\t\t\t\tdisplayName: 'Day',\n\t\t\t\t\t\t\ttype: { enumeration: WeekDays }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trangeHeader: {\n\t\t\t\t\tdisplayName: 'Range Header',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\tdisplayName: 'Show',\n\t\t\t\t\t\t\ttype: { bool: true }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfontColor: {\n\t\t\t\t\t\t\tdisplayName: 'Font color',\n\t\t\t\t\t\t\ttype: { fill: { solid: { color: true } } }\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttextSize: {\n\t\t\t\t\t\t\tdisplayName: 'Text Size',\n\t\t\t\t\t\t\ttype: { numeric: true }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcells: {\n\t\t\t\t\tdisplayName: 'Cells',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tfillSelected: {\n\t\t\t\t\t\t\tdisplayName: 'Selected cell color',\n\t\t\t\t\t\t\ttype: { fill: { solid: { color: true } } }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfillUnselected: {\n\t\t\t\t\t\t\tdisplayName: 'Unselected cell color',\n\t\t\t\t\t\t\ttype: { fill: { solid: { color: true } } }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlabels: {\n\t\t\t\t\tdisplayName: 'Labels',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tshow: {\n\t\t\t\t\t\t\tdisplayName: 'Show',\n\t\t\t\t\t\t\ttype: { bool: true }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfontColor: {\n\t\t\t\t\t\t\tdisplayName: 'Font color',\n\t\t\t\t\t\t\ttype: { fill: { solid: { color: true } } }\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttextSize: {\n\t\t\t\t\t\t\tdisplayName: 'Text Size',\n\t\t\t\t\t\t\ttype: { numeric: true }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tprivate timelineMargins: TimelineMargins =\n\t\t{\n\t\t\tLeftMargin: 15,\n\t\t\tRightMargin: 15,\n\t\t\tTopMargin: 15,\n\t\t\tBottomMargin: 10,\n\t\t\tCellWidth: 40,\n\t\t\tCellHeight: 25,\n\t\t\tStartXpoint: 10,\n\t\t\tStartYpoint: 20,\n\t\t\tElementWidth: 30,\n\t\t\tMinCellWidth: 30,\n\t\t\tMaxCellHeight: 60,\n\t\t\tPeriodSlicerRectWidth: 15,\n\t\t\tPeriodSlicerRectHeight: 23\n\t\t};\n\n\t\tprivate defaultTimelineProperties: DefaultTimelineProperties =\n\t\t{\n\t\t\tDefaultLabelsShow: true,\n\t\t\tTimelineDefaultTextSize: 9,\n\t\t\tTimelineDefaultCellColor: \"#ADD8E6\",\n\t\t\tTimelineDefaultCellColorOut: \"#FFFFFF\",\n\t\t\tTimelineDefaultTimeRangeShow: true,\n\t\t\tDefaultTimeRangeColor: \"#777777\",\n\t\t\tDefaultLabelColor: \"#777777\",\n\t\t\tDefaultGranularity: GranularityType.month,\n\t\t\tDefaultFirstMonth: 1,\n\t\t\tDefaultFirstDay: 1,\n\t\t\tDefaultFirstWeekDay: 0\n\t\t};\n\n\t\tprivate timelineSelectors: TimelineSelectors =\n\t\t{\n\t\t\tTimelineVisual: createClassAndSelector('Timeline'),\n\t\t\tSelectionRangeContainer: createClassAndSelector('selectionRangeContainer'),\n\t\t\ttextLabel: createClassAndSelector('label'),\n\t\t\tLowerTextCell: createClassAndSelector('lowerTextCell'),\n\t\t\tUpperTextCell: createClassAndSelector('upperTextCell'),\n\t\t\tUpperTextArea: createClassAndSelector('upperTextArea'),\n\t\t\tLowerTextArea: createClassAndSelector('lowerTextArea'),\n\t\t\tRangeTextArea: createClassAndSelector('rangeTextArea'),\n\t\t\tCellsArea: createClassAndSelector('cellsArea'),\n\t\t\tCursorsArea: createClassAndSelector('cursorsArea'),\n\t\t\tMainArea: createClassAndSelector('mainArea'),\n\t\t\tSelectionCursor: createClassAndSelector('selectionCursor'),\n\t\t\tCell: createClassAndSelector('cell'),\n\t\t\tCellRect: createClassAndSelector('cellRect'),\n\t\t\tVertLine: createClassAndSelector('timelineVertLine'),\n\t\t\tTimelineSlicer: createClassAndSelector('timelineSlicer'),\n\t\t\tPeriodSlicerGranularities: createClassAndSelector('periodSlicerGranularities'),\n\t\t\tPeriodSlicerSelection: createClassAndSelector('periodSlicerSelection'),\n\t\t\tPeriodSlicerSelectionRect: createClassAndSelector('periodSlicerSelectionRect'),\n\t\t\tPeriodSlicerRect: createClassAndSelector('periodSlicerRect')\n\t\t};\n\n\t\t/**\n\t\t * Changes the current granularity depending on the given granularity type\n\t\t * Separates the new granularity's date periods which contain the start/end selection\n\t\t * Unseparates the date periods of the previous granularity.\n\t\t * @param granularity The new granularity type\n\t\t */\n\t\tpublic changeGranularity(granularity: GranularityType, startDate: Date, endDate: Date): void {\n\t\t\tif (Utils.unseparateSelection(this.timelineData.currentGranularity.getDatePeriods()))\n\t\t\t\tUtils.unseparateSelection(this.timelineData.currentGranularity.getDatePeriods());\n\t\t\tthis.timelineData.currentGranularity = this.timelineGranularityData.getGranularity(granularity);\n\t\t\tUtils.separateSelection(this.timelineData, startDate, endDate);\n\t\t}\n\n\t\tpublic init(options: VisualInitOptions): void {\n\t\t\tthis.hostServices = options.host;\n\t\t\tthis.initialized = false;\n\t\t\tlet element = options.element;\n\t\t\tthis.selectionManager = new SelectionManager({ hostServices: options.host });\n\n\t\t\tthis.timelineProperties = {\n\t\t\t\telement: element,\n\t\t\t\ttextYPosition: 50,\n\t\t\t\tcellsYPosition: this.timelineMargins.TopMargin * 3 + 65,\n\t\t\t\ttopMargin: this.timelineMargins.TopMargin,\n\t\t\t\tbottomMargin: this.timelineMargins.BottomMargin,\n\t\t\t\tleftMargin: this.timelineMargins.LeftMargin,\n\t\t\t\tstartXpoint: this.timelineMargins.StartXpoint,\n\t\t\t\tstartYpoint: this.timelineMargins.StartYpoint,\n\t\t\t\tcellWidth: this.timelineMargins.CellWidth,\n\t\t\t\tcellHeight: this.timelineMargins.CellHeight,\n\t\t\t\telementWidth: this.timelineMargins.ElementWidth,\n\t\t\t\trightMargin: this.timelineMargins.RightMargin\n\t\t\t};\n\n\t\t\tthis.body = d3.select(element.get(0));\n\t\t\tthis.timelineDiv = this.body.append('div');\n\t\t\tthis.svg = this.timelineDiv.append('svg').attr('width', px(options.viewport.width)).classed(this.timelineSelectors.TimelineVisual.class, true);\n\t\t\tthis.clearCatcher = appendClearCatcher(this.svg);\n\n\t\t\tthis.clearCatcher.data([this])\n\t\t\t\t.on(\"click\", (timeline: Timeline) => timeline.clear())\n\t\t\t\t.on(\"touchstart\", (timeline: Timeline) => timeline.clear());\n\n\t\t\tthis.rangeText = this.svg.append('g').classed(this.timelineSelectors.RangeTextArea.class, true).append('text');\n\t\t\tthis.mainGroupElement = this.svg.append('g').classed(this.timelineSelectors.MainArea.class, true);\n\t\t\tthis.yearLabelsElement = this.mainGroupElement.append('g');\n\t\t\tthis.quarterLabelsElement = this.mainGroupElement.append('g');\n\t\t\tthis.monthLabelsElement = this.mainGroupElement.append('g');\n\t\t\tthis.weekLabelsElement = this.mainGroupElement.append('g');\n\t\t\tthis.dayLabelsElement = this.mainGroupElement.append('g');\n\t\t\tthis.cellsElement = this.mainGroupElement.append('g').classed(this.timelineSelectors.CellsArea.class, true);\n\t\t\tthis.cursorGroupElement = this.svg.append('g').classed(this.timelineSelectors.CursorsArea.class, true);\n\t\t}\n\n\t\tprivate clear(): void {\n\t\t\tthis.selectionManager.clear();\n\n\t\t\tif (this.timelineData) {\n\t\t\t\tthis.timelineData.selectionStartIndex = 0;\n\t\t\t\tthis.timelineData.selectionEndIndex = this.timelineData.currentGranularity.getDatePeriods().length - 1;\n\t\t\t\tif (_.any(this.timelineData.timelineDatapoints, (x) => x.index % 1 !== 0))\n\t\t\t\t\tthis.selectPeriod(this.timelineData.currentGranularity.getType());\n\t\t\t\telse {\n\t\t\t\t\tTimeline.updateCursors(this.timelineData, this.timelineProperties.cellWidth);\n\t\t\t\t\tthis.fillCells(this.timelineFormat.cellFormat);\n\t\t\t\t\tthis.renderCursors(this.timelineData, this.timelineFormat, this.timelineProperties.cellHeight, this.timelineProperties.cellsYPosition);\n\t\t\t\t\tthis.renderTimeRangeText(this.timelineData, this.timelineFormat.rangeTextFormat);\n\t\t\t\t}\n\t\t\t\tthis.setSelection(this.timelineData);\n\t\t\t}\n\t\t}\n\n\t\tprivate drawGranular(timelineProperties: TimelineProperties): void {\n\t\t\tlet dragPeriodRectState: boolean = false;\n\t\t\tlet startXpoint = timelineProperties.startXpoint;\n\t\t\tlet startYpoint = timelineProperties.startYpoint;\n\t\t\tlet elementWidth = timelineProperties.elementWidth;\n\t\t\tthis.selectorContainer = this.svg.append('g').classed(this.timelineSelectors.TimelineSlicer.class, true);\n\n\t\t\tthis.selectorContainer.on('mouseleave', d => dragPeriodRectState = false);\n\t\t\tlet fillRect = this.selectorContainer.append('rect');\n\t\t\tlet selectorPeriods = this.selector;\n\t\t\tfillRect.attr({\n\t\t\t\theight: px(1),\n\t\t\t\tx: px(startXpoint),\n\t\t\t\ty: px(startYpoint + 2),\n\t\t\t\twidth: px((selectorPeriods.length - 1) * elementWidth)\n\t\t\t});\n\n\t\t\tlet fillVertLine = this.selectorContainer.selectAll(\"vertLines\")\n\t\t\t\t.data(selectorPeriods).enter().append('rect');\n\t\t\tfillVertLine\n\t\t\t\t.classed(this.timelineSelectors.VertLine.class, true)\n\t\t\t\t.attr({\n\t\t\t\t\tx: (d, index) => px(startXpoint + index * elementWidth),\n\t\t\t\t\ty: px(startYpoint),\n\t\t\t\t\twidth: px(2),\n\t\t\t\t\theight: px(3)\n\t\t\t\t})\n\t\t\t\t.style({ 'cursor': 'pointer' });\n\n\t\t\tlet text = this.selectorContainer.selectAll(this.timelineSelectors.PeriodSlicerGranularities.selector)\n\t\t\t\t.data(selectorPeriods)\n\t\t\t\t.enter()\n\t\t\t\t.append(\"text\")\n\t\t\t\t.classed(this.timelineSelectors.PeriodSlicerGranularities.class, true);\n\n\t\t\tlet textLabels: any;\n\t\t\ttextLabels = text.text((d) => d)\n\t\t\t\t.attr({\n\t\t\t\t\tx: (d, index) => px(startXpoint - 3 + index * elementWidth),\n\t\t\t\t\ty: px(startYpoint - 3)\n\t\t\t\t});\n\t\t\tthis.selectedText = this.selectorContainer.append(\"text\").classed(this.timelineSelectors.PeriodSlicerSelection.class, true);\n\t\t\tthis.selectedText.text(Utils.getGranularityName(this.defaultTimelineProperties.DefaultGranularity))\n\t\t\t\t.attr({\n\t\t\t\t\tx: px(startXpoint + 2 * elementWidth),\n\t\t\t\t\ty: px(startYpoint + 17),\n\t\t\t\t});\n\n\t\t\tlet selRects = this.selectorContainer\n\t\t\t\t.selectAll(this.timelineSelectors.PeriodSlicerSelectionRect.selector)\n\t\t\t\t.data(selectorPeriods)\n\t\t\t\t.enter()\n\t\t\t\t.append('rect')\n\t\t\t\t.classed(this.timelineSelectors.PeriodSlicerSelectionRect.class, true);\n\n\t\t\tlet clickHandler: (d: any, index: number) => void = (d: any, index: number) => {\n\t\t\t\tthis.selectPeriod(index);\n\t\t\t\tdragPeriodRectState = true;\n\t\t\t};\n\n\t\t\tselRects.attr({\n\t\t\t\t\tx: (d, index) => px(startXpoint - elementWidth / 2 + index * elementWidth),\n\t\t\t\t\ty: px(3),\n\t\t\t\t\twidth: px(elementWidth),\n\t\t\t\t\theight: px(23)\n\t\t\t\t})\n\t\t\t\t.style({ 'cursor': 'pointer' })\n\t\t\t\t.on('mousedown', clickHandler)\n\t\t\t\t.on('touchstart', clickHandler)\n\t\t\t\t.on('mouseup', () => dragPeriodRectState = false)\n\t\t\t\t.on('touchend', () => dragPeriodRectState = false)\n\t\t\t\t.on(\"mouseover\", (d, index) => {\n\t\t\t\t\tif (dragPeriodRectState) {\n\t\t\t\t\t\tthis.selectPeriod(index);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tlet dragPeriodRect = d3.behavior.drag()\n\t\t\t\t.on(\"dragstart\", function (e, b) {\n\t\t\t\t\tdragPeriodRectState = true;\n\t\t\t\t})\n\t\t\t\t.on(\"dragend\", function (e, b) {\n\t\t\t\t\tdragPeriodRectState = false;\n\t\t\t\t});\n\n\t\t\tthis.periodSlicerRect = this.selectorContainer\n\t\t\t\t.append('rect').classed(this.timelineSelectors.PeriodSlicerRect.class, true)\n\t\t\t\t.attr({\n\t\t\t\t\tx: px(startXpoint - 6 + this.defaultTimelineProperties.DefaultGranularity * elementWidth),\n\t\t\t\t\ty: px(startYpoint - 16),\n\t\t\t\t\trx: px(4),\n\t\t\t\t\twidth: px(15),\n\t\t\t\t\theight: px(23)\n\t\t\t\t})\n\t\t\t\t.on('mouseup', d => dragPeriodRectState = false);\n\t\t\tthis.periodSlicerRect.call(dragPeriodRect);\n\t\t}\n\n\t\tpublic redrawPeriod(granularity: GranularityType): void {\n\t\t\tlet dx = this.timelineMargins.StartXpoint + granularity * this.timelineMargins.ElementWidth;\n\t\t\tthis.periodSlicerRect.transition().attr(\"x\", px(dx - 7));\n\t\t\tthis.selectedText.text(Utils.getGranularityName(granularity));\n\t\t\tlet startDate: Date = Utils.getStartSelectionDate(this.timelineData);\n\t\t\tlet endDate: Date = Utils.getEndSelectionDate(this.timelineData);\n\t\t\tthis.changeGranularity(granularity, startDate, endDate);\n\t\t}\n\n\t\tprivate static setMeasures(labelFormat: LabelFormat, granularityType: GranularityType, datePeriodsCount: number, viewport: IViewport, timelineProperties: TimelineProperties, timelineMargins: TimelineMargins) {\n\t\t\ttimelineProperties.cellsYPosition = timelineProperties.textYPosition;\n\t\t\tlet labelSize = fromPointToPixel(labelFormat.sizeProperty);\n\t\t\tif (labelFormat.showProperty)\n\t\t\t\ttimelineProperties.cellsYPosition += labelSize * 1.5 * (granularityType + 1);\n\t\t\tlet svgHeight = Math.max(0, viewport.height - timelineMargins.TopMargin);\n\t\t\tlet maxHeight = viewport.width - timelineMargins.RightMargin - timelineMargins.MinCellWidth * datePeriodsCount;\n\t\t\tlet height = Math.max(timelineMargins.MinCellWidth, Math.min(timelineMargins.MaxCellHeight, maxHeight, svgHeight - timelineProperties.cellsYPosition - 20));\n\t\t\tlet width = Math.max(timelineMargins.MinCellWidth, (viewport.width - height - timelineMargins.RightMargin) / datePeriodsCount);\n\t\t\ttimelineProperties.cellHeight = height;\n\t\t\ttimelineProperties.cellWidth = width;\n\t\t}\n\n\t\tprivate visualChangeOnly(options: VisualUpdateOptions): boolean {\n\t\t\tif (options && options.dataViews && options.dataViews[0] && options.dataViews[0].metadata &&\n\t\t\t\tthis.options && this.options.dataViews && this.options.dataViews[0] && this.options.dataViews[0].metadata) {\n\t\t\t\tlet newObjects = options.dataViews[0].metadata.objects;\n\t\t\t\tlet oldObjects = this.options.dataViews[0].metadata.objects;\n\t\t\t\tlet properties = ['rangeHeader', 'cells', 'labels'];\n\t\t\t\tlet metadataChanged = !properties.every((x) => _.isEqual(newObjects ? newObjects[x] : undefined, oldObjects ? oldObjects[x] : undefined));\n\t\t\t\treturn options.suppressAnimations || metadataChanged;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate unavailableType(dataViewCategorical: DataViewCategorical): boolean {\n\t\t\treturn !dataViewCategorical.categories\n\t\t\t\t|| dataViewCategorical.categories.length !== 1\n\t\t\t\t|| !dataViewCategorical.categories[0].values\n\t\t\t\t|| dataViewCategorical.categories[0].values.length === 0\n\t\t\t\t|| !dataViewCategorical.categories[0].source\n\t\t\t\t|| !dataViewCategorical.categories[0].source.type;\n\t\t}\n\n\t\tprivate unavailableChildIdentityField(dataViewTree: DataViewTree): boolean {\n\t\t\treturn !dataViewTree.root || !dataViewTree.root.childIdentityFields || dataViewTree.root.childIdentityFields.length === 0;\n\t\t}\n\n\t\tprivate createTimelineOptions(dataView: DataView): boolean {\n\t\t\tthis.dataView = dataView;\n\t\t\tif (!dataView.categorical\n\t\t\t\t|| !dataView.metadata\n\t\t\t\t|| this.unavailableType(dataView.categorical)\n\t\t\t\t|| !dataView.tree\n\t\t\t\t|| this.unavailableChildIdentityField(dataView.tree))\n\t\t\t\treturn false;\n\t\t\tlet columnExp = <powerbi.data.SQColumnRefExpr>dataView.tree.root.childIdentityFields[0];\n\t\t\tthis.valueType = columnExp ? columnExp.ref : null;\n\t\t\tif (!(dataView.categorical.categories[0].source.type.dateTime ||\n\t\t\t\t(dataView.categorical.categories[0].source.type.numeric && (this.valueType === 'Year' || this.valueType === 'Date'))))\n\t\t\t\treturn false;\n\t\t\tthis.values = this.prepareValues(this.dataView.categorical.categories[0].values);\n\t\t\treturn true;\n\t\t}\n\n\t\t//Public for testability.\n\t\tpublic prepareValues(values) {\n\t\t\t// remove null strings and rebuild string type date \n\t\t\t// (BUG #7266283 IN PBI-service)\n\t\t\tvalues = values.filter(Boolean);\n\t\t\tfor (var i in values) { \n\t\t\t\tvar item = values[i];\n\t\t\t\tif(typeof(item) === 'String' && (String(new Date(item)) !== 'Invalid Date')){\n\t\t\t\t\treturn values[i] = new Date(item);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn values;\n\t\t}\n\n\t\tprivate createTimelineData() {\n\t\t\tlet startDate: Date;\n\t\t\tlet endDate: Date;\n\t\t\tif (this.valueType === 'Year') {\n\t\t\t\tlet years: number[] = this.values;\n\t\t\t\tstartDate = new Date(_.min(years), 0);\n\t\t\t\tendDate = new Date(_.max(years), 11);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet dates: Date[] = this.values;\n\t\t\t\tstartDate = _.min(dates);\n\t\t\t\tendDate = _.max(dates);\n\t\t\t}\n\t\t\tif (!this.initialized)\n\t\t\t\tthis.drawGranular(this.timelineProperties);\n\t\t\tif (this.initialized) {\n\t\t\t\tlet actualEndDate = TimelineGranularityData.nextDay(endDate);\n\t\t\t\tlet daysPeriods = this.timelineGranularityData.getGranularity(GranularityType.day).getDatePeriods();\n\t\t\t\tlet prevStartDate = daysPeriods[0].startDate;\n\t\t\t\tlet prevEndDate = daysPeriods[daysPeriods.length - 1].endDate;\n\t\t\t\tlet changedSelection = startDate.getTime() >= prevStartDate.getTime() && actualEndDate.getTime() <= prevEndDate.getTime();\n\t\t\t\tthis.newGranularity = this.timelineData.currentGranularity.getType();\n\t\t\t\tif (changedSelection) {\n\t\t\t\t\tthis.foreignSelection = true;\n\t\t\t\t\tthis.changeGranularity(this.newGranularity, startDate, actualEndDate);\n\t\t\t\t\tthis.timelineFormat = Timeline.fillTimelineFormat(this.options.dataViews[0].metadata.objects, this.defaultTimelineProperties);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (actualEndDate < prevEndDate)\n\t\t\t\t\t\tendDate = daysPeriods[daysPeriods.length - 1].startDate;\n\t\t\t\t\tif (startDate > prevStartDate)\n\t\t\t\t\t\tstartDate = prevStartDate;\n\t\t\t\t\tthis.initialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.initialized) {\n\t\t\t\tthis.timelineGranularityData = new TimelineGranularityData(startDate, endDate);\n\t\t\t\tthis.timelineData = {\n\t\t\t\t\telementsCount: 0,\n\t\t\t\t\ttimelineDatapoints: [],\n\t\t\t\t\tcursorDataPoints: new Array<CursorDatapoint>()\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tpublic update(options: VisualUpdateOptions): void {\n\t\t\tlet visualChange: boolean = this.visualChangeOnly(options);\n\t\t\tthis.requiresNoUpdate = this.requiresNoUpdate && !visualChange;\n\t\t\tif (this.requiresNoUpdate) {\n\t\t\t\tif (this.foreignSelection)\n\t\t\t\t\tthis.foreignSelection = false;\n\t\t\t\telse\n\t\t\t\t\tthis.requiresNoUpdate = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.options = options;\n\t\t\tif (!options.dataViews || !options.dataViews[0])\n\t\t\t\treturn;\n\t\t\tlet validOptions: boolean = this.createTimelineOptions(options.dataViews[0]);\n\t\t\tif (!validOptions) {\n\t\t\t\tthis.clearData();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.newGranularity = this.defaultTimelineProperties.DefaultGranularity;\n\t\t\tif (!visualChange)\n\t\t\t\tthis.createTimelineData();\n\t\t\tthis.timelineFormat = Timeline.converter(this.timelineData, this.timelineProperties, this.defaultTimelineProperties, this.timelineGranularityData, options.dataViews[0], this.initialized, this.newGranularity, options.viewport, this.timelineMargins);\n\t\t\tthis.render(this.timelineData, this.timelineFormat, this.timelineProperties, options);\n\t\t\tthis.initialized = true;\n\t\t}\n\n\t\tpublic selectPeriod(periodNameIndex): void {\n\t\t\tthis.redrawPeriod(periodNameIndex);\n\t\t\tthis.timelineFormat = Timeline.converter(this.timelineData, this.timelineProperties, this.defaultTimelineProperties, this.timelineGranularityData, this.options.dataViews[0], this.initialized, this.timelineData.currentGranularity.getType(), this.options.viewport, this.timelineMargins);\n\t\t\tthis.render(this.timelineData, this.timelineFormat, this.timelineProperties, this.options);\n\t\t}\n\n\t\tprivate static isDataNotMatch(dataView): boolean {\n\t\t\tif (dataView.categorical.categories.length <= 0 ||\n\t\t\t\tdataView.categorical.categories[0] === undefined ||\n\t\t\t\tdataView.categorical.categories[0].identityFields === undefined ||\n\t\t\t\tdataView.categorical.categories[0].identityFields.length <= 0)\n\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\n\t\tpublic static converter(timelineData: TimelineData, timelineProperties: TimelineProperties, defaultTimelineProperties: DefaultTimelineProperties, timelineGranularityData: TimelineGranularityData, dataView: DataView, initialized: boolean, granularityType: GranularityType, viewport: IViewport, timelineMargins: TimelineMargins): TimelineFormat {\n\t\t\tlet timelineFormat = Timeline.fillTimelineFormat(dataView.metadata.objects, defaultTimelineProperties);\n\t\t\tif (!initialized) {\n\t\t\t\ttimelineData.cursorDataPoints.push({ x: 0, selectionIndex: 0, cursorIndex: 0 });\n\t\t\t\ttimelineData.cursorDataPoints.push({ x: 0, selectionIndex: 0, cursorIndex: 1 });\n\t\t\t}\n\t\t\tif (!initialized || Timeline.calendar.isChanged(timelineFormat.calendarFormat)) {\n\t\t\t\tTimeline.calendar = new Calendar(timelineFormat.calendarFormat);\n\t\t\t\ttimelineGranularityData.createGranularities();\n\t\t\t\ttimelineGranularityData.createLabels();\n\t\t\t\ttimelineData.currentGranularity = timelineGranularityData.getGranularity(granularityType);\n\t\t\t\ttimelineData.selectionStartIndex = 0;\n\t\t\t\ttimelineData.selectionEndIndex = timelineData.currentGranularity.getDatePeriods().length - 1;\n\t\t\t}\n\t\t\ttimelineData.categorySourceName = dataView.categorical.categories[0].source.displayName;\n\t\t\ttimelineData.columnIdentity = <powerbi.data.SQColumnRefExpr>dataView.categorical.categories[0].identityFields[0];\n\t\t\tif (dataView.categorical.categories[0].source.type.numeric) {\n\t\t\t\ttimelineData.columnIdentity.ref = \"Date\";\n\t\t\t}\n\t\t\tif (this.isDataNotMatch(dataView))\n\t\t\t\treturn;\n\t\t\tlet timelineElements: DatePeriod[] = timelineData.currentGranularity.getDatePeriods();\n\t\t\ttimelineData.elementsCount = timelineElements.length;\n\t\t\ttimelineData.timelineDatapoints = [];\n\t\t\tfor (let currentTimePeriod of timelineElements) {\n\t\t\t\tlet datapoint: TimelineDatapoint = {\n\t\t\t\t\tindex: currentTimePeriod.index,\n\t\t\t\t\tdatePeriod: currentTimePeriod\n\t\t\t\t};\n\t\t\t\ttimelineData.timelineDatapoints.push(datapoint);\n\t\t\t}\n\t\t\tlet countFullCells = timelineData.currentGranularity.getDatePeriods().filter((x) => x.index % 1 === 0).length;\n\t\t\tTimeline.setMeasures(timelineFormat.labelFormat, timelineData.currentGranularity.getType(), countFullCells, viewport, timelineProperties, timelineMargins);\n\t\t\tTimeline.updateCursors(timelineData, timelineProperties.cellWidth);\n\t\t\treturn timelineFormat;\n\t\t}\n\n\t\tprivate render(timelineData: TimelineData, timelineFormat: TimelineFormat, timelineProperties: TimelineProperties, options: VisualUpdateOptions): void {\n\t\t\tlet timelineDatapointsCount = this.timelineData.timelineDatapoints.filter((x) => x.index % 1 === 0).length;\n\t\t\tthis.svgWidth = 1 + this.timelineProperties.cellHeight + timelineProperties.cellWidth * timelineDatapointsCount;\n\t\t\tthis.renderTimeRangeText(timelineData, timelineFormat.rangeTextFormat);\n\t\t\tthis.timelineDiv.attr({\n\t\t\t\theight: px(options.viewport.height),\n\t\t\t\twidth: px(options.viewport.width),\n\t\t\t\t'drag-resize-disabled': true\n\t\t\t}).style({\n\t\t\t\t'overflow-x': 'auto',\n\t\t\t\t'overflow-y': 'auto'\n\t\t\t});\n\t\t\tthis.svg.attr({\n\t\t\t\theight: px(Math.max(0, options.viewport.height - this.timelineMargins.TopMargin)),\n\t\t\t\twidth: px(Math.max(0, this.svgWidth))\n\t\t\t});\n\t\t\tlet fixedTranslateString: string = SVGUtil.translate(timelineProperties.leftMargin, timelineProperties.topMargin);\n\t\t\tlet translateString: string = SVGUtil.translate(timelineProperties.cellHeight / 2, timelineProperties.topMargin);\n\t\t\tthis.mainGroupElement.attr('transform', translateString);\n\t\t\tthis.selectorContainer.attr('transform', fixedTranslateString);\n\t\t\tthis.cursorGroupElement.attr('transform', translateString);\n\n\t\t\tlet extendedLabels = this.timelineData.currentGranularity.getExtendedLabel();\n\t\t\tlet granularityType = this.timelineData.currentGranularity.getType();\n\t\t\tlet yPos = 0, yDiff = 1.50;\n\t\t\tthis.renderLabels(extendedLabels.yearLabels, this.yearLabelsElement, yPos, granularityType === 0);\n\t\t\tyPos += yDiff;\n\t\t\tthis.renderLabels(extendedLabels.quarterLabels, this.quarterLabelsElement, yPos, granularityType === 1);\n\t\t\tyPos += yDiff;\n\t\t\tthis.renderLabels(extendedLabels.monthLabels, this.monthLabelsElement, yPos, granularityType === 2);\n\t\t\tyPos += yDiff;\n\t\t\tthis.renderLabels(extendedLabels.weekLabels, this.weekLabelsElement, yPos, granularityType === 3);\n\t\t\tyPos += yDiff;\n\t\t\tthis.renderLabels(extendedLabels.dayLabels, this.dayLabelsElement, yPos, granularityType === 4);\n\t\t\tthis.renderCells(timelineData, timelineFormat, timelineProperties, options.suppressAnimations);\n\t\t\tthis.renderCursors(timelineData, timelineFormat, timelineProperties.cellHeight, timelineProperties.cellsYPosition);\n\t\t}\n\n\t\tprivate renderLabels(labels: TimelineLabel[], labelsElement: D3.Selection, index: number, isLast: boolean): void {\n\t\t\tlet labelTextSelection = labelsElement.selectAll(this.timelineSelectors.textLabel.selector);\n\t\t\tif (!this.timelineFormat.labelFormat.showProperty) {\n\t\t\t\tlabelTextSelection.remove();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet labelsGroupSelection = labelTextSelection.data(labels);\n\t\t\tlabelsGroupSelection.enter().append('text').classed(this.timelineSelectors.textLabel.class, true);\n\n\t\t\tlabelsGroupSelection.text((x: TimelineLabel, id: number) => {\n\t\t\t\tif (!isLast && id === 0 && labels.length > 1) {\n\t\t\t\t\tlet fontSize = pt(this.timelineFormat.labelFormat.sizeProperty);\n\t\t\t\t\tlet textProperties: powerbi.TextProperties = {\n\t\t\t\t\t\ttext: labels[0].text,\n\t\t\t\t\t\tfontFamily: 'arial',\n\t\t\t\t\t\tfontSize: fontSize\n\t\t\t\t\t};\n\t\t\t\t\tlet halfFirstTextWidth = TextMeasurementService.measureSvgTextWidth(textProperties) / 2;\n\t\t\t\t\ttextProperties = {\n\t\t\t\t\t\ttext: labels[1].text,\n\t\t\t\t\t\tfontFamily: 'arial',\n\t\t\t\t\t\tfontSize: fontSize\n\t\t\t\t\t};\n\t\t\t\t\tlet halfSecondTextWidth = TextMeasurementService.measureSvgTextWidth(textProperties) / 2;\n\t\t\t\t\tlet diff = this.timelineProperties.cellWidth * (labels[1].id - labels[0].id);\n\t\t\t\t\tif (diff < halfFirstTextWidth + halfSecondTextWidth)\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\tlet labelFormattedTextOptions: LabelFormattedTextOptions = {\n\t\t\t\t\tlabel: x.text,\n\t\t\t\t\tmaxWidth: this.timelineProperties.cellWidth * (isLast ? 0.90 : 3),\n\t\t\t\t\tfontSize: this.timelineFormat.labelFormat.sizeProperty\n\t\t\t\t};\n\t\t\t\treturn dataLabelUtils.getLabelFormattedText(labelFormattedTextOptions);\n\t\t\t})\n\t\t\t\t.style('font-size', pt(this.timelineFormat.labelFormat.sizeProperty))\n\t\t\t\t.attr({\n\t\t\t\t\tx: (x: TimelineLabel) => (x.id + 0.5) * this.timelineProperties.cellWidth,\n\t\t\t\t\ty: this.timelineProperties.textYPosition + (1 + index) * fromPointToPixel(this.timelineFormat.labelFormat.sizeProperty),\n\t\t\t\t\tfill: this.timelineFormat.labelFormat.colorProperty\n\t\t\t\t}).append('title').text((x: TimelineLabel) => x.title);\n\t\t\tlabelsGroupSelection.exit().remove();\n\t\t}\n\n\t\tprivate clearData(): void {\n\t\t\tthis.initialized = false;\n\t\t\tthis.mainGroupElement.selectAll(this.timelineSelectors.CellRect.selector).remove();\n\t\t\tthis.mainGroupElement.selectAll(this.timelineSelectors.textLabel.selector).remove();\n\t\t\tthis.rangeText.text(\"\");\n\t\t\tthis.cursorGroupElement.selectAll(this.timelineSelectors.SelectionCursor.selector).remove();\n\t\t\tthis.svg.select(this.timelineSelectors.TimelineSlicer.selector).remove();\n\t\t}\n\n\t\tprivate static updateCursors(timelineData: TimelineData, cellWidth: number): void {\n\t\t\tlet startDate: DatePeriod = timelineData.timelineDatapoints[timelineData.selectionStartIndex].datePeriod;\n\t\t\ttimelineData.cursorDataPoints[0].selectionIndex = startDate.index;\n\t\t\tlet endDate: DatePeriod = timelineData.timelineDatapoints[timelineData.selectionEndIndex].datePeriod;\n\t\t\ttimelineData.cursorDataPoints[1].selectionIndex = (endDate.index + endDate.fraction);\n\t\t}\n\n\t\tprivate static fillTimelineFormat(objects: any, timelineProperties: DefaultTimelineProperties): TimelineFormat {\n\t\t\tlet timelineFormat: TimelineFormat =\n\t\t\t\t{\n\t\t\t\t\trangeTextFormat: {\n\t\t\t\t\t\tshowProperty: DataViewObjects.getValue<boolean>(objects, TimeRangeShowProp, timelineProperties.TimelineDefaultTimeRangeShow),\n\t\t\t\t\t\tcolorProperty: DataViewObjects.getFillColor(objects, TimeRangeColorProp, timelineProperties.DefaultTimeRangeColor),\n\t\t\t\t\t\tsizeProperty: DataViewObjects.getValue<number>(objects, TimeRangeSizeProp, timelineProperties.TimelineDefaultTextSize)\n\t\t\t\t\t},\n\t\t\t\t\tcellFormat: {\n\t\t\t\t\t\tcolorInProperty: DataViewObjects.getFillColor(objects, SelectedCellColorProp, timelineProperties.TimelineDefaultCellColor),\n\t\t\t\t\t\tcolorOutProperty: DataViewObjects.getFillColor(objects, UnselectedCellColorProp, timelineProperties.TimelineDefaultCellColorOut)\n\t\t\t\t\t},\n\t\t\t\t\tlabelFormat: {\n\t\t\t\t\t\tshowProperty: DataViewObjects.getValue<boolean>(objects, LabelsShowProp, timelineProperties.DefaultLabelsShow),\n\t\t\t\t\t\tcolorProperty: DataViewObjects.getFillColor(objects, LabelsColorProp, timelineProperties.DefaultLabelColor),\n\t\t\t\t\t\tsizeProperty: DataViewObjects.getValue<number>(objects, LabelsSizeProp, timelineProperties.TimelineDefaultTextSize)\n\t\t\t\t\t},\n\t\t\t\t\tcalendarFormat: {\n\t\t\t\t\t\tfirstMonthProperty: DataViewObjects.getValue<number>(objects, CalendarMonthProp, 1),\n\t\t\t\t\t\tfirstDayProperty: Math.max(1, Math.min(31, DataViewObjects.getValue<number>(objects, CalendarDayProp, timelineProperties.DefaultFirstDay))),\n\t\t\t\t\t\tweekDayProperty: Math.max(0, Math.min(6, DataViewObjects.getValue<number>(objects, WeekDayProp, timelineProperties.DefaultFirstWeekDay)))\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\treturn timelineFormat;\n\t\t}\n\n\t\tpublic fillCells(cellFormat: CellFormat): void {\n\t\t\tlet dataPoints = this.timelineData.timelineDatapoints;\n\t\t\tlet cellSelection = this.mainGroupElement.selectAll(this.timelineSelectors.CellRect.selector).data(dataPoints);\n\t\t\tcellSelection.attr('fill', d => Utils.getCellColor(d, this.timelineData, cellFormat));\n\t\t}\n\n\t\tpublic renderCells(timelineData: TimelineData, timelineFormat: TimelineFormat, timelineProperties: TimelineProperties, suppressAnimations: any): void {\n\t\t\tlet allDataPoints = timelineData.timelineDatapoints;\n\t\t\tlet totalX = 0;\n\t\t\tlet cellsSelection = this.cellsElement.selectAll(this.timelineSelectors.CellRect.selector).data(allDataPoints);\n\t\t\tcellsSelection.enter().append('rect').classed(this.timelineSelectors.CellRect.class, true);\n\t\t\tcellsSelection\n\t\t\t\t.attr({\n\t\t\t\t\theight: px(timelineProperties.cellHeight),\n\t\t\t\t\twidth: (d: TimelineDatapoint) => px(d.datePeriod.fraction * timelineProperties.cellWidth),\n\t\t\t\t\tx: (d: TimelineDatapoint) => {\n\t\t\t\t\t\tlet value = totalX;\n\t\t\t\t\t\ttotalX += d.datePeriod.fraction * timelineProperties.cellWidth;\n\t\t\t\t\t\treturn px(value);\n\t\t\t\t\t},\n\t\t\t\t\ty: px(timelineProperties.cellsYPosition),\n\t\t\t\t\tid: (d: TimelineDatapoint) => d.index\n\t\t\t\t});\n\n\t\t\tlet clickHandler: (d: TimelineDatapoint, index: number) => void = (d: TimelineDatapoint, index: number) => {\n\t\t\t\td3.event.preventDefault();\n\t\t\t\tlet cursorDataPoints = this.timelineData.cursorDataPoints;\n\t\t\t\tlet keyEvent: any = d3.event;\n\t\t\t\tif (keyEvent.altKey || keyEvent.shiftKey) {\n\t\t\t\t\tif (this.timelineData.selectionEndIndex < index) {\n\t\t\t\t\t\tcursorDataPoints[1].selectionIndex = (d.datePeriod.index + d.datePeriod.fraction);\n\t\t\t\t\t\ttimelineData.selectionEndIndex = index;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcursorDataPoints[0].selectionIndex = d.datePeriod.index;\n\t\t\t\t\t\ttimelineData.selectionStartIndex = index;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttimelineData.selectionStartIndex = index;\n\t\t\t\t\ttimelineData.selectionEndIndex = index;\n\t\t\t\t\tcursorDataPoints[0].selectionIndex = d.datePeriod.index;\n\t\t\t\t\tcursorDataPoints[1].selectionIndex = (d.datePeriod.index + d.datePeriod.fraction);\n\t\t\t\t}\n\n\t\t\t\tthis.fillCells(timelineFormat.cellFormat);\n\t\t\t\tthis.renderCursors(timelineData, timelineFormat, timelineProperties.cellHeight, timelineProperties.cellsYPosition);\n\t\t\t\tthis.renderTimeRangeText(timelineData, timelineFormat.rangeTextFormat);\n\t\t\t\tthis.setSelection(timelineData);\n\t\t\t};\n\n\t\t\tcellsSelection\n\t\t\t\t.on('click', clickHandler)\n\t\t\t\t.on(\"touchstart\", clickHandler);\n\n\t\t\tthis.fillCells(timelineFormat.cellFormat);\n\t\t\tcellsSelection.exit().remove();\n\t\t}\n\n\t\tpublic dragstarted(): void {\n\t\t\tthis.timelineData.dragging = true;\n\t\t}\n\n\t\tpublic dragged(currentCursor: CursorDatapoint): void {\n\t\t\tif (this.timelineData.dragging === true) {\n\t\t\t\tlet xScale = 1;\n\t\t\t\tlet container = d3.select(this.timelineSelectors.TimelineVisual.selector);\n\n\t\t\t\tif (container) {\n\t\t\t\t\tlet transform = container.style(\"transform\");\n\t\t\t\t\tif (transform !== undefined && transform !== 'none') {\n\t\t\t\t\t\tlet str = transform.split(\"(\")[1];\n\t\t\t\t\t\txScale = Number(str.split(\", \")[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet cursorOverElement: TimelineCursorOverElement = this.findCursorOverElement(d3.event.x);\n\n\t\t\t\tif (!cursorOverElement) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet currentlyMouseOverElement: TimelineDatapoint = cursorOverElement.datapoint,\n\t\t\t\t\tcurrentlyMouseOverElementIndex: number = cursorOverElement.index;\n\n\t\t\t\tif (currentCursor.cursorIndex === 0 && currentlyMouseOverElementIndex <= this.timelineData.selectionEndIndex) {\n\t\t\t\t\tthis.timelineData.selectionStartIndex = currentlyMouseOverElementIndex;\n\t\t\t\t\tthis.timelineData.cursorDataPoints[0].selectionIndex = currentlyMouseOverElement.datePeriod.index;\n\t\t\t\t}\n\n\t\t\t\tif (currentCursor.cursorIndex === 1 && currentlyMouseOverElementIndex >= this.timelineData.selectionStartIndex) {\n\t\t\t\t\tthis.timelineData.selectionEndIndex = currentlyMouseOverElementIndex;\n\t\t\t\t\tthis.timelineData.cursorDataPoints[1].selectionIndex = (currentlyMouseOverElement.datePeriod.index + currentlyMouseOverElement.datePeriod.fraction);\n\t\t\t\t}\n\n\t\t\t\tthis.fillCells(this.timelineFormat.cellFormat);\n\t\t\t\tthis.renderCursors(this.timelineData, this.timelineFormat, this.timelineProperties.cellHeight, this.timelineProperties.cellsYPosition);\n\t\t\t\tthis.renderTimeRangeText(this.timelineData, this.timelineFormat.rangeTextFormat);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Note: Public for testability.\n\t\t */\n\t\tpublic findCursorOverElement(x: number): TimelineCursorOverElement {\n\t\t\tlet timelineDatapoints: TimelineDatapoint[] = this.timelineData.timelineDatapoints || [],\n\t\t\t\tlength: number = timelineDatapoints.length,\n\t\t\t\tcellWidth: number = this.timelineProperties.cellWidth;\n\n\t\t\tif (timelineDatapoints[0] && timelineDatapoints[1] && x <= timelineDatapoints[1].index * cellWidth) {\n\t\t\t\treturn {\n\t\t\t\t\tindex: 0,\n\t\t\t\t\tdatapoint: timelineDatapoints[0]\n\t\t\t\t};\n\t\t\t} else if (timelineDatapoints[length - 1] && x >= timelineDatapoints[length - 1].index * cellWidth) {\n\t\t\t\treturn {\n\t\t\t\t\tindex: length - 1,\n\t\t\t\t\tdatapoint: timelineDatapoints[length - 1]\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let i = 1; i < length; i++) {\n\t\t\t\tlet left: number = timelineDatapoints[i].index * cellWidth,\n\t\t\t\t\tright: number = timelineDatapoints[i + 1].index * cellWidth;\n\n\t\t\t\tif (x >= left && x <= right) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tdatapoint: timelineDatapoints[i]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic dragended(): void {\n\t\t\tthis.setSelection(this.timelineData);\n\t\t}\n\n\t\tprivate drag = d3.behavior.drag()\n\t\t\t.origin((d: CursorDatapoint) => {\n\t\t\t\td.x = d.selectionIndex * this.timelineProperties.cellWidth;\n\n\t\t\t\treturn d;\n\t\t\t})\n\t\t\t.on(\"dragstart\", () => { this.dragstarted(); })\n\t\t\t.on(\"drag\", (d: CursorDatapoint) => { this.dragged(d); })\n\t\t\t.on(\"dragend\", () => { this.dragended(); });\n\n\t\tpublic renderCursors(timelineData: TimelineData, timelineFormat: TimelineFormat, cellHeight: number, cellsYPosition: number): D3.UpdateSelection {\n\t\t\tlet cursorSelection = this.cursorGroupElement.selectAll(this.timelineSelectors.SelectionCursor.selector).data(timelineData.cursorDataPoints);\n\t\t\tcursorSelection.enter().append('path').classed(this.timelineSelectors.SelectionCursor.class, true);\n\n\t\t\tcursorSelection.attr(\"transform\", (d: CursorDatapoint) => SVGUtil.translate(d.selectionIndex * this.timelineProperties.cellWidth, cellHeight / 2 + cellsYPosition)).attr({\n\t\t\t\td: d3.svg.arc()\n\t\t\t\t\t.innerRadius(0)\n\t\t\t\t\t.outerRadius(cellHeight / 2)\n\t\t\t\t\t.startAngle(d => d.cursorIndex * Math.PI + Math.PI)\n\t\t\t\t\t.endAngle(d => d.cursorIndex * Math.PI + 2 * Math.PI)\n\t\t\t})\n\t\t\t\t.call(this.drag);\n\n\t\t\tcursorSelection.exit().remove();\n\t\t\treturn cursorSelection;\n\t\t}\n\n\t\tpublic renderTimeRangeText(timelineData: TimelineData, timeRangeFormat: LabelFormat): void {\n            let leftMargin = (GranularityNames.length + 2) * this.timelineProperties.elementWidth;\n            let maxWidth = this.svgWidth - leftMargin - this.timelineProperties.leftMargin;\n\n\t\t\tif (timeRangeFormat.showProperty && maxWidth > 0) {\n\t\t\t\tlet timeRangeText = Utils.timeRangeText(timelineData);\n\t\t\t\tlet labelFormattedTextOptions: LabelFormattedTextOptions = {\n\t\t\t\t\tlabel: timeRangeText,\n\t\t\t\t\tmaxWidth: maxWidth,\n\t\t\t\t\tfontSize: timeRangeFormat.sizeProperty\n\t\t\t\t};\n\t\t\t\tlet actualText = dataLabelUtils.getLabelFormattedText(labelFormattedTextOptions);\n\t\t\t\tthis.rangeText.classed(this.timelineSelectors.SelectionRangeContainer.class, true);\n\t\t\t\tthis.rangeText.attr({\n\t\t\t\t\tx: (GranularityNames.length) * (this.timelineProperties.elementWidth + this.timelineProperties.leftMargin),\n\t\t\t\t\ty: 40,\n\t\t\t\t\tfill: timeRangeFormat.colorProperty\n\t\t\t\t})\n\t\t\t\t\t.style({\n\t\t\t\t\t\t'font-size': pt(timeRangeFormat.sizeProperty)\n\t\t\t\t\t}).text(actualText)\n\t\t\t\t\t.append('title').text(timeRangeText);;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.rangeText.text(\"\");\n\t\t}\n\n\t\tpublic setSelection(timelineData: TimelineData): void {\n\t\t\tthis.requiresNoUpdate = true;\n\t\t\tlet lower: data.SQConstantExpr = powerbi.data.SQExprBuilder.dateTime(Utils.getStartSelectionDate(timelineData));\n\t\t\tlet upper: data.SQConstantExpr = powerbi.data.SQExprBuilder.dateTime(new Date(Utils.getEndSelectionDate(timelineData).getTime() - 1));\n\t\t\tlet filterExpr = powerbi.data.SQExprBuilder.between(timelineData.columnIdentity, lower, upper);\n\t\t\tlet filter = powerbi.data.SemanticFilter.fromSQExpr(filterExpr);\n\t\t\tlet objects: VisualObjectInstancesToPersist = {\n\t\t\t\tmerge: [\n\t\t\t\t\t<VisualObjectInstance>{\n\t\t\t\t\t\tobjectName: \"general\",\n\t\t\t\t\t\tselector: undefined,\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\"filter\": filter,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\tthis.hostServices.persistProperties(objects);\n\t\t\tthis.hostServices.onSelect({ data: [] });\n\t\t}\n\n\t\t// This function retruns the values to be displayed in the property pane for each object.\n\t\t// Usually it is a bind pass of what the property pane gave you, but sometimes you may want to do\n\t\t// validation and return other values/defaults \n\t\tpublic enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n\t\t\tlet enumeration = new ObjectEnumerationBuilder();\n\t\t\tswitch (options.objectName) {\n\t\t\t\tcase 'rangeHeader':\n\t\t\t\t\tthis.enumerateRangeHeader(enumeration, this.dataView);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'cells':\n\t\t\t\t\tthis.enumerateCells(enumeration, this.dataView);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'labels':\n\t\t\t\t\tthis.enumerateLabels(enumeration, this.dataView);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'calendar':\n\t\t\t\t\tthis.enumerateCalendar(enumeration, this.dataView);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'weekDay':\n\t\t\t\t\tthis.enumerateWeekDay(enumeration, this.dataView);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn enumeration.complete();\n\t\t}\n\n\t\tpublic enumerateRangeHeader(enumeration: ObjectEnumerationBuilder, dataview: DataView): void {\n\t\t\tlet objects = dataview && dataview.metadata ? dataview.metadata.objects : undefined;\n\t\t\tenumeration.pushInstance({\n\t\t\t\tobjectName: 'rangeHeader',\n\t\t\t\tdisplayName: 'Selection Color',\n\t\t\t\tselector: null,\n\t\t\t\tproperties: {\n\t\t\t\t\tshow: DataViewObjects.getValue<boolean>(objects, TimeRangeShowProp, this.defaultTimelineProperties.TimelineDefaultTimeRangeShow),\n\t\t\t\t\tfontColor: DataViewObjects.getFillColor(objects, TimeRangeColorProp, this.defaultTimelineProperties.DefaultTimeRangeColor),\n\t\t\t\t\ttextSize: DataViewObjects.getValue<number>(objects, TimeRangeSizeProp, this.defaultTimelineProperties.TimelineDefaultTextSize)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic enumerateCells(enumeration: ObjectEnumerationBuilder, dataview: DataView): void {\n\t\t\tlet objects = dataview && dataview.metadata ? dataview.metadata.objects : undefined;\n\t\t\tenumeration.pushInstance({\n\t\t\t\tobjectName: 'cells',\n\t\t\t\tselector: null,\n\t\t\t\tproperties: {\n\t\t\t\t\tfillSelected: DataViewObjects.getFillColor(objects, SelectedCellColorProp, this.defaultTimelineProperties.TimelineDefaultCellColor),\n\t\t\t\t\tfillUnselected: DataViewObjects.getFillColor(objects, UnselectedCellColorProp, this.defaultTimelineProperties.TimelineDefaultCellColorOut)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic enumerateLabels(enumeration: ObjectEnumerationBuilder, dataview: DataView): void {\n\t\t\tlet objects = dataview && dataview.metadata ? dataview.metadata.objects : undefined;\n\t\t\tenumeration.pushInstance({\n\t\t\t\tobjectName: 'labels',\n\t\t\t\tselector: null,\n\t\t\t\tproperties: {\n\t\t\t\t\tshow: DataViewObjects.getValue<boolean>(objects, LabelsShowProp, this.defaultTimelineProperties.DefaultLabelsShow),\n\t\t\t\t\tfontColor: DataViewObjects.getFillColor(objects, LabelsColorProp, this.defaultTimelineProperties.DefaultLabelColor),\n\t\t\t\t\ttextSize: DataViewObjects.getValue<number>(objects, LabelsSizeProp, this.defaultTimelineProperties.TimelineDefaultTextSize)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic enumerateCalendar(enumeration: ObjectEnumerationBuilder, dataview: DataView): void {\n\t\t\tlet objects = dataview && dataview.metadata ? dataview.metadata.objects : undefined;\n\t\t\tenumeration.pushInstance({\n\t\t\t\tobjectName: 'calendar',\n\t\t\t\tselector: null,\n\t\t\t\tproperties: {\n\t\t\t\t\tmonth: Math.max(1, Math.min(12, DataViewObjects.getValue<number>(objects, CalendarMonthProp, 1))),\n\t\t\t\t\tday: Math.max(1, Math.min(31, DataViewObjects.getValue<number>(objects, CalendarDayProp, 1))),\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tpublic enumerateWeekDay(enumeration: ObjectEnumerationBuilder, dataview: DataView): void {\n\t\t\tlet objects = dataview && dataview.metadata ? dataview.metadata.objects : undefined;\n\t\t\tenumeration.pushInstance({\n\t\t\t\tobjectName: 'weekDay',\n\t\t\t\tselector: null,\n\t\t\t\tproperties: {\n\t\t\t\t\tday: Math.max(0, Math.min(6, DataViewObjects.getValue<number>(objects, WeekDayProp, 0)))\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n\n    import ValueFormatter = powerbi.visuals.valueFormatter;\n    import SelectionManager = utility.SelectionManager;\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n\n    export interface StreamData {\n        dataPoints: StreamDataPoint[][];\n        legendData: LegendData;\n        valueFormatter: IValueFormatter;\n        categoryFormatter: IValueFormatter;\n        streamGraphSettings: StreamGraphSettings;\n    }\n\n    export interface StreamDataPoint {\n        x: number;\n        y: number;\n        y0?: number;\n        identity: SelectionId;\n    }\n\n    export interface StreamGraphSettings {\n        legendSettings: StreamGraphLegendSettings;\n        categoryAxisSettings: StreamGraphAxisSettings;\n        valueAxisSettings: StreamGraphAxisSettings;\n    }\n\n    export interface StreamGraphLegendSettings {\n        show: boolean;\n        showTitle: boolean;\n        titleText: string;\n        labelColor: string;\n        fontSize: number;\n    }\n\n    export interface StreamGraphAxisSettings {\n        show: boolean;\n        axisColor: string;\n        showAxisTitle: boolean;\n    }\n\n    export interface StreamProperty {\n        [propertyName: string]: DataViewObjectPropertyIdentifier;\n    }\n\n    const StreamGraphAxisGraphicsContextClassName = 'axisGraphicsContext';\n    const StreamGraphXAxisClassName = 'x axis';\n    const StreamGraphYAxisClassName = 'y axis';\n    const StreamGraphDefaultAxisColor = \"#777\";\n    const StreamGraphDefaultFontSizeInPoints: number = 8;\n    const DefaultLegendFontSizeInPt = 8;\n    const DefaultLegendLabelFillColor: string = '#666666';\n    const StreamGraphDefaultFontFamily: string = 'wf_segoe-ui_normal';\n    const StreamGraphDefaultFontWeight: string = 'normal';\n    const StreamGraphDefaultSettings: StreamGraphSettings = {\n        legendSettings: {\n            show: true,\n            showTitle: true,\n            labelColor: DefaultLegendLabelFillColor,\n            titleText: \"\",\n            fontSize: DefaultLegendFontSizeInPt\n        },\n        categoryAxisSettings: {\n            show: true,\n            axisColor: StreamGraphDefaultAxisColor,\n            showAxisTitle: false,\n        },\n        valueAxisSettings: {\n            show: true,\n            axisColor: StreamGraphDefaultAxisColor,\n            showAxisTitle: false,\n        },\n    };\n\n    export class StreamGraph implements IVisual {\n        private static VisualClassName = 'streamGraph';\n\n        private static Properties: any = {\n            general: {\n                formatString: <DataViewObjectPropertyIdentifier>{\n                    objectName: 'general',\n                    propertyName: 'formatString'\n                }\n            },\n            legend: {\n                show: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"legend\",\n                    propertyName: \"show\"\n                }\n            },\n            categoryAxis: {\n                show: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"categoryAxis\",\n                    propertyName: \"show\"\n                },\n                axisColor: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"categoryAxis\",\n                    propertyName: \"axisColor\"\n                },\n                showAxisTitle: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"categoryAxis\",\n                    propertyName: \"showAxisTitle\"\n                }\n            },\n            valueAxis: {\n                show: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"valueAxis\",\n                    propertyName: \"show\"\n                },\n                axisColor: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"valueAxis\",\n                    propertyName: \"axisColor\"\n                },\n                showAxisTitle: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"valueAxis\",\n                    propertyName: \"showAxisTitle\"\n                }\n            }\n        };\n\n        private static Layer: ClassAndSelector = {\n            'class': 'layer',\n            selector: '.layer'\n        };\n\n        private static XAxisLabel: ClassAndSelector = {\n            'class': 'xAxisLabel',\n            selector: '.xAxisLabel'\n        };\n\n        private static YAxisLabel: ClassAndSelector = {\n            'class': 'yAxisLabel',\n            selector: '.yAxisLabel'\n        };\n\n        private static MaxNumberOfAxisXValues: number = 5;\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: 'Category',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Category',\n                }, {\n                    name: 'Series',\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Series',\n                }, {\n                    name: 'Y',\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: data.createDisplayNameGetter('Role_DisplayName_Values'),\n                },\n            ],\n            dataViewMappings: [{\n                conditions: [\n                    { 'Category': { max: 1 }, 'Series': { max: 0 } },\n                    { 'Category': { max: 1 }, 'Series': { min: 1, max: 1 }, 'Y': { max: 1 } }\n                ],\n                categorical: {\n                    categories: {\n                        for: { in: 'Category' },\n                        dataReductionAlgorithm: { bottom: {} }\n                    },\n                    values: {\n                        group: {\n                            by: 'Series',\n                            select: [{ for: { in: 'Y' } }],\n                            dataReductionAlgorithm: { bottom: {} }\n                        }\n                    },\n                }\n            }],\n            objects: {\n                general: {\n                    displayName: 'General',\n                    properties: {\n                        formatString: { type: { formatting: { formatString: true } } },\n                        wiggle: {\n                            type: { bool: true },\n                            displayName: 'Wiggle'\n                        }\n                    }\n                },\n                categoryAxis: {\n                    displayName: 'X-Axis',\n                    properties: {\n                        show: {\n                            displayName: 'show',\n                            type: { bool: true }\n                        },\n                        showAxisTitle: {\n                            displayName: 'Title',\n                            type: { bool: true }\n                        },\n                        axisColor: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                valueAxis: {\n                    displayName: 'Y-Axis',\n                    properties: {\n                        show: {\n                            displayName: 'show',\n                            type: { bool: true }\n                        },\n                        showAxisTitle: {\n                            displayName: 'Title',\n                            type: { bool: true }\n                        },\n                        axisColor: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        }\n                    }\n                },\n                legend: {\n                    displayName: 'Legend',\n                    properties: {\n                        show: {\n                            displayName: 'show',\n                            type: { bool: true }\n                        },\n                        position: {\n                            displayName: 'Position',\n                            type: { enumeration: legendPosition.type }\n                        },\n                        showTitle: {\n                            displayName: 'Title',\n                            type: { bool: true }\n                        },\n                        titleText: {\n                            displayName: 'Legend Name',\n                            type: { text: true },\n                            suppressFormatPainterCopy: true\n                        },\n                        labelColor: {\n                            displayName: 'Color',\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        fontSize: {\n                            displayName: 'Text Size',\n                            type: { formatting: { fontSize: true } }\n                        }\n                    }\n                }\n            }\n        };\n\n        private margin: IMargin = { left: 45, right: 20, bottom: 20, top: 20 };\n\n        private viewport: IViewport;\n\n        private svg: D3.Selection;\n        private axisGraphicsContext: D3.Selection;\n        private xAxis: D3.Selection;\n        private yAxis: D3.Selection;\n        private colors: IDataColorPalette;\n        private selectionManager: utility.SelectionManager;\n        private dataView: DataView;\n        private legend: ILegend;\n        private legendObjectProperties: DataViewObject;\n        private data: StreamData;\n\n        public converter(dataView: DataView, colors: IDataColorPalette): StreamData {\n            if (!dataView || !dataView.categorical || !dataView.categorical.values || !dataView.categorical.categories)\n                return null;\n\n            let catDv: DataViewCategorical = dataView.categorical,\n                values: DataViewValueColumns = catDv.values,\n                dataPoints: StreamDataPoint[][] = [],\n                legendData: LegendData = {\n                    dataPoints: [],\n                    title: values[0].source.displayName,\n                    fontSize: StreamGraphDefaultFontSizeInPoints,\n                },\n                value: number = 0,\n                valueFormatter: IValueFormatter,\n                categoryFormatter: IValueFormatter;\n\n            for (let i = 0; i < values.length; i++) {\n                dataPoints.push([]);\n\n                if (values[i].source.groupName) {\n                    legendData.dataPoints.push({\n                        label: values[i].source.groupName,\n                        color: colors.getColorByIndex(i).value,\n                        icon: LegendIcon.Box,\n                        selected: false,\n                        identity: SelectionId.createWithId(values[i].identity)\n                    });\n                }\n\n                for (let k = 0; k < values[i].values.length; k++) {\n                    let id: SelectionId = SelectionIdBuilder\n                        .builder()\n                        .withSeries(dataView.categorical.values, dataView.categorical.values[i])\n                        .createSelectionId(),\n                        y: number = values[i].values[k];\n\n                    if (y > value) {\n                        value = y;\n                    }\n\n                    dataPoints[i].push({\n                        x: k,\n                        y: y,\n                        identity: id\n                    });\n                }\n            }\n\n            let streamGraphSettings: StreamGraphSettings = this.parseSettings(dataView);\n\n            valueFormatter = ValueFormatter.create({\n                format: \"g\",\n                value: value\n            });\n\n            categoryFormatter = ValueFormatter.create({\n                format: ValueFormatter.getFormatString(\n                    catDv.categories[0].source,\n                    StreamGraph.Properties.general.formatString),\n                value: catDv.categories[0].values\n            });\n\n            return {\n                dataPoints: dataPoints,\n                legendData: legendData,\n                valueFormatter: valueFormatter,\n                categoryFormatter: categoryFormatter,\n                streamGraphSettings: streamGraphSettings\n            };\n        }\n\n        private parseSettings(dataView: DataView): StreamGraphSettings {\n            if (!dataView || !dataView.metadata)\n                return StreamGraphDefaultSettings;\n\n            let objects: DataViewObjects = dataView.metadata.objects;\n            let streamGraphSettings = _.clone(StreamGraphDefaultSettings);\n\n            let categoryAxisSettings = streamGraphSettings.categoryAxisSettings;\n            categoryAxisSettings.show = DataViewObjects.getValue<boolean>(objects, StreamGraph.Properties.categoryAxis.show, categoryAxisSettings.show);\n            categoryAxisSettings.axisColor = <string>DataViewObjects.getFillColor(objects, StreamGraph.Properties.categoryAxis.axisColor, categoryAxisSettings.axisColor);\n            categoryAxisSettings.showAxisTitle = DataViewObjects.getValue<boolean>(objects, StreamGraph.Properties.categoryAxis.showAxisTitle, categoryAxisSettings.showAxisTitle);\n\n            let valueAxisSettings = streamGraphSettings.valueAxisSettings;\n            valueAxisSettings.show = DataViewObjects.getValue<boolean>(objects, StreamGraph.Properties.valueAxis.show, valueAxisSettings.show);\n            valueAxisSettings.axisColor = <string>DataViewObjects.getFillColor(objects, StreamGraph.Properties.valueAxis.axisColor, valueAxisSettings.axisColor);\n            valueAxisSettings.showAxisTitle = DataViewObjects.getValue<boolean>(objects, StreamGraph.Properties.valueAxis.showAxisTitle, valueAxisSettings.showAxisTitle);\n\n            return streamGraphSettings;\n        }\n\n        public init(options: VisualInitOptions): void {\n            let element: JQuery = options.element;\n\n            this.selectionManager = new SelectionManager({ hostServices: options.host });\n\n            this.svg = d3.select(element.get(0))\n                .append('svg')\n                .classed(StreamGraph.VisualClassName, true)\n                .style('position', 'absolute');\n\n            this.axisGraphicsContext = this.svg.append('g')\n                .classed(StreamGraphAxisGraphicsContextClassName, true);\n\n            this.xAxis = this.axisGraphicsContext.append(\"g\").classed(StreamGraphXAxisClassName, true);\n            this.yAxis = this.axisGraphicsContext.append(\"g\").classed(StreamGraphYAxisClassName, true);\n\n            this.colors = options.style.colorPalette.dataColors;\n\n            this.legend = createLegend(element, false, null, true);\n        }\n\n        public update(options: VisualUpdateOptions): void {\n            if (!options.dataViews || !options.dataViews[0] || !options.dataViews[0].categorical) {\n                this.clearData();\n                return;\n            };\n\n            this.viewport = {\n                width: Math.max(0, options.viewport.width),\n                height: Math.max(0, options.viewport.height)\n            };\n\n            let duration: number = options.suppressAnimations ? 0 : 250,\n                dataView: DataView = this.dataView = options.dataViews[0],\n                data: StreamData = this.data = this.converter(dataView, this.colors);\n\n            if (!data || !data.dataPoints || !data.dataPoints.length) {\n                this.clearData();\n                return;\n            }\n\n            let dataPoints: StreamDataPoint[][] = data.dataPoints;\n\n            this.renderLegend(data);\n            this.updateViewPort();\n            this.renderXAxisLabels();\n            this.renderYAxisLabels();\n\n            let height: number = Math.max(0, this.viewport.height - this.margin.top);\n\n            this.svg.attr({\n                'width': this.viewport.width,\n                'height': height\n            });\n\n            let stack: D3.Layout.StackLayout = d3.layout.stack();\n\n            if (this.getWiggle(dataView))\n                stack.offset('wiggle');\n\n            let layers: StreamDataPoint[][] = stack(dataPoints);\n\n            let xScale: D3.Scale.LinearScale = d3.scale.linear()\n                .domain([0, dataPoints[0].length - 1])\n                .range([this.margin.left, this.viewport.width - this.margin.right]);\n\n            let yScale: D3.Scale.LinearScale = d3.scale.linear()\n                .domain([0, d3.max(layers, (layer) => {\n                    return d3.max(layer, (d) => {\n                        return d.y0 + d.y;\n                    });\n                })])\n                .range([height - this.margin.bottom, this.margin.top]);\n\n            let area: D3.Svg.Area = d3.svg.area()\n                .interpolate('basis')\n                .x(d => xScale(d.x))\n                .y0(d => yScale(d.y0))\n                .y1(d => yScale(d.y0 + d.y));\n\n            let selectionManager: SelectionManager = this.selectionManager;\n\n            let selection: D3.UpdateSelection = this.svg.selectAll(StreamGraph.Layer.selector)\n                .data(layers);\n\n            selection.enter()\n                .append('path')\n                .classed(StreamGraph.Layer.class, true);\n\n            selection\n                .style(\"fill\", (d, i) => this.colors.getColorByIndex(i).value)\n                .on('click', function (d) {\n                    selectionManager.select(d[0].identity).then(ids=> {\n                        if (ids.length > 0) {\n                            selection.style('opacity', 0.5);\n                            d3.select(this).style('opacity', 1);\n                        } else\n                            selection.style('opacity', 1);\n                    });\n                })\n                .transition()\n                .duration(duration)\n                .attr(\"d\", area);\n\n            selection.exit().remove();\n\n            this.drawAxis(data, xScale, yScale);\n        }\n\n        private drawAxis(data: StreamData, xScale: D3.Scale.LinearScale, yScale: D3.Scale.LinearScale) {\n            let shiftY: number = this.viewport.height - this.margin.bottom - this.margin.top,\n                shiftX: number = this.viewport.width - this.margin.left - this.margin.right,\n                xAxis: D3.Svg.Axis = d3.svg.axis();\n\n            xAxis.scale(xScale)\n                .orient(\"bottom\")\n                .tickFormat(((item: any, index: number): any => {\n                    if (data.categoryFormatter)\n                        item = data.categoryFormatter.format(item);\n\n                    if (index != null && xAxis.tickValues() &&\n                        (index === 0 || index === xAxis.tickValues().length - 1)) {\n                        item = TextMeasurementService.getTailoredTextOrDefault(\n                            StreamGraph.getTextPropertiesFunction(item),\n                            (index ? this.margin.right : this.margin.left) * 2);\n                    }\n                    return item;\n                }).bind(xAxis));\n\n            let yAxis: D3.Svg.Axis = d3.svg.axis()\n                .scale(yScale)\n                .orient(\"left\")\n                .tickFormat((item: any): any => {\n                    if (data.valueFormatter) {\n                        return data.valueFormatter.format(item);\n                    }\n                    return item;\n                });\n\n            this.setMaxTicks(xAxis, shiftX, StreamGraph.MaxNumberOfAxisXValues);\n            this.setMaxTicks(yAxis, shiftY);\n\n            let valueAxisSettings = this.data.streamGraphSettings.valueAxisSettings;\n            if (valueAxisSettings.show) {\n                let axisColor: Fill = valueAxisSettings.axisColor;\n                this.yAxis\n                    .attr(\"transform\", SVGUtil.translate(this.margin.left, 0))\n                    .call(yAxis);\n                this.yAxis.selectAll(\"text\").style(\"fill\", axisColor);\n            } else\n                this.yAxis.selectAll(\"*\").remove();\n\n            let categoryAxisSettings = this.data.streamGraphSettings.categoryAxisSettings;\n            if (categoryAxisSettings.show) {\n                let axisColor: Fill = categoryAxisSettings.axisColor;\n                this.xAxis\n                    .attr(\"transform\", SVGUtil.translate(0, shiftY))\n                    .call(xAxis);\n                this.xAxis.selectAll(\"text\").style(\"fill\", axisColor);\n            } else\n                this.xAxis.selectAll(\"*\").remove();\n        }\n\n        private renderYAxisLabels(): void {\n            this.yAxis.selectAll(StreamGraph.YAxisLabel.selector).remove();\n\n            let valueAxisSettings: StreamGraphAxisSettings = this.data.streamGraphSettings.valueAxisSettings;\n            if (valueAxisSettings.show) {\n                this.margin.left = 45;\n                if (valueAxisSettings.showAxisTitle)\n                    if (this.dataView.categorical.values.source) {\n                        let marginLeft = this.margin.left = 65;\n                        let categoryAxisSettings: StreamGraphAxisSettings = this.data.streamGraphSettings.categoryAxisSettings;\n                        let isXAxisOn: boolean = categoryAxisSettings.show === true;\n                        let isXTitleOn: boolean = categoryAxisSettings.showAxisTitle === true;\n                        let height: number = isXAxisOn ? isXTitleOn ? this.viewport.height - this.margin.bottom : this.viewport.height - this.margin.top : this.viewport.height;\n                        let yAxisText: string = this.dataView.categorical.values.source.displayName;\n                        let yAxisClass: string = StreamGraph.YAxisLabel.class;\n                        let yAxisLabel: D3.Selection = this.yAxis.append(\"text\")\n                            .style(\"text-anchor\", \"middle\")\n                            .text(yAxisText)\n                            .call((text: D3.Selection) => {\n                                text.each(function () {\n                                    let text = d3.select(this);\n                                    text.attr({\n                                        class: yAxisClass,\n                                        transform: \"rotate(-90)\",\n                                        y: -marginLeft + 5,\n                                        x: -(height / 2),\n                                        dy: \"1em\"\n                                    });\n                                });\n                            });\n\n                        yAxisLabel.call(AxisHelper.LabelLayoutStrategy.clip,\n                            height,\n                            TextMeasurementService.svgEllipsis);\n                    } else\n                        valueAxisSettings.showAxisTitle = false;\n            } else\n                this.margin.left = 20;\n        }\n\n        private renderXAxisLabels(): void {\n            this.xAxis.selectAll(StreamGraph.XAxisLabel.selector).remove();\n\n            let categoryAxisSettings = this.data.streamGraphSettings.categoryAxisSettings;\n            if (categoryAxisSettings.show) {\n                this.margin.bottom = 20;\n                if (categoryAxisSettings.showAxisTitle)\n                    if (this.dataView.categorical.categories[0].source) {\n                        let marginBottom = this.margin.bottom = 40;\n                        let valueAxisSettings: StreamGraphAxisSettings = this.data.streamGraphSettings.valueAxisSettings;\n                        let isYAxisOn: boolean = valueAxisSettings.show === true;\n                        let isYTitleOn: boolean = valueAxisSettings.showAxisTitle === true;\n                        let width: number = isYAxisOn ? isYTitleOn ? this.viewport.width + this.margin.left : this.viewport.width + this.margin.right : this.viewport.width;\n                        let xAxisText: string = this.dataView.categorical.categories[0].source.displayName;\n                        let xAxisClass: string = StreamGraph.XAxisLabel.class;\n                        let xAxisLabel: D3.Selection = this.xAxis.append(\"text\")\n                            .style(\"text-anchor\", \"middle\")\n                            .text(xAxisText)\n                            .call((text: D3.Selection) => {\n                                text.each(function () {\n                                    let text = d3.select(this);\n                                    text.attr({\n                                        class: xAxisClass,\n                                        transform: SVGUtil.translate(width / 2, marginBottom - 5)\n                                    });\n                                });\n                            });\n\n                        xAxisLabel.call(AxisHelper.LabelLayoutStrategy.clip,\n                            width,\n                            TextMeasurementService.svgEllipsis);\n                    } else\n                        categoryAxisSettings.showAxisTitle = false;\n            } else\n                this.margin.bottom = 10;\n        }\n\n        private renderLegend(streamGraphData: StreamData): void {\n            let legendData: LegendData = streamGraphData.legendData;\n            if (!legendData || !this.dataView || !this.dataView.metadata)\n                return;\n\n            this.legendObjectProperties = DataViewObjects.getObject(this.dataView.metadata.objects, \"legend\", {});\n\n            if (this.legendObjectProperties) {\n                LegendData.update(legendData, this.legendObjectProperties);\n\n                let position: string = <string>this.legendObjectProperties[legendProps.position];\n\n                if (position)\n                    this.legend.changeOrientation(LegendPosition[position]);\n            }\n            this.legend.drawLegend(legendData, _.clone(this.viewport));\n            Legend.positionChartArea(this.svg, this.legend);\n        }\n\n        private updateViewPort(): void {\n            let legendMargins: IViewport = this.legend.getMargins();\n            let legendPosition = LegendPosition[<string>this.legendObjectProperties[legendProps.position]];\n\n            switch (legendPosition) {\n                case LegendPosition.Top:\n                case LegendPosition.TopCenter:\n                case LegendPosition.Bottom:\n                case LegendPosition.BottomCenter: {\n                    this.viewport.height -= legendMargins.height;\n                    break;\n                }\n                case LegendPosition.Left:\n                case LegendPosition.LeftCenter:\n                case LegendPosition.Right:\n                case LegendPosition.RightCenter: {\n                    this.viewport.width -= legendMargins.width;\n                    break;\n                }\n            }\n        }\n\n        private setMaxTicks(axis: D3.Svg.Axis, maxSize: number, maxValue?: number): void {\n            let maxTicks = maxValue === undefined\n                ? this.getTicksByAxis(axis).length\n                : Math.min(maxValue, this.getTicksByAxis(axis).length);\n\n            if (axis.scale().domain.toString() === d3.scale.linear().domain.toString())\n                axis.ticks(this.getFittedTickLength(axis, maxSize, maxTicks));\n            else\n                axis.tickValues(this.getFittedTickValues(axis, maxSize, maxTicks));\n        }\n\n        private getFittedTickLength(axis: D3.Svg.Axis, maxSize: number, maxTicks: number): number {\n            for (let ticks: any[] = this.getTicksByAxis(axis), measureTickFunction = this.getMeasureTickFunction(axis, ticks);\n                maxTicks > 0 && maxSize > 0 && (this.measureTicks(ticks, measureTickFunction) > maxSize || axis.scale().ticks([maxTicks]).length > maxTicks);\n                maxTicks-- , ticks = this.getTicksByAxis(axis)) {\n                axis.ticks(maxTicks);\n            }\n            return maxTicks;\n        }\n\n        private getFittedTickValues(axis: D3.Svg.Axis, maxSize: number, maxTicks: number): any[] {\n            let ticks: any[] = this.getTicksByAxis(axis),\n                maxWidthOf2Ticks: number,\n                tickPairsWidths: any[] = [],\n                measureTickFunction: (any) => number = this.getMeasureTickFunction(axis, ticks);\n\n            for (let currentMaxTicks: number = maxTicks, indexes: number[] = [];\n                maxTicks > 0 && maxSize > 0;\n                currentMaxTicks-- , indexes = []) {\n                switch (currentMaxTicks) {\n                    case 0:\n                        return [];\n                    case 1:\n                        indexes = [0];\n                        break;\n                    case 2:\n                        indexes = [0, ticks.length - 1];\n                        break;\n                    default:\n                        let takeEvery: number = ticks.length / (currentMaxTicks - 1);\n\n                        for (let i = 0; i < currentMaxTicks - 1; i++) {\n                            indexes.push(Math.round(takeEvery * i));\n                        }\n\n                        indexes.push(ticks.length - 1);\n                        break;\n                }\n\n                let ticksIndexes: any[][] = indexes.map(x => [ticks[x], x]);\n                maxWidthOf2Ticks = (maxSize / ticks.length) * 2;\n\n                ticksIndexes.reduce((a, b) => {\n                    tickPairsWidths.push([measureTickFunction(a[0]) + measureTickFunction(b[0]), (b[1] - a[1]) * maxWidthOf2Ticks]);\n                    return b;\n                });\n\n                if (!tickPairsWidths.some(x => x[0] > x[1])) {\n                    return ticksIndexes.map(x => x[0]);\n                }\n            }\n            return [];\n        }\n\n        private measureTicks(ticks: any[], measureTickFunction: (number) => any): number {\n            return ticks.map((x: any) => measureTickFunction(x)).reduce((a: number, b: number) => a + b);\n        }\n\n        private getTicksByAxis(axis: D3.Svg.Axis): any[] {\n            let scale = axis.scale();\n            let result: any = axis.tickValues() === null\n                ? scale.ticks\n                    ? scale.ticks.apply(scale, axis.ticks())\n                    : scale.domain()\n                : axis.tickValues();\n\n            return result.length === undefined ? [result] : result;\n        }\n\n        private getMeasureTickFunction(axis: D3.Svg.Axis, ticks: string[]): (number) => any {\n            let measureFunction = axis.orient() === \"top\" || axis.orient() === \"bottom\"\n                ? TextMeasurementService.measureSvgTextWidth\n                : TextMeasurementService.measureSvgTextHeight;\n\n            let cache = {};\n\n            return function (x: any): number {\n                return cache[x]\n                    ? cache[x]\n                    : cache[x] = measureFunction(StreamGraph.getTextPropertiesFunction(axis.tickFormat()(x))) + axis.tickPadding();\n            };\n        }\n\n        private static getTextPropertiesFunction(text: string): TextProperties {\n            let fontFamily: string = StreamGraphDefaultFontFamily,\n                fontSize: string = jsCommon.PixelConverter.fromPoint(StreamGraphDefaultFontSizeInPoints),\n                fontWeight: string = StreamGraphDefaultFontWeight;\n\n            return { text: text, fontFamily: fontFamily, fontSize: fontSize, fontWeight: fontWeight };\n        }\n\n        private getWiggle(dataView: DataView) {\n            if (dataView && dataView.metadata) {\n                let objects = dataView.metadata.objects;\n\n                if (objects) {\n                    let general = DataViewObjects.getObject(objects, 'general', undefined);\n\n                    if (general)\n                        return <boolean>general['wiggle'];\n                }\n            }\n            return true;\n        }\n\n        private enumerateValueAxisValues(enumeration: ObjectEnumerationBuilder): void {\n\n            let valueAxisSettings: StreamGraphAxisSettings = this.data && this.data.streamGraphSettings ? this.data.streamGraphSettings.valueAxisSettings : StreamGraphDefaultSettings.valueAxisSettings;\n\n            enumeration.pushInstance({\n                selector: null,\n                objectName: 'valueAxis',\n                displayName: \"Y-Axis\",\n                properties: {\n                    show: valueAxisSettings.show,\n                    showAxisTitle: valueAxisSettings.showAxisTitle,\n                    axisColor: valueAxisSettings.axisColor,\n                }\n            });\n        }\n\n        private enumerateCategoryAxisValues(enumeration: ObjectEnumerationBuilder): void {\n            let categoryAxisSettings: StreamGraphAxisSettings = this.data && this.data.streamGraphSettings ? this.data.streamGraphSettings.categoryAxisSettings : StreamGraphDefaultSettings.categoryAxisSettings;\n\n            enumeration.pushInstance({\n                selector: null,\n                objectName: 'categoryAxis',\n                displayName: \"X-Axis\",\n                properties: {\n                    show: categoryAxisSettings.show,\n                    showAxisTitle: categoryAxisSettings.showAxisTitle,\n                    axisColor: categoryAxisSettings.axisColor,\n                }\n            });\n        }\n\n        private enumerateLegend(enumeration: ObjectEnumerationBuilder): void {\n            let legendSettings: DataViewObject = this.legendObjectProperties ? this.legendObjectProperties : {};\n\n            enumeration.pushInstance({\n                selector: null,\n                objectName: 'legend',\n                displayName: \"Legend\",\n                properties: {\n                    show: this.data && this.data.streamGraphSettings ? this.data.streamGraphSettings.legendSettings.show : true,\n                    position: LegendPosition[this.legend.getOrientation()],\n                    showTitle: DataViewObject.getValue<boolean>(legendSettings, legendProps.showTitle, true),\n                    titleText: DataViewObject.getValue<string>(legendSettings, legendProps.titleText, \"\"),\n                    labelColor: DataViewObject.getValue<string>(legendSettings, legendProps.labelColor, DefaultLegendLabelFillColor),\n                    fontSize: DataViewObject.getValue<number>(legendSettings, legendProps.fontSize, DefaultLegendFontSizeInPt)\n                }\n            });\n        }\n\n        private clearData() {\n            this.svg.selectAll(StreamGraph.Layer.selector).remove();\n            this.legend.drawLegend({ dataPoints: [] }, this.viewport);\n            this.yAxis.selectAll(\"*\").remove();\n            this.xAxis.selectAll(\"*\").remove();\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstanceEnumeration {\n            let enumeration: ObjectEnumerationBuilder = new ObjectEnumerationBuilder(),\n                dataView = this.dataView;\n\n            switch (options.objectName) {\n                case 'legend':\n                    if (dataView\n                        && dataView.categorical\n                        && dataView.categorical.values\n                        && dataView.categorical.values.source)\n                            this.enumerateLegend(enumeration);\n                    break;\n                case 'categoryAxis':\n                    this.enumerateCategoryAxisValues(enumeration);\n                    break;\n                case 'valueAxis':\n                    this.enumerateValueAxisValues(enumeration);\n                    break;\n                case 'general':\n                    let general: VisualObjectInstance = {\n                        objectName: 'general',\n                        displayName: 'General',\n                        selector: null,\n                        properties: {\n                            wiggle: this.getWiggle(dataView)\n                        }\n                    };\n\n                    enumeration.pushInstance(general);\n                    break;\n            }\n            return enumeration.complete();\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import SelectionManager = utility.SelectionManager;\n    export interface SunburstSlice {\n        children?: SunburstSlice[];\n        value?: any;\n        color?: string;\n        name?: string;\n        parent?: SunburstSlice;\n        selector: SelectionId;\n        total: number;\n        tooltipInfo?: TooltipDataItem[];\n    }\n\n    export interface SunburstViewModel {\n        root: SunburstSlice;\n    }\n\n    export var sunburstRoleNames = {\n        nodes: 'Nodes',\n        values: 'Values',\n    };\n\n    export class Sunburst implements IVisual {\n        private static minOpacity = 0.2;\n        private svg: D3.Selection;\n        private g: D3.Selection;\n        private arc: D3.Svg.Arc;\n        private total: number = 0;\n        private viewport: IViewport;\n        private colors: IDataColorPalette;\n        private selectionManager: SelectionManager;\n\n        private static roleNames = {\n            nodes: 'Nodes',\n            values: 'Values',\n        };\n\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: Sunburst.roleNames.nodes,\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Groups'\n                }, {\n                    name: Sunburst.roleNames.values,\n                    kind: VisualDataRoleKind.Measure,\n                    displayName: 'Values'\n                }\n            ],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter('Visual_General'),\n                    properties: {\n                        formatString: {\n                            type: { formatting: { formatString: true } },\n                        },\n                    },\n                },\n            },\n            dataViewMappings: [{\n                conditions: [\n                    { 'Groups': { min: 0 }, 'Values': { max: 1 } },\n                ],\n                matrix: {\n                    rows: {\n                        for: { in: Sunburst.roleNames.nodes },\n                    },\n                    values: {\n                        for: { in: Sunburst.roleNames.values }\n                    },\n                }\n            }],\n        };\n\n        public init(options: VisualInitOptions): void {\n            this.arc = d3.svg.arc()\n                .startAngle(function(d) { return d.x; })\n                .endAngle(function(d) { return d.x + d.dx; })\n                .innerRadius(function(d) { return Math.sqrt(d.y); })\n                .outerRadius(function(d) { return Math.sqrt(d.y + d.dy); });\n\n            this.colors = options.style.colorPalette.dataColors;\n            this.selectionManager = new SelectionManager({ hostServices: options.host });\n            this.svg = d3.select(options.element.get(0)).append('svg');\n            this.svg.classed('mainDrawArea', true);\n            this.g = this.svg.append('g');\n            this.g.classed(\"container\", true);\n            this.svg.append(\"text\")\n                .classed(\"sunBurstPercentageFixed\", true);\n\n            this.svg.on('mousedown', (d) => {\n                this.svg.selectAll(\"path\").style(\"opacity\", 1);\n                this.svg.select(\".sunBurstPercentageFixed\").style(\"opacity\", 0);\n                this.selectionManager.clear();\n            });\n        }\n\n        private static setAllUnhide(selection): void {\n            selection.attr(\"setUnHide\", \"true\");\n        }\n\n        public update(options: VisualUpdateOptions): void {\n            if (options.dataViews.length > 0) {\n                var data = this.converter(options.dataViews[0], this.colors);\n                this.viewport = options.viewport;\n                this.updateInternal(data);\n            }\n        }\n\n        private updateInternal(dataRootNode: SunburstSlice): void {\n            this.svg.attr({\n                'height': this.viewport.height,\n                'width': this.viewport.width\n            });\n            this.g.attr('transform', SVGUtil.translate(this.viewport.width / 2, this.viewport.height / 2));\n            var radius = Math.min(this.viewport.width, this.viewport.height) / 2;\n            var partition = d3.layout.partition()\n                .size([2 * Math.PI, radius * radius])\n                .value((d) => { return d.value; });\n            var path = this.g.datum(dataRootNode).selectAll(\"path\")\n                .data(partition.nodes);\n            path.enter().append(\"path\");\n            path.attr(\"display\", (d) => { return d.depth ? null : \"none\"; })\n                .attr(\"d\", this.arc)\n                .style(\"stroke\", \"#fff\")\n                .style(\"fill\", (d) => { return d.color; })\n                .style(\"fill-rule\", \"evenodd\")\n                .on(\"mousedown\", (d) => {\n                    if (d.selector) {\n                        this.selectionManager.select(d.selector);\n                    }\n                    d3.selectAll(\"path\").call(Sunburst.setAllUnhide).attr('setUnHide', null);\n                    this.highlightPath(d, this, true);\n                    var percentageFixedText = this.svg.select(\".sunBurstPercentageFixed\");\n                    var percentage = this.total === 0 ? 0 : (100 * d.total / this.total).toPrecision(3);\n                    percentageFixedText.text(d ? percentage + \"%\" : \"\");\n                    percentageFixedText.style(\"fill\", d.color);\n                    this.onResize();\n                    event.stopPropagation();\n                });\n            this.renderTooltip(path);\n            path.exit().remove();\n\n            this.onResize();\n        }\n\n        // Get all parents of the node\n        private static getTreePath(node) {\n            var path = [];\n            var current = node;\n            while (current.parent) {\n                path.unshift(current);\n                current = current.parent;\n            }\n            return path;\n        }\n\n        private onResize(): void {\n            var width = this.viewport.width;\n            var height = this.viewport.height;\n            var percentageFixedText = this.svg.select(\".sunBurstPercentageFixed\");\n            var textWidth = powerbi.TextMeasurementService.measureSvgTextElementWidth(percentageFixedText[0][0]);\n\n            percentageFixedText.style(\"opacity\", 1);\n            percentageFixedText.attr(\"y\", (height / 2 + 4));\n            percentageFixedText.attr(\"x\", ((width / 2) - (textWidth / 2)));\n        }\n\n        private highlightPath(d, sunBurst, setUnhide): void {\n            var parentsArray = d ? Sunburst.getTreePath(d) : [];\n            // Set opacity for all the segments.\n            sunBurst.svg.selectAll(\"path\").each(function() {\n                if (d3.select(this).attr('setUnHide') !== 'true') {\n                    d3.select(this).style(\"opacity\", Sunburst.minOpacity);\n                }\n            });\n            // Highlight only ancestors of the current segment.\n            sunBurst.svg.selectAll(\"path\")\n                .filter(function(node) {\n                    return (parentsArray.indexOf(node) >= 0);\n                }).each(function() {\n                    d3.select(this).style(\"opacity\", 1);\n                    if (setUnhide === true) {\n                        d3.select(this).attr('setUnHide', 'true');\n                    }\n                });\n        }\n\n        private renderTooltip(selection: D3.UpdateSelection): void {\n            TooltipManager.addTooltip(selection, (tooltipEvent: TooltipEvent) => {\n                return (<SunburstSlice>tooltipEvent.data).tooltipInfo;\n            });\n        }\n\n        private static getTooltipData(displayName: string, value: number): TooltipDataItem[] {\n            return [{\n                displayName: displayName,\n                value: value < 0 ? \"\" : value.toString()\n            }];\n        }\n\n        private covertTreeNodeToSunBurstNode(originParentNode: DataViewTreeNode, sunburstParentNode: SunburstSlice,\n            colors: IColorScale, pathIdentity: DataViewScopeIdentity[], color): SunburstSlice {\n            var selector: powerbi.data.Selector;\n            if (originParentNode.identity) {\n                pathIdentity = pathIdentity.concat([originParentNode.identity]);\n                selector = { data: pathIdentity, };\n            }\n\n            var selectionId = pathIdentity.length === 0 ? null : new SelectionId(selector, false);\n            var valueToSet = originParentNode.values ? originParentNode.values[0].value : 0;\n\n            var newSunNode: SunburstSlice = {\n                name: originParentNode.name,\n                value: Math.max(valueToSet, 0),\n                selector: selectionId,\n                total: valueToSet\n            };\n            if (originParentNode.value) {\n                newSunNode.color = color ? color : colors.getColor(originParentNode.value).value;\n            }\n            this.total += newSunNode.value;\n            if (originParentNode.children && originParentNode.children.length > 0) {\n\n                newSunNode.tooltipInfo = Sunburst.getTooltipData(originParentNode.value, -1);\n\n                newSunNode.children = [];\n                for (var i = 0; i < originParentNode.children.length; i++) {\n                    var newChild = this.covertTreeNodeToSunBurstNode(originParentNode.children[i], newSunNode, colors, pathIdentity, newSunNode.color);\n                    newSunNode.children.push(newChild);\n                    newSunNode.total += newChild.total;\n                }\n            } else {\n                newSunNode.tooltipInfo = Sunburst.getTooltipData(originParentNode.value, valueToSet);\n            }\n            if (sunburstParentNode) {\n                newSunNode.parent = sunburstParentNode;\n            }\n\n            return newSunNode;\n        }\n\n        public converter(dataView: DataView, colors: IDataColorPalette): SunburstSlice {\n            var colorScale = colors.getNewColorScale();\n            this.total = 0;\n            var root: SunburstSlice = this.covertTreeNodeToSunBurstNode(dataView.matrix.rows.root, null, colorScale, [], undefined);\n\n            return root;\n        }\n    }\n}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *   \n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *   \n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.samples {\n    import ClassAndSelector = jsCommon.CssConstants.ClassAndSelector;\n    import SelectionManager = utility.SelectionManager;\n\n    export interface LineDotPoint {\n        time: number | Date;\n        value: number;\n        dot: number;\n        sum: number;\n        selector: SelectionId;\n    }\n\n    export interface Legend {\n        text: string;\n        transform?: string;\n        dx?: string;\n        dy?: string;\n    }\n\n    export interface LineDotChartViewModel {\n        points: LineDotPoint[];\n        settings: LineDotChartSettings;\n        xAxis: IAxisProperties;\n        yAxis: IAxisProperties;\n        yAxis2: IAxisProperties;\n        legends: Legend[];\n    };\n\n    export interface LineDotChartSettings {\n        lineFill: string;\n        lineThickness: number;\n        dotFill: string;\n        dotSizeMin: number;\n        dotSizeMax: number;\n        counterTitle: string;\n        // precision: number;\n        xAxisTitle: string;\n        yAxisTitle: string;\n        duration: number;\n        isanimated: boolean;\n        isstopped: boolean;\n    };\n\n    export class LineDotChart implements IVisual {\n        private selectionManager: SelectionManager;\n        private hostServices: IVisualHostServices;\n        private isDateTime: boolean;\n\n        private static DefaultSettings: LineDotChartSettings = {\n            lineFill: 'rgb(102, 212, 204)',\n            lineThickness: 3,\n            dotFill: '#005c55',\n            dotSizeMin: 4,\n            dotSizeMax: 38,\n            counterTitle: 'Total features',\n            // precision: 2,\n            xAxisTitle: '',\n            yAxisTitle: '',\n            duration: 20,\n            isanimated: true,\n            isstopped: true\n        };\n\n        /**\n        * Informs the System what it can do\n        * Fields, Formatting options, data reduction & QnA hints\n        */\n        public static capabilities: VisualCapabilities = {\n            dataRoles: [\n                {\n                    name: \"Date\",\n                    kind: VisualDataRoleKind.Grouping,\n                    displayName: 'Date'\n                }, \n                {\n                    name: \"Values\",\n                    kind: VisualDataRoleKind.Measure,\n                    displayName:'Values'\n                },\n                // {\n                //     name: \"Labels\",\n                //     kind: VisualDataRoleKind.Measure,\n                //     displayName: 'Labels'\n                // }\n            ],\n            dataViewMappings: [{\n                conditions: [{\n                    \"Date\": {\n                        min: 0,\n                        max: 1\n                    },\n                    \"Values\": {\n                        min: 0,\n                        max: 1\n                    },\n                    \"Labels\": {\n                        min: 0,\n                        max: 1\n                    }\n                }],\n                categorical: {\n                    categories: {\n                        for: { in: \"Date\" },\n                        dataReductionAlgorithm: { sample: {} }\n                    },\n                    values: {\n                        for: { in: \"Values\" }\n                    },\n                    // labels: {\n                    //     for: { in: \"Labels\" }\n                    // }\n                }\n            }],\n            objects: {\n                general: {\n                    displayName: data.createDisplayNameGetter(\"Visual_General\"),\n                    properties: {\n                        formatString: {\n                            type: {\n                                formatting: {\n                                    formatString: true\n                                }\n                            },\n                        }\n                    },\n                },\n                lineoptions: {\n                    displayName: 'Line',\n                    properties: {\n                        fill: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        lineThickness: {\n                            displayName: 'Thickness',\n                            type: { numeric: true }\n                        }\n                    }\n                },\n                dotoptions: {\n                    displayName: 'Dot',\n                    properties: {\n                        color: {\n                            displayName: data.createDisplayNameGetter('Visual_Fill'),\n                            type: { fill: { solid: { color: true } } }\n                        },\n                        dotSizeMin: {\n                            displayName: 'Min size',\n                            type: { numeric: true }\n                        },\n                        dotSizeMax: {\n                            displayName: 'Min size',\n                            type: { numeric: true }\n                        }\n                    }\n                },\n                counteroptions: {\n                    displayName: 'Counter',\n                    properties: {\n                        counterTitle: {\n                            displayName: 'Title',\n                            type: { text: true }\n                        }\n                    }\n                },\n                misc: {\n                    displayName: 'Animation',\n                    properties: {\n                        isanimated: {\n                            displayName: 'Animated',\n                            type: { bool: true }\n                        },\n                        isstopped: {\n                            displayName: 'Stop on load',\n                            type: { bool: true }\n                        },\n                        duration: {\n                            displayName: 'Time',\n                            type: { numeric: true }\n                        }\n                    }\n                }\n                // ,\n                // labels: {\n                //     displayName: data.createDisplayNameGetter('Visual_DataPointsLabels'),\n                //     properties: {\n                //         labelPrecision: {\n                //             displayName: data.createDisplayNameGetter('Visual_Precision'),\n                //             type: { numeric: true }\n                //         }\n                //     }\n                // }\n            }\n        };\n\n        private static Identity: ClassAndSelector = {\n            \"class\": \"lineDotChart\",\n            selector: \".lineDotChart\"\n        };\n\n        private static Axes: ClassAndSelector = {\n            \"class\": \"axes\",\n            selector: \".axes\"\n        };\n\n        private static Axis: ClassAndSelector = {\n            \"class\": \"axis\",\n            selector: \".axis\"\n        };\n\n        private static Legends: ClassAndSelector = {\n            \"class\": \"legends\",\n            selector: \".legends\"\n        };\n\n        private static Legend: ClassAndSelector = {\n            \"class\": \"legend\",\n            selector: \".legend\"\n        };\n\n        private static Values: ClassAndSelector = {\n            \"class\": \"line\",\n            selector: \".line\"\n        };\n\n        private static Properties: any = {\n            general: {\n                formatString: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"general\",\n                    propertyName: \"formatString\"\n                }\n            },\n            lineoptions: {\n                fill: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"lineoptions\",\n                    propertyName: \"fill\"\n                },\n                lineThickness: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"lineoptions\",\n                    propertyName: \"lineThickness\"\n                }\n            },\n            dotoptions: {\n                color: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"dotoptions\",\n                    propertyName: \"color\"\n                },\n                dotSizeMin: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"dotoptions\",\n                    propertyName: \"dotSizeMin\"\n                },\n                dotSizeMax: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"dotoptions\",\n                    propertyName: \"dotSizeMax\"\n                }\n            },\n            counteroptions: {\n                counterTitle: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"counteroptions\",\n                    propertyName: \"counterTitle\"\n                }\n            },\n            // labels: {\n            //     labelPrecision: <DataViewObjectPropertyIdentifier>{\n            //         objectName: \"labels\",\n            //         propertyName: \"labelPrecision\"\n            //     }\n            // },\n            misc: {\n                isanimated: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"misc\",\n                    propertyName: \"isanimated\"\n                },\n                isstopped: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"misc\",\n                    propertyName: \"isstopped\"\n                },\n                duration: <DataViewObjectPropertyIdentifier>{\n                    objectName: \"misc\",\n                    propertyName: \"duration\"\n                }\n            }\n        };\n\n        private model: LineDotChartViewModel;\n        private root: D3.Selection;\n        private main: D3.Selection;\n        private axes: D3.Selection;\n        private axisX: D3.Selection;\n        private axisY: D3.Selection;\n        private axisY2: D3.Selection;\n        private legends: D3.Selection;\n        private line: D3.Selection;\n        private colors: IDataColorPalette;\n\n        private margin: IMargin = {\n            top: 10,\n            right: 30,\n            bottom: 10,\n            left: 10\n        };\n\n        private LegendSize: number = 50;\n        private AxisSize: number = 30;\n\n        /* One time setup*/\n        public init(options: VisualInitOptions): void {\n            this.hostServices = options.host;\n            this.selectionManager = new SelectionManager({ hostServices: this.hostServices });\n            this.root = d3.select(options.element.get(0))\n                .append('svg')\n                .classed(LineDotChart.Identity.class, true);\n\n            this.root.on('click', (d: LineDotPoint) => { this.clearSelection(); } );\n\n            this.main = this.root.append('g');\n            this.axes = this.main.append('g').classed(LineDotChart.Axes.class, true);\n            this.axisX = this.axes.append('g').classed(LineDotChart.Axis.class, true);\n            this.axisY = this.axes.append('g').classed(LineDotChart.Axis.class, true);\n            this.axisY2 = this.axes.append('g').classed(LineDotChart.Axis.class, true);\n            this.legends = this.main.append('g').classed(LineDotChart.Legends.class, true);\n            this.line = this.main.append('g').classed(LineDotChart.Values.class, true);\n\n            this.colors = options.style && options.style.colorPalette\n                ? options.style.colorPalette.dataColors\n                : new DataColorPalette();\n        }\n\n        /* Called for data, size, formatting changes*/\n        public update(options: VisualUpdateOptions) {\n            if (!options.dataViews || !options.dataViews[0]) {\n                return;\n            }\n\n            var viewport: IViewport = options.viewport;\n            var model: LineDotChartViewModel = this.model = this.converter(options.dataViews[0], viewport);\n            // if (!model) {\n            //     return;\n            // }\n\n            this.clearSelection();\n            this.resize(viewport);\n            // this.draw(model, !options.suppressAnimations);\n            this.draw(model);\n        }\n\n        /*About to remove your visual, do clean up here */\n        public destroy() {\n            this.root = null;\n        }\n\n        public setIsStopped(isstopped: Boolean): void {\n            var objects: VisualObjectInstancesToPersist = {\n                merge: [\n                    <VisualObjectInstance>{\n                        objectName: \"misc\",\n                        selector: undefined,\n                        properties: {\n                            \"isstopped\": isstopped,\n                        }\n                    }\n                ]\n            };\n            this.hostServices.persistProperties(objects);\n            this.hostServices.onSelect({ data: [] });\n        }\n\n        public enumerateObjectInstances(options: EnumerateVisualObjectInstancesOptions): VisualObjectInstance[] {\n            var instances: VisualObjectInstance[] = [];\n\n            if (!this.model || !this.model.settings) {\n                return instances;\n            }\n\n            var settings: LineDotChartSettings = this.model.settings;\n\n            switch (options.objectName) {\n                case \"lineoptions\":\n                    var lineoptions: VisualObjectInstance = {\n                        objectName: \"lineoptions\",\n                        displayName: \"lineoptions\",\n                        selector: null,\n                        properties: {\n                            fill: settings.lineFill,\n                            lineThickness: settings.lineThickness\n                        }\n                    };\n\n                    instances.push(lineoptions);\n                    break;\n\n                case \"dotoptions\":\n                    var dotoptions: VisualObjectInstance = {\n                        objectName: \"dotoptions\",\n                        displayName: \"dotoptions\",\n                        selector: null,\n                        properties: {\n                            color: settings.dotFill,\n                            dotSizeMin: settings.dotSizeMin,\n                            dotSizeMax: settings.dotSizeMax\n                        }\n                    };\n\n                    instances.push(dotoptions);\n                    break;\n\n                case \"counteroptions\":\n                    var counteroptions: VisualObjectInstance = {\n                        objectName: \"counteroptions\",\n                        displayName: \"counteroptions\",\n                        selector: null,\n                        properties: {\n                            counterTitle: settings.counterTitle\n                        }\n                    };\n\n                    instances.push(counteroptions);\n                    break;\n\n                // case \"labels\":\n                //     var labels: VisualObjectInstance = {\n                //         objectName: \"labels\",\n                //         displayName: \"labels\",\n                //         selector: null,\n                //         properties: {\n                //             labelPrecision: settings.precision\n                //         }\n                //     };\n\n                //     instances.push(labels);\n                //     break;\n\n                case \"misc\": \n                    var misc: VisualObjectInstance = {\n                        objectName: \"misc\",\n                        displayName: \"misc\",\n                        selector: null,\n                        properties: {\n                            isanimated: settings.isanimated,\n                            isstopped: settings.isstopped,\n                            duration: settings.duration\n                        }\n                    };\n\n                    instances.push(misc);\n                    break;\n            }\n\n            return instances;\n        }\n\n        private selectDot(dotelement: SVGCircleElement, selector: SelectionId) {\n            var dot: D3.Selection = d3.select(dotelement);\n            if (!dot.classed('point_selected')) {\n                if (selector) {\n                    this.selectionManager.select(selector);\n                }\n\n                this.root.classed(\"filtered\", true);\n                this.line.selectAll('circle.point')\n                    .classed('point_selected', false);\n                d3.select(dotelement)\n                    .classed('point_selected', true);\n            } else {\n                this.clearSelection();\n            }\n\n            d3.event.stopPropagation();\n        }\n\n        private clearSelection(): void {\n            this.root.classed(\"filtered\", false);\n            this.root.selectAll(\"circle.point\").classed(\"point_selected\", false);\n            this.selectionManager.clear();\n        }\n\n        // Convert a DataView into a view model\n        private converter(dataView: DataView, viewport: IViewport): LineDotChartViewModel {\n            if (!dataView.categorical ||\n                !dataView.categorical.categories ||\n                !dataView.categorical.categories[0] ||\n                !dataView.categorical.categories[0].values ||\n                !(dataView.categorical.categories[0].values.length > 0) ||\n                !dataView.categorical ||\n                !dataView.categorical.values ||\n                !dataView.categorical.values[0] ||\n                !dataView.categorical.values[0].values ||\n                !(dataView.categorical.values[0].values.length > 0)\n            ) {\n                return null;\n            }\n\n            var values: any[] = [];\n            var metadataColumn: DataViewMetadataColumn;\n            var extent: any[];\n            var min: any;\n            var max: any;\n            var that = this;\n\n            var categoryType: ValueType = AxisHelper.getCategoryValueType(dataView.categorical.categories[0].source, true);\n            this.isDateTime = AxisHelper.isDateTime(categoryType);\n            var isScalar = true;\n\n            var settings: LineDotChartSettings = this.parseSettings(dataView);\n            var effectiveWidth: number = Math.max(0, viewport.width - this.margin.left - this.margin.right - this.LegendSize - this.AxisSize);\n            var effectiveHeight: number = Math.max(0, viewport.height - this.margin.top - this.margin.bottom - this.LegendSize);\n\n            var format: string = \"\";\n            var formatter: IValueFormatter;\n\n            // X for categories\n            values = dataView.categorical.categories[0].values;\n            metadataColumn = dataView.categorical.categories[0].source;\n            extent = d3.extent(values);\n\n            if (this.isDateTime) {\n                min = extent[0].getTime();\n                max = extent[1].getTime();\n\n                min = new Date(min);\n                max = new Date(max + (max - min)*.05);\n\n                // var xDomain: number[] = isScalar ? [min, max] : [min.getTime(), max.getTime()]\n                // var format: string = \"MMM dd yyyy HH:mm\";\n                format = \"MMM dd yyyy\";\n                formatter = valueFormatter.create({ format: format });\n            } else {\n                min = extent[0];\n                max = extent[1];\n\n                max = max + (max - min)*.05;\n\n                formatter = valueFormatter.create({ value: 0 });\n            }\n\n            var xAxis = AxisHelper.createAxis({\n                pixelSpan: effectiveWidth,\n                dataDomain: [min, max],\n                metaDataColumn: metadataColumn,\n                formatString: null,\n                //formatString: LineDotChart.Properties.general.formatString,\n                outerPadding: 0,\n                isCategoryAxis: true,\n                isScalar: isScalar,\n                isVertical: false,\n                forcedTickCount: undefined,\n                useTickIntervalForDisplayUnits: true,\n                // axisPrecision: settings.precision,\n                getValueFn: (index, type) => {\n                    if(that.isDateTime) {\n                        return formatter.format(new Date(index));\n                    } else {\n                        return index;\n                    }\n                }\n            });\n            xAxis.formatter = formatter;\n\n            metadataColumn = dataView.categorical.values[0].source;\n\n            values = dataView.categorical.values[0].values;\n            extent = d3.extent(values);\n            min = extent[0];\n            max = extent[1];\n\n            var result: LineDotPoint[] = [];\n            var value_sum: number = 0;\n            var value: number = 0;\n            var time: number = 0;\n            var selector: SelectionId;\n\n            for (var i = 0; i < dataView.categorical.categories[0].values.length; i++) {\n                value = dataView.categorical.values[0].values[i];\n                time = dataView.categorical.categories[0].values[i];\n                value_sum += value;\n                selector = SelectionId.createWithId(dataView.categorical.categories[0].identity[i]);\n                result.push({\n                    dot: (value - min) / (max - min),\n                    value: value,\n                    sum: value_sum,\n                    time: time,\n                    selector: selector\n                });\n            }\n\n            // make some space for counter + 25%\n            value_sum = value_sum + (value_sum - min) * 0.10;\n\n            var yAxis = AxisHelper.createAxis({\n                pixelSpan: effectiveHeight,\n                dataDomain: [min, value_sum],\n                metaDataColumn: metadataColumn,\n                formatString: null,\n                outerPadding: 0,\n                isCategoryAxis: false,\n                isScalar: true,\n                isVertical: true,\n                useTickIntervalForDisplayUnits: true\n            });\n\n            var yAxis2 = AxisHelper.createAxis({\n                pixelSpan: effectiveHeight,\n                dataDomain: [min, value_sum],\n                metaDataColumn: metadataColumn,\n                formatString: null,\n                outerPadding: 0,\n                isCategoryAxis: false,\n                isScalar: true,\n                isVertical: true,\n                useTickIntervalForDisplayUnits: true\n            });\n            yAxis2.axis.orient('right');\n\n            // Show gridlines on the chart to make the values more readable.\n            // TODO: Make this a configuration setting that can be toggled.\n            // xAxis.axis = xAxis.axis.tickSize(-effectiveHeight);\n            // yAxis.axis = yAxis.axis.tickSize(-effectiveWidth);\n            return {\n                points: result,\n                settings: settings,\n                xAxis: xAxis,\n                yAxis: yAxis,\n                yAxis2: yAxis2,\n                legends: this.generateAxisLabels(viewport, settings)\n            };\n        }\n\n        private parseSettings(dataView: DataView): LineDotChartSettings {\n            if (!dataView ||\n                !dataView.metadata ||\n                !dataView.metadata.columns ||\n                !dataView.metadata.columns[0]) {\n                return null;\n            }\n\n            var objects: DataViewObjects = dataView.metadata.objects;\n            var lineFillColorHelper: ColorHelper = new ColorHelper(this.colors, LineDotChart.Properties.lineoptions.fill, LineDotChart.DefaultSettings.lineFill);\n            var dotFillColorHelper: ColorHelper = new ColorHelper(this.colors, LineDotChart.Properties.dotoptions.color, LineDotChart.DefaultSettings.dotFill);\n            var xAxisTitle: string = LineDotChart.DefaultSettings.xAxisTitle;\n            var yAxisTitle: string = LineDotChart.DefaultSettings.yAxisTitle;\n\n            if (\n                dataView.categorical.categories[0] &&\n                dataView.categorical.categories[0].source &&\n                dataView.categorical.categories[0].source.displayName &&\n                dataView.categorical.values[0] &&\n                dataView.categorical.values[0].source &&\n                dataView.categorical.values[0].source.displayName) {\n                xAxisTitle = dataView.categorical.categories[0].source.displayName;\n                yAxisTitle = dataView.categorical.values[0].source.displayName;\n            }\n\n            var lineThickness: number = LineDotChart.DefaultSettings.lineThickness;\n            var dotSizeMin: number = LineDotChart.DefaultSettings.dotSizeMin;\n            var dotSizeMax: number = LineDotChart.DefaultSettings.dotSizeMax;\n            var counterTitle: string = LineDotChart.DefaultSettings.counterTitle;\n            var isanimated: boolean = LineDotChart.DefaultSettings.isanimated;\n            var isstopped: boolean = LineDotChart.DefaultSettings.isstopped;\n            var duration: number = LineDotChart.DefaultSettings.duration;\n            if (objects) {\n                lineThickness = DataViewObjects.getValue(\n                    objects,\n                    LineDotChart.Properties.lineoptions.lineThickness,\n                    LineDotChart.DefaultSettings.lineThickness\n                );\n                dotSizeMin = DataViewObjects.getValue(\n                    objects,\n                    LineDotChart.Properties.dotoptions.dotSizeMin,\n                    LineDotChart.DefaultSettings.dotSizeMin\n                );\n                dotSizeMax = DataViewObjects.getValue(\n                    objects,\n                    LineDotChart.Properties.dotoptions.dotSizeMax,\n                    LineDotChart.DefaultSettings.dotSizeMax\n                );\n                counterTitle = DataViewObjects.getValue(\n                    objects,\n                    LineDotChart.Properties.counteroptions.counterTitle,\n                    LineDotChart.DefaultSettings.counterTitle\n                );\n                isanimated = DataViewObjects.getValue(\n                    objects,\n                    LineDotChart.Properties.misc.isanimated,\n                    LineDotChart.DefaultSettings.isanimated\n                );\n                isstopped = DataViewObjects.getValue(\n                    objects,\n                    LineDotChart.Properties.misc.isstopped,\n                    LineDotChart.DefaultSettings.isstopped\n                );\n                duration = DataViewObjects.getValue(\n                    objects,\n                    LineDotChart.Properties.misc.duration,\n                    LineDotChart.DefaultSettings.duration\n                );\n                \n            }\n\n            return {\n                // precision: LineDotChart.getPrecision(objects),\n                xAxisTitle: xAxisTitle,\n                yAxisTitle: yAxisTitle,\n                lineFill: lineFillColorHelper.getColorForMeasure(objects, ''),\n                lineThickness: lineThickness,\n                dotFill: dotFillColorHelper.getColorForMeasure(objects, ''),\n                dotSizeMin: dotSizeMin,\n                dotSizeMax: dotSizeMax,\n                counterTitle: counterTitle,\n                isstopped: isstopped,\n                isanimated: isanimated,\n                duration: duration\n            };\n        }\n\n        // private static getPrecision(objects: DataViewObjects): number {\n        //     if (!objects) {\n        //         return LineDotChart.DefaultSettings.precision;\n        //     }\n\n        //     var precision: number = DataViewObjects.getValue(\n        //         objects,\n        //         LineDotChart.Properties.labels.labelPrecision,\n        //         LineDotChart.DefaultSettings.precision);\n\n        //     if (precision < LineDotChart.MinPrecision) {\n        //         return LineDotChart.MinPrecision;\n        //     }\n\n        //     return precision;\n        // }\n\n        private generateAxisLabels(viewport: IViewport, settings: LineDotChartSettings): Legend[] {\n            return [\n                {\n                    transform: SVGUtil.translate(\n                        (viewport.width - this.margin.left - this.margin.right) / 2,\n                        (viewport.height - this.margin.top - this.margin.bottom)),\n                    text: settings.xAxisTitle,\n                    dx: \"1em\",\n                    dy: \"-1em\"\n                }, {\n                    transform: SVGUtil.translateAndRotate(\n                        0,\n                        (viewport.height - this.margin.top - this.margin.bottom) / 2,\n                        0,\n                        0,\n                        270),\n                    text: settings.yAxisTitle,\n                    dx: \"3em\"\n                }\n            ];\n        }\n\n        private resize(viewport: IViewport): void {\n            this.root.attr({\n                'height': Math.max(0, viewport.height),\n                'width': Math.max(0, viewport.width)\n            });\n\n            this.main.attr('transform', SVGUtil.translate(this.margin.left, this.margin.top));\n            this.legends.attr('transform', SVGUtil.translate(this.margin.left, this.margin.top));\n            this.line.attr('transform', SVGUtil.translate(this.margin.left + this.LegendSize, 0));\n            this.axes.attr('transform', SVGUtil.translate(this.margin.left + this.LegendSize, 0));\n            this.axisX.attr('transform', SVGUtil.translate(0, viewport.height - this.margin.top - this.margin.bottom - this.LegendSize));\n            this.axisY2.attr('transform', SVGUtil.translate(viewport.width - this.margin.left - this.margin.right - this.LegendSize - this.AxisSize, 0));\n        }\n\n        private draw(model: LineDotChartViewModel): void {\n            var that = this;\n            // Clear canvas\n            this.line.selectAll('*').remove();\n\n            this.legends.selectAll('*').remove();\n            this.axisX.selectAll('*').remove();\n            this.axisY.selectAll('*').remove();\n            this.axisY2.selectAll('*').remove();\n\n            if (!model) {\n                return;\n            }\n\n            this.renderLegends(model);\n\n            if (model && model.points && model.points.length) {\n\n                this.axisX.call(model.xAxis.axis);\n                this.axisY.call(model.yAxis.axis);\n                this.axisY2.call(model.yAxis2.axis);\n\n                if (model.settings.isanimated) {\n                    var playBtn = this.line\n                        .append(\"g\")\n                        .classed(\"lineDotChart__playBtn\", true)\n                        .attr(\"transform\", \"translate(40, 20)\");\n\n                    playBtn\n                        .append(\"circle\")\n                        .attr(\"r\", 34 / 2);\n\n                    // play / reset buttin\n                    if (model.settings.isstopped) {\n                        playBtn\n                            .append(\"path\")\n                            .attr(\"d\", \"M0 2l10 6-10 6z\")\n                            .attr(\"transform\", \"translate(-4,-8)\");\n\n                        playBtn\n                            .on('click.lineDotChart__playBt', function() {\n                                that.setIsStopped(false);\n                            });\n\n                        return;\n                    } else {\n                        playBtn\n                            .append(\"path\")\n                            .attr(\"d\", \"M0 2l10 6-10 6z\")\n                            .attr(\"transform-origin\", \"center\")\n                            .attr(\"transform\", \"translate(6, 8) rotate(180)\");\n\n                        playBtn\n                            .append(\"rect\")\n                            .attr(\"width\", \"2\")\n                            .attr(\"height\", \"12\")\n                            .attr(\"transform\", \"translate(-7,-6)\");\n\n                        playBtn\n                            .on('click.lineDotChart__playBt', function() {\n                                that.setIsStopped(true);\n                            });\n                    }\n                }\n\n                var clip = this.line\n                    .append(\"clipPath\")\n                    .attr(\"id\", \"lineClip\")\n                    .append(\"rect\")\n                    .attr(\"x\", 0)\n                    .attr(\"y\", 0)\n                    .attr(\"width\", 1)\n                    .attr(\"height\", 10000);\n\n                // Draw the line\n                var line: D3.Svg.Line = d3.svg.line()\n                    .x((d: LineDotPoint) => model.xAxis.scale(d.time))\n                    .y((d: LineDotPoint) => model.yAxis.scale(d.sum));\n                    // .interpolate(\"basis\");\n\n                var lineSelection: D3.UpdateSelection = this.line.selectAll('path.plot')\n                    .data([model.points]);\n\n                lineSelection.enter().append('path');\n                lineSelection\n                    .classed('plot', true)\n                    .attr('stroke', (d, i) => model.settings.lineFill)\n                    .attr('stroke-width', model.settings.lineThickness)\n                    .attr('d', line);\n\n                var totalLength: number = (<SVGPathElement>lineSelection.node()).getTotalLength();\n                var line_left = (<SVGPathElement>lineSelection.node()).getPointAtLength(0).x;\n                var line_right = (<SVGPathElement>lineSelection.node()).getPointAtLength(totalLength).x;\n\n                lineSelection\n                    .attr(\"clip-path\", \"url(\" + location.href + \"#lineClip)\");\n\n                if(!model.settings.isanimated) {\n                    clip\n                        .interrupt()\n                        .attr('x', line_left)\n                        .attr('width', line_right - line_left);\n                } else {\n                    clip\n                        .attr('x', line_left)\n                        .interrupt()\n                        .transition()\n                        .ease(\"linear\")\n                        .duration(model.settings.duration * 1000)\n                        .attr('width', line_right - line_left);\n                }\n                lineSelection\n                    .exit().remove();\n\n                var point_time: number = 300;\n                var counter_time: number = 0; // point_time / 100;\n\n                // Draw the individual data points that will be shown on hover with a tooltip\n                var lineTipSelection: D3.UpdateSelection = this.line.selectAll('circle.point')\n                    .data(model.points);\n\n                var that = this;\n\n                lineTipSelection.enter()\n                    .append('circle')\n                    .attr('fill', model.settings.dotFill)\n                    .attr('opacity', .77)\n                    .attr('r', (d: LineDotPoint) => model.settings.dotSizeMin + d.dot * (model.settings.dotSizeMax - model.settings.dotSizeMin))\n                    .classed('point', true)\n                    .on('mouseover.point', this.showDataPoint)\n                    .on('mouseout.point', this.hideDataPoint)\n                    .on(\"click.point\", function(d: LineDotPoint) {\n                        that.selectDot(this, d.selector);\n                    });\n\n                if (!model.settings.isanimated) {\n                    lineTipSelection\n                        .interrupt()\n                        .attr('transform', (d: LineDotPoint) => \n                            'translate(' + model.xAxis.scale(d.time) + ' ' + model.yAxis.scale(d.sum) + ') scale(1)'\n                        );\n                } else {\n                    lineTipSelection\n                        .interrupt()\n                        .attr('transform', (d: LineDotPoint) => \n                            'translate(' + model.xAxis.scale(d.time) + ' ' + model.yAxis.scale(d.sum) + ') scale(0.005)'\n                        )\n                        .transition()\n                        .duration(point_time)\n                        .delay((d: LineDotPoint, i: number) => this.pointDelay(model.points, i, model.settings.duration))\n                        .ease(\"linear\")\n                        .attr('transform', (d: LineDotPoint) => \n                            'translate(' + model.xAxis.scale(d.time) + ' ' + model.yAxis.scale(d.sum) + ') scale(3.4)'\n                        )\n                        .transition()\n                        .duration(point_time)\n                        .delay((d: LineDotPoint, i: number) => this.pointDelay(model.points, i, model.settings.duration) + point_time)\n                        .ease(\"elastic\")\n                        .attr('transform', (d: LineDotPoint) =>\n                            'translate(' + model.xAxis.scale(d.time) + ' ' + model.yAxis.scale(d.sum) + ') scale(1)'\n                        );\n                }\n\n                lineTipSelection.exit().remove();\n\n                for (var i = 0; i < lineTipSelection[0].length; i++) {\n                    this.addTooltip(model, lineTipSelection[0][i]);\n                }\n\n                // Feature Counter text \n                var lineTextSelection: D3.UpdateSelection = this.line.selectAll('text')\n                    .data(model.points);\n\n                lineTextSelection.enter()\n                    .append(\"text\")\n                    .classed('text', true)\n                    .text((d: LineDotPoint, i: number) => {\n                        // if (model.points[i + 1]) {\n                            return model.settings.counterTitle + ' ' + (i + 1);\n                        // } else {\n                        //     // TODO: CRAZY hard code\n                        //     return model.settings.counterTitle + ' 265'\n                        // }\n                    })\n                    .attr('x', line_right - 260)\n                    .attr('y', 30);\n\n                if (!model.settings.isanimated) {\n                    // opacity 1 only for last\n                    lineTextSelection\n                        .interrupt()\n                        .attr('transform', 'translate(0 0)')\n                        .attr('opacity', (d: LineDotPoint, i: number) => Number(i === model.points.length - 1));\n                } else {\n                    lineTextSelection\n                        // .attr('transform', 'translate(-40 0)')\n                        .attr('opacity', 0)\n                        .interrupt()\n                        .transition()\n                        .duration(counter_time)\n                        .delay((d: LineDotPoint, i: number) => this.pointDelay(model.points, i, model.settings.duration))\n                        .attr('transform', 'translate(0 0)')\n                        .attr('opacity', 1)\n                        .transition()\n                        .duration(counter_time)\n                        .delay((d: LineDotPoint, i: number) => {\n                            if (model.points[i + 1]) {\n                                return this.pointDelay(model.points, i+1, model.settings.duration);\n                            } else {\n                                return Number.POSITIVE_INFINITY;\n                            }\n                        })\n                        // .attr('transform', 'translate(40 0)')\n                        .attr('opacity', 0)\n                     ;\n\n                }\n                lineTextSelection.exit().remove();\n\n            }\n        }\n\n        private pointDelay(points: LineDotPoint[], num: number, animation_duration: number): number {\n            if (!points.length || !points[num] || num === 0) {\n                return 0;\n            }\n            if (this.isDateTime) {\n                let time: Date = <Date>points[num].time;\n                var min: number = (<Date>points[0].time).getTime();\n                var max: number = (<Date>points[points.length - 1].time).getTime();\n                var val: number = time.getTime();\n            } else {\n                let time: number = <number>points[num].time;\n                var min: number = <number>points[0].time;\n                var max: number = <number>points[points.length - 1].time;\n                var val: number = time;\n            }\n            return animation_duration * 1000 * (val - min) / (max - min);\n        }\n\n        private showDataPoint(data: LineDotPoint, index: number): void {\n            d3.select(<any>this).classed('show', true);\n        }\n\n        private hideDataPoint(data: LineDotPoint, index: number): void {\n            d3.select(<any>this).classed('show', false);\n        }\n\n        private addTooltip(model: LineDotChartViewModel, element: any): void {\n            var selection: D3.Selection = d3.select(element);\n            var data: LineDotPoint = selection.datum();\n            TooltipManager.addTooltip(selection, (event) => {\n                return [\n                    {\n                        displayName: model.settings.xAxisTitle,\n                        value: model.xAxis.formatter.format(data.time)\n                    },\n                    {\n                        displayName: model.settings.yAxisTitle,\n                        value: data.value.toString()\n                    }\n                ];\n            });\n        }\n\n        private renderLegends(model: LineDotChartViewModel): void {\n            var legendSelection: D3.UpdateSelection = this.legends\n                .selectAll(LineDotChart.Legend.selector)\n                .data(model.legends);\n\n            legendSelection\n                .enter()\n                .append(\"svg:text\");\n\n            legendSelection\n                .attr(\"x\", 0)\n                .attr(\"y\", 0)\n                .attr(\"dx\", (item: Legend) => item.dx)\n                .attr(\"dy\", (item: Legend) => item.dy)\n                .attr(\"transform\", (item: Legend) => item.transform)\n                .text((item: Legend) => item.text)\n                .classed(LineDotChart.Legend.class, true);\n\n            legendSelection\n                .exit()\n                .remove();\n        }\n    }\n}\n","/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved. \r\n *  MIT License\r\n *\r\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\r\n *  in the Software without restriction, including without limitation the rights\r\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *  copies of the Software, and to permit persons to whom the Software is\r\n *  furnished to do so, subject to the following conditions:\r\n *\r\n *  The above copyright notice and this permission notice shall be included in \r\n *  all copies or substantial portions of the Software.\r\n *\r\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \r\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \r\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \r\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \r\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n *  THE SOFTWARE.\r\n */\r\n\r\nmodule powerbi.visuals.plugins {\r\n    export let sunburstCustom: IVisualPlugin = {\r\n        name: 'sunburstCustom',\r\n        watermarkKey: 'defaultWatermark',\r\n        capabilities: samples.Sunburst.capabilities,\r\n        create: () => new samples.Sunburst()\r\n    };\r\n\r\n    export let asterPlot: IVisualPlugin = {\r\n        name: 'asterPlot',\r\n        capabilities: samples.AsterPlot.capabilities,\r\n        create: () => new samples.AsterPlot()\r\n    };\r\n\r\n    export var tornadoChart: IVisualPlugin = {\r\n        name: \"tornadoChart\",\r\n        capabilities: samples.TornadoChart.capabilities,\r\n        create: () => new samples.TornadoChart()\r\n    };\r\n\r\n    export var sankeyDiagram: IVisualPlugin = {\r\n        name: \"sankeyDiagram\",\r\n        capabilities: samples.SankeyDiagram.capabilities,\r\n        create: () => new samples.SankeyDiagram()\r\n    };\r\n\r\n    export let mekkoChart: IVisualPlugin = {\r\n        name: 'mekkoChart',\r\n        watermarkKey: 'mekko',\r\n        capabilities: samples.MekkoChart.capabilities,\r\n        create: () => new samples.MekkoChart({ chartType: samples.MekkoChartType.HundredPercentStackedColumn }),\r\n        customizeQuery: ColumnChart.customizeQuery,\r\n        getSortableRoles: (visualSortableOptions?: VisualSortableOptions) => ColumnChart.getSortableRoles(visualSortableOptions),\r\n    };\r\n    \r\n    export var bulletChart: IVisualPlugin = {\r\n        name: \"bulletChart\",\r\n        capabilities: samples.BulletChart.capabilities,\r\n        create: () => new samples.BulletChart()\r\n    };\r\n\t\r\n\texport var wordCloud: IVisualPlugin = {\r\n        name: \"wordCloud\",\r\n        capabilities: samples.WordCloud.capabilities,\r\n        create: () => new samples.WordCloud()\r\n    };\r\n\t\r\n\texport var chicletSlicer: IVisualPlugin = {\r\n        name: 'chicletSlicer',\r\n        capabilities: samples.ChicletSlicer.capabilities,\r\n        create: () => new samples.ChicletSlicer()\r\n    };\r\n\t\r\n\texport var chordChart: IVisualPlugin = {\r\n        name: \"chordChart\",\r\n        capabilities: samples.ChordChart.capabilities,\r\n        create: () => new samples.ChordChart()\r\n    };\r\n\t\r\n\texport var enhancedScatterChart: IVisualPlugin = {\r\n        name: 'enhancedScatterChart',\r\n        capabilities: samples.EnhancedScatterChart.capabilities,\r\n        create: () => new samples.EnhancedScatterChart()\r\n    };\r\n\t\r\n\texport var radarChart: IVisualPlugin = {\r\n        name: 'radarChart',\r\n        capabilities: samples.RadarChart.capabilities,\r\n        create: () => new samples.RadarChart()\r\n    };\r\n\t\r\n\texport var dotPlot: IVisualPlugin = {\r\n        name: 'dotPlot',\r\n        capabilities: samples.DotPlot.capabilities,\r\n        create: () => new samples.DotPlot()\r\n    };\r\n\r\n    export var histogram: IVisualPlugin = {\r\n        name: \"histogram\",\r\n        capabilities: samples.Histogram.capabilities,\r\n        create: () => new samples.Histogram()\r\n    };\r\n    \r\n    export var colorBarChart: IVisualPlugin = {\r\n        name: \"colorBarChart\",\r\n        capabilities: samples.ColorBarChart.capabilities,\r\n        create: () => new samples.ColorBarChart()\r\n    };\r\n\r\n\texport var timeline: IVisualPlugin = {\r\n        name: 'timeline',\r\n        capabilities: samples.Timeline.capabilities,\r\n        create: () => new samples.Timeline()\r\n    };\r\n\t\r\n\texport var forceGraph: IVisualPlugin = {\r\n        name: \"forceGraph\",\r\n        capabilities: samples.ForceGraph.capabilities,\r\n        create: () => new samples.ForceGraph()\r\n    };\r\n\r\n    export let gantt: IVisualPlugin = {\r\n        name: \"gantt\",\r\n        capabilities: samples.Gantt.capabilities,\r\n        create: () => new samples.Gantt()\r\n    };\r\n\r\n    export let streamGraph: IVisualPlugin = {\r\n        name: \"streamGraph\",\r\n        capabilities: samples.StreamGraph.capabilities,\r\n        create: () => new samples.StreamGraph()\r\n    };\r\n\r\n    export var lineDotChart: IVisualPlugin = {\r\n        name: \"lineDotChart\",\r\n        capabilities: samples.LineDotChart.capabilities,\r\n        create: () => new samples.LineDotChart()\r\n    };\r\n    \r\n    \r\n}","\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved. \n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in \n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n\nmodule powerbi.visuals.visualPluginFactory {\n    export class CustomVisualPluginService extends VisualPluginService {\n        private customVisualPlugins: jsCommon.IStringDictionary<IVisualPlugin>;\n\n        public constructor() {\n            super({});\n\n            this.initCustomVisualPlugins();\n        }\n\n        public getVisuals(): IVisualPlugin[] {\n            let registry: jsCommon.IStringDictionary<IVisualPlugin> = this.customVisualPlugins,\n                names: string[] = Object.keys(registry);\n\n            return names.map((name: string) => registry[name]);\n        }\n\n        public getPlugin(type: string): IVisualPlugin {\n            if (!type) {\n                return null;\n            }\n\n            let plugin: IVisualPlugin = this.customVisualPlugins[type];\n\n            if (!plugin) {\n                return null;\n            }\n\n            return plugin;\n        }\n\n        public capabilities(type: string): VisualCapabilities {\n            let plugin: IVisualPlugin = this.getPlugin(type);\n\n            if (plugin) {\n                return plugin.capabilities;\n            }\n\n            return {};\n        }\n\n        private initCustomVisualPlugins(): void {\n            // Aster Plot\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.asterPlot, () => new samples.AsterPlot());\n\n            // Tornado Chart\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.tornadoChart, () => new samples.TornadoChart({\n                animator: new BaseAnimator()\n            }));\n\n            // Sankey Diagram\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.sankeyDiagram, () => new samples.SankeyDiagram());\n\n            // Mekko Chart\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.mekkoChart, () => new samples.MekkoChart({\n                chartType: samples.MekkoChartType.HundredPercentStackedColumn,\n                isScrollable: true,\n                animator: new WebColumnChartAnimator(),\n                behavior: new CartesianChartBehavior([new ColumnChartWebBehavior()])\n            }));\n\n            // Bullet Chart\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.bulletChart, () => new samples.BulletChart());\n\n            // Word Cloud\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.wordCloud, () => new samples.WordCloud({\n                animator: new BaseAnimator()\n            }));\n\n            // Chiclet Slicer\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.chicletSlicer, () => new samples.ChicletSlicer({\n                behavior: new samples.ChicletSlicerWebBehavior()\n            }));\n\n            // Enhanced Scatter Chart\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.enhancedScatterChart, () => new samples.EnhancedScatterChart());\n\n            // Radar Chart\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.radarChart, () => new samples.RadarChart({\n                animator: new BaseAnimator()\n            }));\n            // DotPlot\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.dotPlot, () => new samples.DotPlot({\n                animator: new BaseAnimator()\n            }));\n\n            // Histogram\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.histogram, () => new samples.Histogram({\n                animator: new BaseAnimator()\n            }));\n\n            // Force Graph\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.forceGraph, () => new samples.ForceGraph());\n\n            // Gantt Chart\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.gantt, () => new samples.Gantt());\n\n            // Stream Graph\n            createPlugin(this.customVisualPlugins, powerbi.visuals.plugins.streamGraph, () => new samples.StreamGraph());\n        }\n    }\n\n    export function createCustomVisualPluginService(): IVisualPluginService {\n        return new CustomVisualPluginService();\n    }\n}"],"sourceRoot":"../ts/customVisuals"}